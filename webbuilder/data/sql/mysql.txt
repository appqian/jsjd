CREATE TABLE WB_BBS_FILE
(
  FILE_ID VARCHAR(12) NOT NULL PRIMARY KEY,
  CREATE_DATE DATETIME NOT NULL,
  FILE_NAME VARCHAR(255) NOT NULL,
  FILE_SIZE NUMERIC(10) NOT NULL,
  FILE_CONTENT LONGBLOB
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE WB_BBS_POST
(
  BBS_ID VARCHAR(12) NOT NULL,
  POST_DATE DATETIME NOT NULL,
  POST_USER VARCHAR(12) NOT NULL,
  POST_ID VARCHAR(12) NOT NULL,
  CONTENT LONGTEXT
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE INDEX WB_BBS_POST_IDX1 ON WB_BBS_POST (BBS_ID, POST_DATE);
CREATE INDEX WB_BBS_POST_IDX2 ON WB_BBS_POST(POST_USER);

CREATE TABLE WB_BBS_TITLE
(
  BBS_ID VARCHAR(12) NOT NULL PRIMARY KEY,
  TITLE VARCHAR(255) NOT NULL,
  SET_TOP NUMERIC(1) NOT NULL,
  CREATE_DATE DATETIME NOT NULL,
  CREATE_USER VARCHAR(12) NOT NULL,
  REPLY_COUNT NUMERIC(8) NOT NULL,
  VIEW_COUNT NUMERIC(8) NOT NULL,
  POST_DATE DATETIME NOT NULL,
  POST_USER VARCHAR(12) NOT NULL,
  CONTENT LONGTEXT
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE INDEX WB_BBS_TITLE_IDX1 ON WB_BBS_TITLE(SET_TOP, POST_DATE);
CREATE INDEX WB_BBS_TITLE_IDX2 ON WB_BBS_TITLE(CREATE_USER);
CREATE INDEX WB_BBS_TITLE_IDX3 ON WB_BBS_TITLE(POST_USER);

CREATE TABLE WB_CUST
(
  CUST_ID VARCHAR(12) NOT NULL PRIMARY KEY,
  CUST_NO VARCHAR(5) NOT NULL,
  COMPANY VARCHAR(50),
  ADDR VARCHAR(50),
  COUNTRY VARCHAR(20),
  TAX_RATE NUMERIC(6,2),
  INVOICE_DATE DATETIME,
  REMARK LONGTEXT
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE WB_DUAL
(
  DMY NUMERIC(1)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE WB_KEY
(
  KEY_ID VARCHAR(12) NOT NULL PRIMARY KEY,
  KEY_TYPE VARCHAR(50) NOT NULL,
  KEY_NAME VARCHAR(50) NOT NULL,
  KEY_VALUE VARCHAR(200) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE INDEX WB_KEY_IDX ON WB_KEY(KEY_TYPE);

CREATE TABLE WB_LOG
(
  LOG_DATE DATETIME NOT NULL,
  USER_NAME VARCHAR(50) NOT NULL,
  IP VARCHAR(50) NOT NULL,
  LOG_TYPE NUMERIC(1) NOT NULL,
  MSG VARCHAR(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE INDEX WB_LOG_IDX ON WB_LOG(LOG_DATE);

CREATE TABLE WB_META
(
  META_NAME VARCHAR(30) NOT NULL PRIMARY KEY,
  META_TYPE VARCHAR(50) NOT NULL,
  META_CONTENT LONGTEXT NOT NULL,
  ORDER_INDEX NUMERIC(6) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE INDEX WB_META_IDX ON WB_META(ORDER_INDEX);

CREATE TABLE WB_MODULE
(
  MODULE_ID VARCHAR(12) NOT NULL PRIMARY KEY,
  PARENT_ID VARCHAR(12) NOT NULL,
  MODULE_CONTENT LONGTEXT,
  DISPLAY_NAME VARCHAR(255),
  DISPLAY_ICON VARCHAR(50),
  IS_HIDDEN NUMERIC(1),
  NEW_WIN NUMERIC(1),
  CREATE_USER VARCHAR(12),
  CREATE_DATE DATETIME,
  LAST_MODIFY_USER VARCHAR(12),
  LAST_MODIFY_DATE DATETIME,
  ORDER_INDEX NUMERIC(8)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE INDEX WB_MODULE_IDX ON WB_MODULE(PARENT_ID, ORDER_INDEX);

CREATE TABLE WB_MODULE_HIS
(
  HIS_TITLE VARCHAR(100) NOT NULL,
  MODULE_ID VARCHAR(12) NOT NULL,
  PARENT_ID VARCHAR(12) NOT NULL,
  MODULE_CONTENT LONGTEXT,
  DISPLAY_NAME VARCHAR(255),
  DISPLAY_ICON VARCHAR(50),
  IS_HIDDEN NUMERIC(1),
  NEW_WIN NUMERIC(1),
  CREATE_USER VARCHAR(12),
  CREATE_DATE DATETIME,
  LAST_MODIFY_USER VARCHAR(12),
  LAST_MODIFY_DATE DATETIME,
  ORDER_INDEX NUMERIC(8)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE INDEX WB_MODULE_HIS_IDX ON WB_MODULE_HIS(HIS_TITLE);

CREATE TABLE WB_MODULE_ROLE
(
  MODULE_ID VARCHAR(12) NOT NULL,
  ROLE_ID VARCHAR(12) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE INDEX WB_MODULE_ROLE_IDX ON WB_MODULE_ROLE(MODULE_ID);

CREATE TABLE WB_RESOURCE
(
  RES_ID VARCHAR(200) NOT NULL PRIMARY KEY,
  RES_CONTENT LONGBLOB
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE WB_ROLE
(
  ROLE_ID VARCHAR(12) NOT NULL PRIMARY KEY,
  PARENT_ID VARCHAR(12) NOT NULL,
  ROLE_NAME VARCHAR(50) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE WB_SALE
(
  RCV_DATE DATETIME NOT NULL,
  TXN_ID VARCHAR(20) NOT NULL,
  PAYER_EMAIL VARCHAR(127),
  MC_GROSS NUMERIC(9,2),
  MC_FEE NUMERIC(9,2),
  MC_CURRENCY VARCHAR(10),
  FIRST_NAME VARCHAR(64),
  LAST_NAME VARCHAR(64),
  PAYMENT_DATE VARCHAR(50),
  ADDRESS_COUNTRY VARCHAR(64),
  ADDRESS_STATE VARCHAR(40),
  ADDRESS_CITY VARCHAR(40),
  ADDRESS_STREET VARCHAR(200),
  ITEM_NAME VARCHAR(127),
  RECEIVER_EMAIL VARCHAR(127),
  REG_CODE VARCHAR(20),
  USER_COUNT NUMERIC(7),
  OPT_SUPPORT NUMERIC(1)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE INDEX WB_SALE_IDX1 ON WB_SALE(RCV_DATE);
CREATE INDEX WB_SALE_IDX2 ON WB_SALE(REG_CODE);

CREATE TABLE WB_SYSINFO
(
  RCV_DATE DATETIME NOT NULL,
  SYS_TITLE VARCHAR(200),
  SYS_IP VARCHAR(50), 
  SYS_SN VARCHAR(20), 
  SYS_CTX VARCHAR(200)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE INDEX WB_SYSINFO_IDX ON WB_SYSINFO(RCV_DATE);

CREATE TABLE WB_TASK
(
  TASK_ID VARCHAR(12) NOT NULL PRIMARY KEY,
  TASK_NAME VARCHAR(100) NOT NULL,
  INTERVAL_TYPE NUMERIC(1) NOT NULL,
  INTERVAL_EXPRESS VARCHAR(10) NOT NULL,
  CLASS_NAME VARCHAR(255) NOT NULL,
  BEGIN_DATE DATETIME,
  END_DATE DATETIME,
  STATUS NUMERIC(1) NOT NULL,
  REMARK VARCHAR(255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE WB_USER
(
  USER_ID VARCHAR(12) NOT NULL PRIMARY KEY,
  USER_NAME VARCHAR(50) NOT NULL,
  DISPLAY_NAME VARCHAR(100) NOT NULL,
  PASSWORD VARCHAR(32) NOT NULL,
  STATUS NUMERIC(1) NOT NULL,
  CREATE_DATE DATETIME NOT NULL,
  LOGIN_TIMES NUMERIC(9) NOT NULL,
  EMAIL VARCHAR(100),
  USE_LANG VARCHAR(10),
  LAST_LOGIN DATETIME
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE UNIQUE INDEX WB_USER_UNQ ON WB_USER(USER_NAME);
CREATE INDEX WB_USER_IDX ON WB_USER(STATUS);

CREATE TABLE WB_USER_ROLE
(
  USER_ID VARCHAR(12) NOT NULL,
  ROLE_ID VARCHAR(12) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE INDEX WB_USER_ROLE_IDX ON WB_USER_ROLE(USER_ID);

CREATE TABLE WB_VALUE
(
  VAL_ID VARCHAR(200) NOT NULL PRIMARY KEY,
  VAL_CONTENT VARCHAR(255)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE WB_VAR
(
  VAR_ID VARCHAR(12) NOT NULL PRIMARY KEY,
  PARENT_ID VARCHAR(12) NOT NULL,
  VAR_NAME VARCHAR(50) NOT NULL,
  VAR_VALUE VARCHAR(255),
  IS_VAR NUMERIC(1)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE XIP_DEMO_PO_H
(
   PO_ID                VARCHAR(36) NOT NULL COMMENT '主键',
   PO_NO                VARCHAR(250) COMMENT '订单编号',
   PO_DESC              VARCHAR(1000) COMMENT '订单说明',
   VENDOR               VARCHAR(250) COMMENT '供应商',
   ORG_ID               VARCHAR(250) COMMENT '组织',
   DEPT_ID              VARCHAR(250) COMMENT '部门',
   BUYER                VARCHAR(250) COMMENT '采购员',
   AMT                  NUMERIC(24,2) COMMENT '订单金额',
   PO_DATE              DATETIME COMMENT '采购日期',
   INST_CODE            VARCHAR(100) COMMENT '流程实例编码',
   STATUS               VARCHAR(36) COMMENT '状态',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (PO_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_DEMO_PO_H COMMENT 'Demo中采购订单头表';

CREATE TABLE XIP_DEMO_PO_L
(
   PO_L_ID              VARCHAR(36) COMMENT '主键',
   PO_ID                VARCHAR(36) NOT NULL COMMENT '采购订单ID',
   ITEM_NAME            VARCHAR(250) COMMENT '物资',
   UNIT                 VARCHAR(250) COMMENT '单位',
   PRICE                NUMERIC(8,0) COMMENT '单价',
   CNT                  NUMERIC(8,0) COMMENT '数量',
   AMT                  NUMERIC(8,0) COMMENT '金额',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID'
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_DEMO_PO_L COMMENT 'Demo采购订单行表';

CREATE TABLE XIP_PUB_APPS
(
   APP_ID               VARCHAR(36) NOT NULL COMMENT '应用ID',
   APP_CODE             VARCHAR(100) NOT NULL COMMENT '应用编码',
   APP_NAME             VARCHAR(250) NOT NULL COMMENT '应用名称',
   APP_DESC             VARCHAR(1000) COMMENT '应用描述',
   ENABLE_FLAG          VARCHAR(1) NOT NULL DEFAULT 'Y' COMMENT '启用标记',
   WEB_HOST             VARCHAR(250) COMMENT 'WEB应用主机可以是IP也可以是域名',
   WEB_PORT             VARCHAR(250) COMMENT 'WEB应用端口',
   WEB_PROJECT          VARCHAR(250) COMMENT 'WEB功能名',
   LOGIN_URL            VARCHAR(250) COMMENT '登陆URL，供简单集成跳转用的，功能集成的不需要这个URL',
   DB_URL               VARCHAR(250) COMMENT '数据库连接串含主机端口SID',
   DB_USER              VARCHAR(100) COMMENT '数据库用户',
   DB_PASSWORD          VARCHAR(100) COMMENT '数据库用户口令',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   DB_TYPE              VARCHAR(100) COMMENT '数据库类型  ORA；oracle数据库 MYSQL； MYSQL数据库 MSSQL；SQL Server数据库',
   IN_XIP               VARCHAR(10) DEFAULT 'Y' COMMENT '是否与平台同工程  Y 是  N 否',
   VERSION              VARCHAR(20) COMMENT '应用版本号',
   PRIMARY KEY (APP_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_APPS COMMENT '平台应用表';

CREATE TABLE XIP_PUB_APP_SEC
(
   SEC_ID               VARCHAR(36) NOT NULL COMMENT '权限ID',
   APP_ID               VARCHAR(36) NOT NULL COMMENT '应用ID',
   USER_ID              VARCHAR(36) NOT NULL COMMENT '用户',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (SEC_ID),
   CONSTRAINT FK_XIP_WF_APP_PRIVILEGE FOREIGN KEY (APP_ID)
      REFERENCES XIP_PUB_APPS (APP_ID) ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_APP_SEC COMMENT '应用模块权限表';

CREATE TABLE XIP_PUB_ATT_CAT
(
   ATT_CAT_ID           VARCHAR(36) NOT NULL COMMENT '附件分类ID',
   CAT_CODE             VARCHAR(50) NOT NULL COMMENT '分类编码',
   CAT_NAME             VARCHAR(200) NOT NULL COMMENT '分类名称',
   DESCRIPTION          VARCHAR(500) COMMENT '描述',
   FILE_SIZE_LIMIT      NUMERIC(10,0) COMMENT '文件上传上限',
   ENABLE_FLAG          VARCHAR(1) NOT NULL DEFAULT 'Y' COMMENT '启用状态：Y，启用；N，禁用',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (ATT_CAT_ID),
   KEY UK_XIP_PUB_ATT_CAT (CAT_CODE)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_ATT_CAT COMMENT '附件分类';

CREATE TABLE XIP_PUB_ATTS
(
   ATT_ID               VARCHAR(36) NOT NULL COMMENT '附件ID',
   ATT_FILE_NAME        VARCHAR(400) NOT NULL COMMENT '原文件名（含扩展名）',
   ATT_FILE_TYPE        VARCHAR(20) NOT NULL COMMENT '文件类型',
   SRC_ID               VARCHAR(36) NOT NULL COMMENT '来源ID',
   ATT_CAT_ID           VARCHAR(36) NOT NULL COMMENT '附件分类ID',
   CAT_SEC_ID           VARCHAR(36) NOT NULL COMMENT '分类授权ID',
   ORG_ID               VARCHAR(36) COMMENT '组织ID',
   BUS_NO               VARCHAR(100) COMMENT '业务编码',
   FILE_SIZE            NUMERIC(8,0) COMMENT '附件大小单位（K）',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (ATT_ID),
   CONSTRAINT FK_XIP_PUB_ATTS FOREIGN KEY (ATT_CAT_ID)
      REFERENCES XIP_PUB_ATT_CAT (ATT_CAT_ID) ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_ATTS COMMENT '平台附件表';

CREATE TABLE XIP_PUB_ATT_CAT_SEC
(
   CAT_SEC_ID           VARCHAR(36) NOT NULL COMMENT '附件分类授权ID',
   ATT_CAT_ID           VARCHAR(36) NOT NULL COMMENT '附件分类ID',
   ORG_ID               VARCHAR(36) COMMENT '组织ID',
   ATT_SERVER_ID        VARCHAR(36) NOT NULL COMMENT '附件服务器ID',
   ENABLE_FLAG          VARCHAR(1) DEFAULT 'Y' COMMENT '启用标记',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (CAT_SEC_ID),
   KEY UK_XIP_PUB_ATT_CAT_SEC (ATT_CAT_ID, ORG_ID),
   CONSTRAINT FK_XIP_PUB_ATT_CAT_SEC_01 FOREIGN KEY (ATT_CAT_ID)
      REFERENCES XIP_PUB_ATT_CAT (ATT_CAT_ID) ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_ATT_CAT_SEC COMMENT '附件分类授权表';

CREATE TABLE XIP_PUB_ATT_SERVER
(
   SERVER_ID            VARCHAR(36) NOT NULL COMMENT '附件服务器ID',
   SERVER_NAME          VARCHAR(500) COMMENT '服务器名称',
   SERVER_TYPE          VARCHAR(10) NOT NULL COMMENT '服务器类型  FTP  HTTP',
   HOST                 VARCHAR(200) NOT NULL COMMENT '附件服务器主机域名或IP',
   PORT                 VARCHAR(10) NOT NULL COMMENT '端口',
   WEB_PROJECT          VARCHAR(50) COMMENT 'WEB工程',
   USERNAME             VARCHAR(100) NOT NULL COMMENT '用户',
   PASSWORD             VARCHAR(100) NOT NULL COMMENT '口令',
   ENABLE_FLAG          VARCHAR(1) NOT NULL DEFAULT 'Y' COMMENT '启用标记',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (SERVER_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_ATT_SERVER COMMENT '附件服务器表';

CREATE TABLE XIP_PUB_BTNREG
(
   BTN_ID               VARCHAR(36) NOT NULL COMMENT '对应按钮在页面中的ID',
   BTN_CODE             VARCHAR(100) COMMENT '按钮编码',
   BTN_NAME             VARCHAR(100) COMMENT '按钮名称',
   ENABLE_FLAG          VARCHAR(30) COMMENT '是否启用 Y:启用  N:停用',
   FUN_TREE_ID          VARCHAR(36) COMMENT '菜单功能树ID',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (BTN_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

CREATE TABLE XIP_PUB_CHART_PROPERTIES
(
   PRO_ID               VARCHAR(36) NOT NULL COMMENT '主键ID',
   PRO_TYPE             VARCHAR(100) COMMENT '属性类型',
   PRO_CODE             VARCHAR(200) COMMENT '属性编码',
   PRO_NAME             VARCHAR(200) COMMENT '属性名称',
   PRO_DESC             VARCHAR(1000) COMMENT '属性说明',
   PRO_VAL_TYPE         VARCHAR(200) COMMENT '属性值类型',
   PRO_VAL              VARCHAR(4000) COMMENT '属性值',
   PRO_GROUP            VARCHAR(100) COMMENT '属性分组',
   SEQ                  VARCHAR(100) COMMENT '排序',
   ENABLE               VARCHAR(10) COMMENT '是否启用',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (PRO_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_CHART_PROPERTIES COMMENT '平台图表属性配置表';

CREATE TABLE XIP_PUB_CHART_TMP
(
   TMP_ID               VARCHAR(36) NOT NULL COMMENT '主键ID',
   TMP_CODE             VARCHAR(200) COMMENT '模板编码',
   TMP_NAME             VARCHAR(200) COMMENT '模板名称',
   TMP_DESC             VARCHAR(1000) COMMENT '模板说明',
   CHART_TYPE           VARCHAR(100) COMMENT '模板类型',
   X_AXIS_TYPE          VARCHAR(100) COMMENT 'X坐标轴类型',
   Y_AXIS_TYPE          VARCHAR(100) COMMENT 'Y坐标轴类型',
   X_AXIS               VARCHAR(200) COMMENT 'X轴',
   Y_AXIS               VARCHAR(200) COMMENT 'Y轴',
   X_AXIS_DS            VARCHAR(4000) COMMENT 'X轴来源',
   Y_AXIS_DS            VARCHAR(400) COMMENT 'Y轴来源',
   LEGEND               VARCHAR(200) COMMENT '图例',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   LEGEND_TYPE          VARCHAR(20) COMMENT '图例类型',
   TMP_CHART_SRC_ID     VARCHAR(200) COMMENT '图表数据源ID',
   PRIMARY KEY (TMP_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_CHART_TMP COMMENT '平台图表模板配置主表';

CREATE TABLE XIP_PUB_CHART_TMP_DS
(
   DS_ID                VARCHAR(36) NOT NULL COMMENT '主键ID',
   TMP_ID               VARCHAR(36) COMMENT '模板ID',
   DS_CODE              VARCHAR(200) COMMENT '模板编码',
   TMP_DESC             VARCHAR(1000) COMMENT '模板说明',
   SQL_STRING           VARCHAR(4000) COMMENT '数据来源',
   ATTRIBUTE1           VARCHAR(250) COMMENT '排序字段',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (DS_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_CHART_TMP_DS COMMENT '平台图表模板配置数据来源';

CREATE TABLE XIP_PUB_CHART_TMP_DTL
(
   TMP_DTL_ID           VARCHAR(36) NOT NULL COMMENT '主键ID',
   TMP_ID               VARCHAR(36) COMMENT '模板ID',
   PRO_ID               VARCHAR(36) COMMENT '属性ID',
   PRO_CODE             VARCHAR(200) COMMENT '属性编码',
   PRO_VAL              VARCHAR(200) COMMENT '属性真实值',
   PRO_VAL_DISPLAY      VARCHAR(200) COMMENT '属性显示值',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (TMP_DTL_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_CHART_TMP_DTL COMMENT '平台图表模板配置明细表';

CREATE TABLE XIP_PUB_ORGS
(
   ORG_ID               VARCHAR(36) NOT NULL COMMENT '组织ID',
   ORG_CODE             VARCHAR(100) NOT NULL COMMENT '组织编码',
   ORG_NAME             VARCHAR(200) NOT NULL COMMENT '组织名称',
   ORG_SHORT_NAME       VARCHAR(200) COMMENT '组织简称',
   UP_ORG_ID            VARCHAR(36) COMMENT '上级组织',
   ORG_TYPE             VARCHAR(20) COMMENT '类型：O，实体组织；V，虚拟组织',
   ENABLE_FLAG          VARCHAR(1) NOT NULL DEFAULT 'Y' COMMENT '启用标记：Y，启用；N，禁用',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           NUMERIC(8,0) COMMENT '组织排序号',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (ORG_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_ORGS COMMENT '组织表';

CREATE TABLE XIP_PUB_DEPTS
(
   DEPT_ID              VARCHAR(36) NOT NULL,
   DEPT_CODE            VARCHAR(100),
   DEPT_NAME            VARCHAR(200),
   DEPT_SHORT_NAME      VARCHAR(100),
   UP_DP_ID             VARCHAR(36),
   ORG_ID               VARCHAR(36),
   ENABLE_FLAG          VARCHAR(1) NOT NULL DEFAULT 'Y' COMMENT '启用标记：Y，启用；N，禁用',
   ATTRIBUTE2           VARCHAR(200) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(10) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   SEQ_UPDEPT           NUMERIC(8,0) COMMENT '序列号',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   PRIMARY KEY (DEPT_ID),
   CONSTRAINT FK_XIP_PUB_DEPT_01 FOREIGN KEY (ORG_ID)
      REFERENCES XIP_PUB_ORGS (ORG_ID) ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_DEPTS COMMENT '部门表';

CREATE TABLE XIP_PUB_EMPS
(
   EMP_ID               VARCHAR(36) NOT NULL COMMENT '员工ID',
   EMP_CODE             VARCHAR(200) COMMENT '员工编号',
   EMP_NAME             VARCHAR(200) COMMENT '员工姓名',
   EMP_SEX              VARCHAR(200) COMMENT '性别',
   ID_NO                VARCHAR(200) COMMENT '身份证',
   PHONE_NO             VARCHAR(200) COMMENT '手机',
   ADDRESS              VARCHAR(1000) COMMENT '地址',
   EMAIL                VARCHAR(200) COMMENT '邮箱',
   ATTRIBUTE1           VARCHAR(250) COMMENT '座机',
   ATTRIBUTE2           VARCHAR(250) DEFAULT 'Y' COMMENT '员工状态:Y-启用,N-未启用',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   BIRTHDAY             DATETIME COMMENT '出生日期',
   PRIMARY KEY (EMP_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_EMPS COMMENT '员工表';

CREATE TABLE XIP_PUB_POSTS
(
   POST_ID              VARCHAR(36) NOT NULL COMMENT '岗位ID',
   POST_CODE            VARCHAR(200) COMMENT '岗位编码',
   POST_NAME            VARCHAR(200) COMMENT '岗位名称',
   POST_DESC            VARCHAR(500) COMMENT '岗位描述',
   POST_LEVEL           VARCHAR(10) COMMENT '岗位级别，值集编码：XSR_PUB_POST_LEVEL',
   DEPT_ID              VARCHAR(50) COMMENT '部门ID',
   ORG_ID               VARCHAR(50) COMMENT '组织ID，冗余字段',
   ENABLE_FLAG          VARCHAR(1) NOT NULL DEFAULT 'Y' COMMENT '启用标记：Y，启用；N，禁用',
   ATTRIBUTE1           VARCHAR(2000) COMMENT 'EMP_POST_IDS',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(2000) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (POST_ID),
   CONSTRAINT FK_XIP_PUB_POSTS_02 FOREIGN KEY (ORG_ID)
      REFERENCES XIP_PUB_ORGS (ORG_ID) ON UPDATE RESTRICT,
   CONSTRAINT FK_XIP_PUB_POSTS_01 FOREIGN KEY (DEPT_ID)
      REFERENCES XIP_PUB_DEPTS (DEPT_ID) ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_POSTS COMMENT '岗位表';

CREATE TABLE XIP_PUB_EMP_ASG
(
   ASG_ID               VARCHAR(50) NOT NULL,
   EMP_ID               VARCHAR(50) NOT NULL COMMENT '员工ID',
   POST_ID              VARCHAR(50) NOT NULL COMMENT '岗位ID',
   DEPT_ID              VARCHAR(50) NOT NULL COMMENT '部门ID，冗余字段',
   ORG_ID               VARCHAR(50) NOT NULL COMMENT '组织ID，冗余字段',
   ENABLED              VARCHAR(5) NOT NULL DEFAULT 'Y' COMMENT '启用状态：Y，启用；N，禁用',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后修改时间',
   LAST_UPDATED_BY      VARCHAR(100) COMMENT '最后修改人',
   CREATION_DATE        DATETIME COMMENT '创建时间',
   CREATED_BY           VARCHAR(100) COMMENT '创建人',
   LAST_UPDATE_LOGIN    VARCHAR(100) COMMENT '最后登录',
   POST_SEQ             VARCHAR(3) COMMENT '是否主岗',
   PRIMARY KEY (ASG_ID),
   CONSTRAINT FK_XIP_PUB_EMP_ASG_02 FOREIGN KEY (POST_ID)
      REFERENCES XIP_PUB_POSTS (POST_ID) ON UPDATE RESTRICT,
   CONSTRAINT FK_XIP_PUB_EMP_ASG_04 FOREIGN KEY (ORG_ID)
      REFERENCES XIP_PUB_ORGS (ORG_ID) ON UPDATE RESTRICT,
   CONSTRAINT FK_XIP_PUB_EMP_ASG_01 FOREIGN KEY (EMP_ID)
      REFERENCES XIP_PUB_EMPS (EMP_ID) ON UPDATE RESTRICT,
   CONSTRAINT FK_XIP_PUB_EMP_ASG_03 FOREIGN KEY (DEPT_ID)
      REFERENCES XIP_PUB_DEPTS (DEPT_ID) ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_EMP_ASG COMMENT '员工岗位分配表';

CREATE TABLE XIP_PUB_FUN_TREE
(
   FUN_TREE_ID          VARCHAR(36) NOT NULL COMMENT '功能树ID',
   FUN_TREE_CODE        VARCHAR(100) COMMENT '菜单编码',
   FUN_TREE_NAME        VARCHAR(200) COMMENT '菜单名称，只有节点类型为M的时候才有值',
   UP_ID                VARCHAR(36) COMMENT '父级节点ID，在功能树种作为其父节点的功能树ID',
   NODE_TYPE            VARCHAR(1) NOT NULL COMMENT '节点类型：M，菜单；F，功能；',
   NODE_ORDER           NUMERIC(8,0) COMMENT '节点排序 号',
   ENABLE_FLAG          VARCHAR(1) DEFAULT 'Y' COMMENT '启用标记',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   DESCRIPTION          VARCHAR(1000) COMMENT '功能说明',
   URL                  VARCHAR(200) COMMENT '功能路径',
   SMALL_ICON           VARCHAR(100) COMMENT '功能的小图标',
   LARGE_ICON           VARCHAR(100) COMMENT '功能的大图标',
   FUN_HELP             TEXT COMMENT '功能的帮助文档',
   APP_ID               VARCHAR(36) COMMENT '应用ID',
   MOB_URL              VARCHAR(200) COMMENT '移动端功能路径',
   SHOW_STYLE           VARCHAR(20) DEFAULT 'TAB' COMMENT '显示方式：TAB 功能页签，WIN 功能窗口 BRO 浏览器页签',
   PRIMARY KEY (FUN_TREE_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_FUN_TREE COMMENT '系统标准功能树';

CREATE TABLE XIP_PUB_FUN_USED_HIS
(
   USED_HIS_ID          VARCHAR(36) COMMENT '使用历史ID',
   FUN_TREE_ID          VARCHAR(36) COMMENT '功能ID',
   USER_ID              VARCHAR(36) COMMENT '用户ID',
   OP_DATE              VARCHAR(36) COMMENT '操作时间',
   APP_ID               VARCHAR(36) COMMENT '应用ID',
   ROLE_ID              VARCHAR(36) COMMENT '角色ID',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID'
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_FUN_USED_HIS COMMENT '功能使用历史记录';

CREATE TABLE XIP_PUB_IE
(
   IE_ID                VARCHAR(36) NOT NULL COMMENT '主键ID',
   IE_CODE              VARCHAR(100) COMMENT '定义编码',
   IE_NAME              VARCHAR(200) COMMENT '定义名称',
   IE_TYPE              VARCHAR(100) COMMENT '导出类型 P平台U 自定义',
   SEQ                  VARCHAR(100) COMMENT '排序',
   SELECT_SQL           VARCHAR(4000) COMMENT '查询SQL',
   INSERT_SQL           VARCHAR(4000) COMMENT '插入SQL',
   UPDATE_SQL           VARCHAR(4000) COMMENT '更新SQL',
   PRIMARY_KEY_COLUMN   VARCHAR(100) COMMENT '主键列名',
   IE_DESC              VARCHAR(300) COMMENT '备注',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (IE_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_IE COMMENT '平台数据导入导出定义';

CREATE TABLE XIP_PUB_IO_LOG
(
   LOG_ID               VARCHAR(36) NOT NULL COMMENT '主键ID',
   TAG_ID               VARCHAR(36) COMMENT '批次ID',
   MSG                  VARCHAR(1000) COMMENT '日志信息',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (LOG_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_IO_LOG COMMENT '数据导入导出日志';

CREATE TABLE XIP_PUB_IO_TMP_H
(
   TMP_H_ID             VARCHAR(36) NOT NULL COMMENT '主键ID',
   TMP_H_CODE           VARCHAR(100) COMMENT '模版编码',
   TMP_H_NAME           VARCHAR(200) COMMENT '模板名称',
   SQL_STR              VARCHAR(4000) COMMENT 'SQL脚本',
   VALIDATION_TYPE      VARCHAR(100) COMMENT '校验函数类型',
   VALIDATION_NAME      VARCHAR(200) COMMENT '校验函数名称',
   TARGET_OBJECT        VARCHAR(200) COMMENT '原始对象',
   PRIMARY_KEY_COLUMN   VARCHAR(100) COMMENT '主键列名',
   TAG_COLUMN           VARCHAR(100) COMMENT '标记列名',
   APP_ID               VARCHAR(36) COMMENT '应用',
   IS_MARKED            VARCHAR(100) DEFAULT 'N' COMMENT '是否标记操作记录',
   H_DESC               VARCHAR(300) COMMENT '备注',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (TMP_H_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_IO_TMP_H COMMENT '数据导入导出模版主表';

CREATE TABLE XIP_PUB_IO_TMP_L
(
   TMP_L_ID             VARCHAR(36) NOT NULL COMMENT '主键ID',
   TMP_H_ID             VARCHAR(36) COMMENT '模版主表ID',
   COLUMN_CODE          VARCHAR(200) COMMENT '列编码',
   COLUMN_NAME          VARCHAR(200) COMMENT '列名称',
   COLUMN_WIDTH         VARCHAR(100) COMMENT '列宽',
   L_DESC               VARCHAR(300) COMMENT '备注',
   ATTRIBUTE1           VARCHAR(250) COMMENT '排序号',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (TMP_L_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_IO_TMP_L COMMENT '模板导出导出明细表';

CREATE TABLE XIP_PUB_LOGIN
(
   LOGIN_ID             VARCHAR(36) COMMENT '登录ID',
   USER_ID              VARCHAR(36) COMMENT '用户ID',
   LOGIN_DATE           DATETIME COMMENT '登录时间',
   LOGOUT_DATE          DATETIME COMMENT '登出时间',
   TERMINAL_NAME        VARCHAR(200) COMMENT '终端名称',
   TERMINAL_IP          VARCHAR(200) COMMENT '终端IP',
   OS_USER              VARCHAR(200) COMMENT '终端用户名',
   SESSION_ID           VARCHAR(200) COMMENT 'WEB Session ID',
   LOGIN_TYPE           VARCHAR(200) COMMENT '登录方式'
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_LOGIN COMMENT '平台登录监控表';

CREATE TABLE XIP_PUB_MNU_GROUP
(
   MNU_GROUP_ID         VARCHAR(36) NOT NULL COMMENT '菜单组ID',
   MNU_GROUP_CODE       VARCHAR(100) COMMENT '菜单组编码',
   MNU_GROUP_DESC       VARCHAR(4000) COMMENT '菜单组说明',
   MNU_GROUP_NAME       VARCHAR(100) COMMENT '菜单组名称',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (MNU_GROUP_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_MNU_GROUP COMMENT '菜单组';

CREATE TABLE XIP_PUB_MNUG_BTNS
(
   MNUG_BTNS_ID         VARCHAR(36) NOT NULL COMMENT '菜单组按钮ID',
   MNU_GROUP_ID         VARCHAR(36) COMMENT '菜单组ID',
   BTN_ID               VARCHAR(36) COMMENT '按钮ID',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   FUN_TREE_ID          VARCHAR(36) COMMENT '功能ID',
   PRIMARY KEY (MNUG_BTNS_ID),
   CONSTRAINT FK_XIP_PUB_MNUG_BTNS_02 FOREIGN KEY (BTN_ID)
      REFERENCES XIP_PUB_BTNREG (BTN_ID) ON UPDATE RESTRICT,
   CONSTRAINT FK_XIP_PUB_MNUG_BTNS_01 FOREIGN KEY (MNU_GROUP_ID)
      REFERENCES XIP_PUB_MNU_GROUP (MNU_GROUP_ID) ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_MNUG_BTNS COMMENT '菜单组在功能界面按钮使用权限表';

CREATE TABLE XIP_PUB_MNU_TREE
(
   MNU_ID               VARCHAR(50) NOT NULL,
   MNU_GROUP_ID         VARCHAR(50),
   NAME                 VARCHAR(100),
   UP_ID                VARCHAR(50),
   NODE_TYPE            VARCHAR(1) NOT NULL COMMENT '节点类型：M，菜单；F，功能；',
   NODE_ORDER           NUMERIC(8,0),
   LAST_UPDATE_DATE     DATETIME COMMENT '最后修改时间',
   LAST_UPDATED_BY      VARCHAR(100) COMMENT '最后修改人',
   CREATION_DATE        DATETIME COMMENT '创建时间',
   CREATED_BY           VARCHAR(100) COMMENT '创建人',
   LAST_UPDATE_LOGIN    VARCHAR(100) COMMENT '最后登录',
   FUN_TREE_ID          VARCHAR(50) COMMENT '节点类型：M ，菜单ID；F，功能ID',
   MNU_TREE_CODE        VARCHAR(100) COMMENT '编码，当fun_tree_id为空的时候需手工输入，否则为fun_tree_id对应的FUN_TREE_CODE',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   PRIMARY KEY (MNU_ID),
   CONSTRAINT FK_XIP_PUB_MNU_TREE_01 FOREIGN KEY (MNU_GROUP_ID)
      REFERENCES XIP_PUB_MNU_GROUP (MNU_GROUP_ID) ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_MNU_TREE COMMENT '菜单组的功能树';

CREATE TABLE XIP_PUB_NODES
(
   NODE_ID              VARCHAR(36) NOT NULL COMMENT '节点ID',
   NODE_CODE            VARCHAR(250) COMMENT '节点编码',
   NODE_DESC            VARCHAR(500) COMMENT '节点说明',
   IS_ENCRYPTED         VARCHAR(10) COMMENT '是否加密，Y 则启用HTTPS ，N 则HTTP',
   NODE_IP              VARCHAR(250) COMMENT '节点IP地址',
   NODE_PORT            VARCHAR(250) COMMENT '节点端口',
   CONTEXT_PATH         VARCHAR(250) COMMENT '上下午路径（发布的WEB工程名）',
   MAX_CONC_COUNT       NUMERIC(8,0) COMMENT '最大并发数（同时运行的线程数）',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (NODE_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_NODES COMMENT '平台服务器节点';

CREATE TABLE XIP_PUB_NOTICES
(
   NOTICE_ID            VARCHAR(36) NOT NULL COMMENT '通知ID',
   NOTICE_TITLE         VARCHAR(2000) COMMENT '通知标题',
   NOTICE_CONTENT       TEXT COMMENT '通知正文(富文本)',
   FORM_URL             VARCHAR(1000) COMMENT '关联表单完整的URL会被嵌入到',
   SRC_ID               VARCHAR(2000) COMMENT '来源ID',
   SRC_CAT              VARCHAR(2000) COMMENT '来源分类',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (NOTICE_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_NOTICES COMMENT '通知表';

CREATE TABLE XIP_PUB_ORG_SEC
(
   ORG_SEC_ID           VARCHAR(36) NOT NULL COMMENT '组织权限ID',
   TYPE                 VARCHAR(10) NOT NULL COMMENT '类型 ：A-应用，D-职责，F-功能，U-用户',
   TARGET_ID            VARCHAR(36) NOT NULL COMMENT '目标ID，类型为U时用户ID，为F时功能ID，为D时职责ID，为A时应用ID',
   ORG_ID               VARCHAR(36) NOT NULL COMMENT '组织ID',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (ORG_SEC_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_ORG_SEC COMMENT '组织授权表';

CREATE TABLE XIP_PUB_PARAMS
(
   PARAM_ID             VARCHAR(36) NOT NULL COMMENT '参数ID',
   PARAM_CODE           VARCHAR(50) NOT NULL COMMENT '参数编码',
   PARAM_NAME           VARCHAR(200) NOT NULL COMMENT '参数名称',
   DESCRIPTION          VARCHAR(1000) COMMENT '参数描述',
   PARAM_TYPE           VARCHAR(1) NOT NULL COMMENT '参数类型 S：系统U：拓展',
   ENABLE_FLAG          VARCHAR(1) NOT NULL DEFAULT 'Y' COMMENT '启用标记',
   VAL_SET_CODE         VARCHAR(50) COMMENT '参数值对应的值集编码，此列与val_sql只能存在一个',
   VAL_SQL              VARCHAR(4000) COMMENT '参数值的来源SQL，此sql只能包含两列，真实值和显示值两列，此列与值集编码列只能存在一个',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (PARAM_ID),
   KEY UK_XIP_PUB_PARAMS (PARAM_CODE)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_PARAMS COMMENT '平台参数定义表';

CREATE TABLE XIP_PUB_PARAM_VALS
(
   PARAM_VAL_ID         VARCHAR(36) NOT NULL COMMENT '参数值ID',
   PARAM_ID             VARCHAR(36) NOT NULL COMMENT '参数ID',
   VAL_LEVEL            VARCHAR(1) NOT NULL COMMENT '参数值级别 P：平台级 A：应用级 R：角色级 U：用户级',
   TARGET_ID            VARCHAR(36) NOT NULL COMMENT '目标ID  参数值级别为P：为P  A：为应用ID R：角色ID  U：用户ID',
   VAL                  VARCHAR(250) NOT NULL COMMENT '参数值',
   ENABLE_FLAG          VARCHAR(1) NOT NULL DEFAULT 'Y' COMMENT '启用标记',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (PARAM_VAL_ID),
   CONSTRAINT FK_XIP_PUB_PARAM_VALS_01 FOREIGN KEY (PARAM_ID)
      REFERENCES XIP_PUB_PARAMS (PARAM_ID) ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_PARAM_VALS COMMENT '系统参数值表';

CREATE TABLE XIP_PUB_PROGRAM
(
   PROGRAM_ID           VARCHAR(36) NOT NULL COMMENT '并发程序ID',
   PROGRAM_CODE         VARCHAR(250) NOT NULL COMMENT '程序编码',
   PROGRAM_NAME         VARCHAR(250) NOT NULL COMMENT '程序名称',
   PROGRAM_TYPE         VARCHAR(250) NOT NULL COMMENT '程序类型  F：函数  W：WEB服务  J：Java方法',
   APP_ID               VARCHAR(36) COMMENT '应用ID，存储过程类型必须指定应用，用此应用的数据库执行存储过程',
   OPERATION            VARCHAR(250) COMMENT '函数格式  package.function  WEB服务格式 http://url/webservice_name?wsdl.operation Java方法  package.className.methodName  返回结构都是字符串格式如下<result><flag></flag><msg></msg></result> flag  0 成功 1 失败 msg  提示信息或错误提示',
   PROG_DESC            VARCHAR(4000) COMMENT '说明',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (PROGRAM_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_PROGRAM COMMENT '平台并发程序定义表';

CREATE TABLE XIP_PUB_PROGRAM_PARAMS
(
   PROGRAM_PARAM_ID     VARCHAR(36) NOT NULL COMMENT '程序参数ID',
   PROGRAM_ID           VARCHAR(36) NOT NULL COMMENT '并发程序ID',
   SEQ_NO               VARCHAR(36) COMMENT '排序号',
   PARAM_CODE           VARCHAR(250) COMMENT '参数编码',
   PARAM_NAME           VARCHAR(250) COMMENT '参数名称',
   VAL_SRC_TYPE         VARCHAR(250) COMMENT '参数值来源类型  S:SQL V:值集 H:手工录入',
   VAL_SET_ID           VARCHAR(36) COMMENT '值集ID',
   SQL_STR              VARCHAR(4000) COMMENT 'SQL语句，可以通过${param_code}引用其他参数值',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (PROGRAM_PARAM_ID),
   CONSTRAINT FK_XIP_PROG_PARAM_REF_PROG FOREIGN KEY (PROGRAM_ID)
      REFERENCES XIP_PUB_PROGRAM (PROGRAM_ID) ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_PROGRAM_PARAMS COMMENT '平台并发程序参数定义';

CREATE TABLE XIP_PUB_PROGRAM_RUN_CONFIG
(
   RUN_CONFIG_ID        VARCHAR(36) NOT NULL COMMENT '运行配置ID',
   PROGRAM_ID           VARCHAR(36) NOT NULL COMMENT '并发程序ID',
   RUN_TYPE             VARCHAR(250) NOT NULL COMMENT '运行类型：I 立即执行  P 计划执行',
   START_DATE           DATETIME COMMENT '开始时间',
   END_DATE             DATETIME COMMENT '结束日期',
   RUN_INTERVAL         VARCHAR(250) COMMENT '运行间隔',
   INTERVAL_UNIT        VARCHAR(250) COMMENT '间隔单位 Y 年M 月 D 日  H 时  MI 分',
   NEXT_DATE            DATETIME COMMENT '下次运行时间',
   STATUS               VARCHAR(2) COMMENT '状态  N新建    C结束 R执行中  W等待',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (RUN_CONFIG_ID),
   CONSTRAINT FK_XIP_RUN_CONF_REF_PROGRAM FOREIGN KEY (PROGRAM_ID)
      REFERENCES XIP_PUB_PROGRAM (PROGRAM_ID) ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_PROGRAM_RUN_CONFIG COMMENT '平台并发程序运行配置';

CREATE TABLE XIP_PUB_PROGRAM_RUN_DTL
(
   RUN_ID               VARCHAR(36) NOT NULL COMMENT '运行ID',
   PROGRAM_ID           VARCHAR(36) NOT NULL COMMENT '并发程序ID',
   RUN_CONFIG_ID        VARCHAR(36) NOT NULL COMMENT '运行配置ID',
   NODE_ID              VARCHAR(36) COMMENT '节点ID',
   START_DATE           DATETIME COMMENT '开始时间',
   END_DATE             DATETIME COMMENT '结束时间',
   STATUS               VARCHAR(250) COMMENT '状态  N新建 R执行中0执行成功 1执行失败',
   RESULT               VARCHAR(4000) COMMENT '结果',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (RUN_ID),
   CONSTRAINT FK_XIP_RUN_DTL_REF_RUN_CONF FOREIGN KEY (RUN_CONFIG_ID)
      REFERENCES XIP_PUB_PROGRAM_RUN_CONFIG (RUN_CONFIG_ID) ON UPDATE RESTRICT,
   CONSTRAINT FK_XIP_RUN_DTL_REF_NODES FOREIGN KEY (NODE_ID)
      REFERENCES XIP_PUB_NODES (NODE_ID) ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_PROGRAM_RUN_DTL COMMENT '平台并发程序运行表，每次执行都有一条记录与之对应';

CREATE TABLE XIP_PUB_PROGRAM_RUN_PARAMS
(
   RUN_PARAM_ID         VARCHAR(36) NOT NULL COMMENT '主键ID',
   RUN_CONFIG_ID        VARCHAR(36) NOT NULL COMMENT '运行配置ID',
   PROGRAM_PARAM_ID     VARCHAR(36) NOT NULL COMMENT '程序参数ID',
   PARAM_VAL            VARCHAR(250) COMMENT '参数值',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '定时任务管理配置参数的显示值',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (RUN_PARAM_ID),
   CONSTRAINT FK_XIP_RUN_PARAMS_REF_RUN_CONF FOREIGN KEY (RUN_CONFIG_ID)
      REFERENCES XIP_PUB_PROGRAM_RUN_CONFIG (RUN_CONFIG_ID) ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_PROGRAM_RUN_PARAMS COMMENT '并发运行配置的参数值表';

CREATE TABLE XIP_PUB_ROLE
(
   ROLE_ID              VARCHAR(36) NOT NULL COMMENT '角色ID',
   ROLE_CODE            VARCHAR(100) COMMENT '角色编码',
   ROLE_NAME            VARCHAR(100) NOT NULL COMMENT '角色名称',
   DESCRIPTION          VARCHAR(200) COMMENT '角色描述',
   MNU_GROUP_ID         VARCHAR(36) COMMENT '角色所用的菜单组',
   ENABLE_FLAG          VARCHAR(1) DEFAULT 'Y' COMMENT '启用标记',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (ROLE_ID),
   CONSTRAINT FK_XIP_PUB_ROLE_01 FOREIGN KEY (MNU_GROUP_ID)
      REFERENCES XIP_PUB_MNU_GROUP (MNU_GROUP_ID) ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_ROLE COMMENT '职责';

CREATE TABLE XIP_PUB_SEC_CODE
(
   SEC_CODE             VARCHAR(36) NOT NULL COMMENT '安全码',
   USER_ID              VARCHAR(36) NOT NULL COMMENT '登录用户ID,当前安全码以此用户登录',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   USED_FLAG            VARCHAR(10) COMMENT '被使用标记 Y已使用，N未使用',
   USERD_DATE           DATETIME COMMENT '使用日期',
   PRIMARY KEY (SEC_CODE)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_SEC_CODE COMMENT '平台登录安全码';

CREATE TABLE XIP_PUB_USERS
(
   USER_ID              VARCHAR(36) NOT NULL COMMENT '用户ID',
   USER_NAME            VARCHAR(100) NOT NULL COMMENT '登录账号',
   PASSWORD             VARCHAR(200) NOT NULL DEFAULT '111111' COMMENT '登录口令',
   EMP_ID               VARCHAR(36) COMMENT '员工',
   USER_TYPE            VARCHAR(1) NOT NULL DEFAULT 'U' COMMENT '用户类型：S，系统内置用户；U，自定义用户',
   LAST_CHG_PW_DATE     DATETIME COMMENT '最近一次修改密码或重置密码的时间',
   HAVE_REST_PW         VARCHAR(1) COMMENT '被重置密码标记 Y被重置  N未被重置',
   START_DATE           DATETIME NOT NULL COMMENT '开始日期',
   END_DATE             DATETIME COMMENT '结束日期',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '判断新用户是否已执行验证；Y - 是，其他 - 否',
   ATTRIBUTE9           VARCHAR(250) COMMENT '判断修改密码是否已执行验证；Y - 是，其他 - 否',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   STATUS               VARCHAR(36) COMMENT '外部员工初始状态；A - 起草, B - 已审批',
   PRIMARY KEY (USER_ID),
   CONSTRAINT FK_XIP_PUB_USERS_01 FOREIGN KEY (EMP_ID)
      REFERENCES XIP_PUB_EMPS (EMP_ID) ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_USERS COMMENT '平台用户表';

CREATE TABLE XIP_PUB_USER_DEFAULT_FUNS
(
   DEFAULT_FUNS_ID      VARCHAR(36) NOT NULL COMMENT '用户默认功能或角色主键ID',
   AUTH_MODAL           VARCHAR(20) COMMENT '授权模式',
   TARGET_ID            VARCHAR(36) COMMENT '功能ID或角色ID',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (DEFAULT_FUNS_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_USER_DEFAULT_FUNS COMMENT '所用所具有的默认功能或角色';

CREATE TABLE XIP_PUB_USER_FUNS
(
   USER_FUN_ID          VARCHAR(36) NOT NULL COMMENT '用户功能ID',
   TYPE                 VARCHAR(10) COMMENT '类型 U：用户  P：岗位 D：部门',
   TARGET_ID            VARCHAR(36) COMMENT '目标ID，类型为U时用户ID，为P时岗位ID，为D时部门ID',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   FUN_TREE_ID          VARCHAR(36) NOT NULL COMMENT '功能ID',
   PRIMARY KEY (USER_FUN_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_USER_FUNS COMMENT '用户功能列表';

CREATE TABLE XIP_PUB_USER_FUN_BTNS
(
   USER_BTNS_ID         VARCHAR(36) NOT NULL COMMENT '用户按钮授权ID',
   TYPE                 VARCHAR(10) COMMENT '类型 U：用户  P：岗位 D：部门',
   TARGET_ID            VARCHAR(36) COMMENT '目标ID，类型为U时用户ID，为P时岗位ID，为D时部门ID',
   BTN_ID               VARCHAR(100) COMMENT '对应按钮在页面中的ID',
   CAN_USE              VARCHAR(1) COMMENT '是否可用 Y可用 N不可用',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   FUN_TREE_ID          VARCHAR(36) NOT NULL COMMENT '菜单功能树ID',
   PRIMARY KEY (USER_BTNS_ID),
   CONSTRAINT FK_XIP_PUB_USER_FUN_BTNS_01 FOREIGN KEY (BTN_ID)
      REFERENCES XIP_PUB_BTNREG (BTN_ID) ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_USER_FUN_BTNS COMMENT '平台用户在功能界面按钮使用权限表';

CREATE TABLE XIP_PUB_USER_NOTICES
(
   USER_NOTICE_ID       VARCHAR(36) NOT NULL,
   USER_ID              VARCHAR(36),
   NOTICE_ID            VARCHAR(36),
   STATUS               VARCHAR(20) COMMENT '通知状态：open-打开,closed-关闭',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (USER_NOTICE_ID),
   CONSTRAINT FK_XIP_PUB_USER_NOTICES_01 FOREIGN KEY (USER_ID)
      REFERENCES XIP_PUB_USERS (USER_ID) ON DELETE RESTRICT ON UPDATE RESTRICT,
   CONSTRAINT FK_XIP_PUB_USER_NOTICES_02 FOREIGN KEY (NOTICE_ID)
      REFERENCES XIP_PUB_NOTICES (NOTICE_ID) ON DELETE RESTRICT ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_USER_NOTICES COMMENT '用户通知表';

CREATE TABLE XIP_PUB_USER_ROLES
(
   USER_ROLE_ID         VARCHAR(36) NOT NULL COMMENT '用户角色ID',
   USER_ID              VARCHAR(36) COMMENT '用户也ID',
   ROLE_ID              VARCHAR(36) NOT NULL COMMENT '角色ID',
   ISDEFAUT             VARCHAR(1) NOT NULL DEFAULT 'N' COMMENT '是否默认角色',
   ORDERBY              VARCHAR(10) COMMENT '排序',
   DESCRIPTION          VARCHAR(100) COMMENT '描述',
   ENABLE_FLAG          VARCHAR(1) NOT NULL DEFAULT 'Y' COMMENT '启用状态:Y,启用；N：禁用',
   TYPE                 VARCHAR(10) COMMENT '类型字段，S：为系统级 用户职责，不可删除 U：用户自定义的用户角色',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   PRIMARY KEY (USER_ROLE_ID),
   CONSTRAINT FK_XIP_PUB_USER_ROLES_01 FOREIGN KEY (ROLE_ID)
      REFERENCES XIP_PUB_ROLE (ROLE_ID) ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_USER_ROLES COMMENT '用户角色表，维护每个用户可以拥有的角色';

CREATE TABLE XIP_PUB_USER_SHORTCUTS
(
   USER_SHORTCUTS_ID    VARCHAR(36) NOT NULL COMMENT '用户快捷方式ID',
   USER_ID              VARCHAR(36) COMMENT '用户ID',
   FUN_TREE_ID          VARCHAR(36) COMMENT '功能ID',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (USER_SHORTCUTS_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_USER_SHORTCUTS COMMENT '用户快捷方式';

CREATE TABLE XIP_PUB_VAL_SETS
(
   VAL_SET_ID           VARCHAR(36) NOT NULL COMMENT '值集ID',
   VAL_SET_CODE         VARCHAR(100) NOT NULL COMMENT '值集编码',
   VAL_SET_NAME         VARCHAR(250) NOT NULL COMMENT '值集名称',
   VAL_SET_DESC         VARCHAR(500) COMMENT '值集说明',
   VAL_SET_TYPE         VARCHAR(1) NOT NULL COMMENT '值集类型   S系统U拓展。系统的值集不可以修改和删除',
   ENABLE_FLAG          VARCHAR(1) NOT NULL DEFAULT 'Y' COMMENT '启用标记',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (VAL_SET_ID),
   KEY UK_XIP_PUB_VAL_SETS (VAL_SET_CODE)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_VAL_SETS COMMENT '平台值集定义表';

CREATE TABLE XIP_PUB_VAL_SET_DTL
(
   VAL_SET_DTL_ID       VARCHAR(36) NOT NULL COMMENT '值集明细ID',
   VAL_SET_CODE         VARCHAR(100) NOT NULL COMMENT '值集编码',
   VAL_CODE             VARCHAR(100) NOT NULL COMMENT '值编码',
   VAL_NAME             VARCHAR(200) NOT NULL COMMENT '值名称',
   DESCRIPTION          VARCHAR(2000) COMMENT '值说明',
   ENABLE_FLAG          VARCHAR(1) NOT NULL DEFAULT 'Y' COMMENT '启用标记',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (VAL_SET_DTL_ID),
   KEY UK_XIP_PUB_VAL_SET_DTL (VAL_SET_CODE, VAL_CODE)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_VAL_SET_DTL COMMENT '平台值集明细表，存放每个值集下的值对';

CREATE TABLE XIP_PUB_WS_SQL
(
   SQL_ID               VARCHAR(36) NOT NULL COMMENT 'SQL ID',
   SQLKEY               VARCHAR(250) COMMENT 'SQL关键码 唯一',
   SQL_TYPE             VARCHAR(250) COMMENT '类型 Q：查询 U：数据操作  P：过程 J：Java方法',
   SQL_STR              VARCHAR(4000) COMMENT 'SQL文本引用参数以${param}格式。 返回结果',
   DATAS_FORMAT         VARCHAR(250) COMMENT '查询结果格式  XML ，JSON',
   APP_ID               VARCHAR(250) COMMENT '基于此应用的数据库执行SQL',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (SQL_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_PUB_WS_SQL COMMENT '平台WEB服务发布的SQL';

CREATE TABLE XIP_WB_PHASES_USER
(
   PHASES_CODE          VARCHAR(200) NOT NULL COMMENT '阶段编码',
   USER_ID              VARCHAR(36) NOT NULL COMMENT '用户ID',
   ATTRIBUTE1           VARCHAR(500) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(500) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(500) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(500) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(500) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(500) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(500) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(500) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(500) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(500) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID'
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WB_PHASES_USER COMMENT '各阶段对应用户表';

CREATE TABLE XIP_WB_PROJECTS
(
   PRJ_CODE             VARCHAR(200) NOT NULL COMMENT '项目编码',
   PRJ_NAME             VARCHAR(500) NOT NULL COMMENT '项目名称',
   ATTRIBUTE1           VARCHAR(500) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(500) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(500) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(500) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(500) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(500) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(500) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(500) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(500) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(500) COMMENT '弹性扩展字段10',
   ATTRIBUTE11          VARCHAR(500) COMMENT '弹性扩展字段11',
   ATTRIBUTE12          VARCHAR(500) COMMENT '弹性扩展字段12',
   ATTRIBUTE13          VARCHAR(500) COMMENT '弹性扩展字段13',
   ATTRIBUTE14          VARCHAR(500) COMMENT '弹性扩展字段14',
   ATTRIBUTE15          VARCHAR(500) COMMENT '弹性扩展字段15',
   ATTRIBUTE16          VARCHAR(500) COMMENT '弹性扩展字段16',
   ATTRIBUTE17          VARCHAR(500) COMMENT '弹性扩展字段17',
   ATTRIBUTE18          VARCHAR(500) COMMENT '弹性扩展字段18',
   ATTRIBUTE19          VARCHAR(500) COMMENT '弹性扩展字段19',
   ATTRIBUTE20          VARCHAR(500) COMMENT '弹性扩展字段20',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (PRJ_CODE)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WB_PROJECTS COMMENT '工作项目信息表';

CREATE TABLE XIP_WB_RECORDS
(
   REC_ID               VARCHAR(36) NOT NULL COMMENT '问题ID',
   REC_CODE             VARCHAR(500) COMMENT '问题编码',
   PRJ_CODE             VARCHAR(200) COMMENT '所属项目',
   REC_SUMMARY          VARCHAR(2000) COMMENT '问题摘要',
   REC_DETAILED_DESC    TEXT COMMENT '问题详情',
   REC_STATUS           VARCHAR(10) COMMENT '问题状态',
   REC_OWNER            VARCHAR(36) COMMENT '问题提交人',
   REC_TYPE             VARCHAR(200) COMMENT '问题分类',
   REC_LEVEL            VARCHAR(200) COMMENT '问题级别',
   PHASES               VARCHAR(200) COMMENT '处理阶段',
   PHASES_OWNER         VARCHAR(36) COMMENT '阶段负责人',
   EXPIRED_DATE         DATETIME COMMENT '截止日期',
   REC_TAGS             VARCHAR(500) COMMENT '问题标签',
   ATTRIBUTE1           VARCHAR(500) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(500) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(500) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(500) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(500) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(500) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(500) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(500) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(500) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(500) COMMENT '弹性扩展字段10',
   ATTRIBUTE11          VARCHAR(500) COMMENT '弹性扩展字段11',
   ATTRIBUTE12          VARCHAR(500) COMMENT '弹性扩展字段12',
   ATTRIBUTE13          VARCHAR(500) COMMENT '弹性扩展字段13',
   ATTRIBUTE14          VARCHAR(500) COMMENT '弹性扩展字段14',
   ATTRIBUTE15          VARCHAR(500) COMMENT '弹性扩展字段15',
   ATTRIBUTE16          VARCHAR(500) COMMENT '弹性扩展字段16',
   ATTRIBUTE17          VARCHAR(500) COMMENT '弹性扩展字段17',
   ATTRIBUTE18          VARCHAR(500) COMMENT '弹性扩展字段18',
   ATTRIBUTE19          VARCHAR(500) COMMENT '弹性扩展字段19',
   ATTRIBUTE20          VARCHAR(500) COMMENT '弹性扩展字段20',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (REC_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WB_RECORDS COMMENT '问题记录表';

CREATE TABLE XIP_WB_REC_OPERATION
(
   REC_ID               VARCHAR(200) NOT NULL COMMENT '问题ID',
   PROC_DETAILED_DESC   TEXT COMMENT '处理详情',
   ATTRIBUTE1           VARCHAR(500) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(500) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(500) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(500) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(500) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(500) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(500) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(500) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(500) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(500) COMMENT '弹性扩展字段10',
   ATTRIBUTE11          VARCHAR(500) COMMENT '弹性扩展字段11',
   ATTRIBUTE12          VARCHAR(500) COMMENT '弹性扩展字段12',
   ATTRIBUTE13          VARCHAR(500) COMMENT '弹性扩展字段13',
   ATTRIBUTE14          VARCHAR(500) COMMENT '弹性扩展字段14',
   ATTRIBUTE15          VARCHAR(500) COMMENT '弹性扩展字段15',
   ATTRIBUTE16          VARCHAR(500) COMMENT '弹性扩展字段16',
   ATTRIBUTE17          VARCHAR(500) COMMENT '弹性扩展字段17',
   ATTRIBUTE18          VARCHAR(500) COMMENT '弹性扩展字段18',
   ATTRIBUTE19          VARCHAR(500) COMMENT '弹性扩展字段19',
   ATTRIBUTE20          VARCHAR(500) COMMENT '弹性扩展字段20',
   CREATION_DATE        DATETIME NOT NULL COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) NOT NULL COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID'
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WB_REC_OPERATION COMMENT '问题处理表';

CREATE TABLE XIP_WF_ENTITIES
(
   APP_ID               VARCHAR(36) NOT NULL COMMENT '应用ID',
   ENTITY_ID            VARCHAR(36) NOT NULL COMMENT '实体ID',
   ENTITY_CODE          VARCHAR(100) NOT NULL COMMENT '实体编码，全局唯一',
   ENTITY_NAME          VARCHAR(200) NOT NULL COMMENT '实体名称',
   ENTITY_DESC          VARCHAR(500) COMMENT '实体描述',
   ATTRIBUTE1           VARCHAR(250) COMMENT '回调函数类型：PROC-存储过程, WEB-WebService服务',
   ATTRIBUTE2           VARCHAR(250) COMMENT '回调函数',
   ATTRIBUTE3           VARCHAR(250) COMMENT '业务表名',
   ATTRIBUTE4           VARCHAR(250) COMMENT '业务主键名',
   ATTRIBUTE5           VARCHAR(250) DEFAULT 'Y' COMMENT '是否失效 Y-有效,N-失效',
   ATTRIBUTE6           VARCHAR(250) COMMENT '是否为系统内置属性： Y-是，N-否',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (ENTITY_ID),
   KEY UK_XIP_WF_ENTITIES (ENTITY_CODE),
   CONSTRAINT FK_XIP_WF_ENTITIES FOREIGN KEY (APP_ID)
      REFERENCES XIP_PUB_APPS (APP_ID) ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_ENTITIES COMMENT '业务实体管理表';

CREATE TABLE XIP_WF_PROCESSES
(
   PROCESS_ID           VARCHAR(36) NOT NULL COMMENT '流程ID',
   ENTITY_ID            VARCHAR(36) NOT NULL COMMENT '实体ID',
   PROCESS_CODE         VARCHAR(200) NOT NULL COMMENT '流程编码，全局唯一',
   PROCESS_NAME         VARCHAR(500) NOT NULL COMMENT '流程名称',
   PROCESS_VERISON      NUMERIC(8,0) NOT NULL COMMENT '流程版本，自增',
   ENABLE_FLAG          VARCHAR(3) NOT NULL COMMENT '启用标记：N-失效，Y-启用，C-流程复制后状态',
   PROCESS_CATEGORY     VARCHAR(3) NOT NULL COMMENT '流程分类：P-公共流程，O-组织流程',
   ORG_ID               VARCHAR(36) COMMENT '组织ID',
   PROCESS_DESC         VARCHAR(2000) COMMENT '流程描述',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PROCESS_XML          TEXT COMMENT '流程配置XML文件',
   PRIMARY KEY (PROCESS_ID),
   KEY UK_XIP_WF_PROCESS (PROCESS_CODE),
   CONSTRAINT FK_XIP_WF_PROCESS FOREIGN KEY (ENTITY_ID)
      REFERENCES XIP_WF_ENTITIES (ENTITY_ID) ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_PROCESSES COMMENT '流程信息表';

CREATE TABLE XIP_WF_ACTS
(
   ACT_ID               VARCHAR(36) NOT NULL COMMENT '节点ID',
   PROCESS_ID           VARCHAR(36) NOT NULL COMMENT '流程ID',
   ACT_CODE             VARCHAR(200) NOT NULL COMMENT '节点编码',
   ACT_NAME             VARCHAR(500) NOT NULL COMMENT '节点名称',
   ACT_CATEGORY         VARCHAR(50) NOT NULL COMMENT '节点类型：Start-开始节点，End-结束结点，Notice-通知节点，Function-功能节点，Switch-判断结点，Countersign-会签节点，Response-抄送节点',
   ACT_DESC             VARCHAR(2000) COMMENT '节点描述',
   ACT_NUM              NUMERIC(8,0) NOT NULL COMMENT '流程图中节点编号，由设计器生成',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (ACT_ID),
   CONSTRAINT FK_XIP_WF_ACTS FOREIGN KEY (PROCESS_ID)
      REFERENCES XIP_WF_PROCESSES (PROCESS_ID) ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_ACTS COMMENT '流程节点信息表';

CREATE TABLE XIP_WF_ACT_PROPERTIES
(
   ACT_ID               VARCHAR(36) NOT NULL COMMENT '节点ID',
   PROPERTY_CODE        VARCHAR(200) NOT NULL COMMENT '属性编码',
   PROPERTY_NAME        VARCHAR(500) NOT NULL COMMENT '属性名称',
   PROPERTY_VALUE       VARCHAR(4000) COMMENT '属性值',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (ACT_ID, PROPERTY_CODE),
   CONSTRAINT FK_XIP_WF_ACT_PROPERTIES FOREIGN KEY (ACT_ID)
      REFERENCES XIP_WF_ACTS (ACT_ID) ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_ACT_PROPERTIES COMMENT '流程节点属性表';

CREATE TABLE XIP_WF_ACT_PV_ENUM
(
   VALUE_ID             VARCHAR(36) NOT NULL COMMENT '枚举值ID',
   ACT_ID               VARCHAR(36) NOT NULL COMMENT '节点ID',
   PROPERTY_CODE        VARCHAR(200) NOT NULL COMMENT '属性编码',
   EXECUTOR_TYPE        VARCHAR(3) COMMENT '执行人类型：U-用户，P-岗位，D-部门',
   EXECUTOR_VALUE       VARCHAR(36) COMMENT '执行人信息',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (VALUE_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_ACT_PV_ENUM COMMENT '节点属性枚举值表';

CREATE TABLE XIP_WF_ACT_TRANSITIONS
(
   TRANSITION_ID        VARCHAR(36) NOT NULL COMMENT '连线ID',
   PROCESS_ID           VARCHAR(36) NOT NULL COMMENT '流程ID',
   TRANSITION_CODE      VARCHAR(200) NOT NULL COMMENT '连线编码',
   TRANSITION_NAME      VARCHAR(500) COMMENT '连线名称',
   TRANSITION_ALIAS     VARCHAR(500) COMMENT '连线别名',
   TRANSITION_CATEGORY  VARCHAR(3) NOT NULL COMMENT '连线分类：Y-同意，N-驳回',
   FUNC_TYPE            VARCHAR(4) COMMENT '函数类型：PROC-存储过程，WEB-Web服务',
   FUNC                 VARCHAR(200) COMMENT '函数名称',
   FROM_ACT_ID          NUMERIC(8,0) NOT NULL COMMENT '迁出节点序号，由设计器生成',
   TO_ACT_ID            NUMERIC(8,0) NOT NULL COMMENT '迁入节点序号，由设计器生成',
   ATTRIBUTE1           VARCHAR(250) COMMENT '连线序号，由设计器生成',
   ATTRIBUTE2           VARCHAR(250) COMMENT '业务状态ID',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (TRANSITION_ID),
   CONSTRAINT FK_XIP_WF_ACT_TRANSITIONS FOREIGN KEY (PROCESS_ID)
      REFERENCES XIP_WF_PROCESSES (PROCESS_ID) ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_ACT_TRANSITIONS COMMENT '节点连线信息表';

CREATE TABLE XIP_WF_ARCH_ACTS
(
   INSTANCE_ID          VARCHAR(36) NOT NULL COMMENT '实例ID',
   ACT_ID               VARCHAR(36) NOT NULL COMMENT '节点ID',
   PROCESS_ID           VARCHAR(36) NOT NULL COMMENT '流程ID',
   ACT_CODE             VARCHAR(200) NOT NULL COMMENT '节点编码',
   ACT_NAME             VARCHAR(500) NOT NULL COMMENT '节点名称',
   ACT_CATEGORY         VARCHAR(50) NOT NULL COMMENT '节点类型：Start-开始节点，End-结束结点，Notice-通知节点，Function-功能节点，Switch-判断结点，Countersign-会签节点，Response-抄送节点
            ',
   ACT_DESC             VARCHAR(2000) COMMENT '节点描述',
   ACT_NUM              NUMERIC(8,0) NOT NULL COMMENT '流程图中节点编号，由设计器生成',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (INSTANCE_ID, ACT_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_ARCH_ACTS COMMENT '实例节点实例归档表';

CREATE TABLE XIP_WF_ARCH_ACT_PROPERTIES
(
   INSTANCE_ID          VARCHAR(36) NOT NULL COMMENT '实例ID',
   ACT_ID               VARCHAR(36) NOT NULL COMMENT '节点ID',
   PROPERTY_CODE        VARCHAR(200) NOT NULL COMMENT '节点属性编码',
   PROPERTY_NAME        VARCHAR(500) COMMENT '节点属性名称',
   PROPERTY_VALUE       VARCHAR(4000) COMMENT '属性值',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (INSTANCE_ID, ACT_ID, PROPERTY_CODE)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_ARCH_ACT_PROPERTIES COMMENT '流程实例节点属性值归档表';

CREATE TABLE XIP_WF_ARCH_ACT_PV_ENUM
(
   INSTANCE_ID          VARCHAR(36) NOT NULL COMMENT '实例ID',
   VALUE_ID             VARCHAR(36) NOT NULL COMMENT '枚举值ID',
   ACT_ID               VARCHAR(36) NOT NULL COMMENT '节点ID',
   PROPERTY_CODE        VARCHAR(200) NOT NULL COMMENT '属性编码',
   EXECUTOR_TYPE        VARCHAR(3) COMMENT '执行人类型：U-用户，P-岗位，D-部门',
   EXECUTOR_VALUE       VARCHAR(36) COMMENT '执行人信息',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (INSTANCE_ID, VALUE_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_ARCH_ACT_PV_ENUM COMMENT '实例授权节点执行人信息归档表';

CREATE TABLE XIP_WF_ARCH_ACT_STATE
(
   INSTANCE_ID          VARCHAR(36) NOT NULL COMMENT '实例ID',
   ACT_ID               VARCHAR(36) NOT NULL COMMENT '节点ID',
   ACT_STATE            VARCHAR(20) NOT NULL COMMENT '节点状态：started-开始，running-运行，completed-完成， canceled-撤销，terminate-中断',
   BEGIN_DATE           DATETIME COMMENT '开始时间',
   END_DATE             DATETIME COMMENT '结束时间',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (INSTANCE_ID, ACT_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_ARCH_ACT_STATE COMMENT '流程实例节点状态归档表';

CREATE TABLE XIP_WF_ARCH_ATTR_VALUE
(
   INSTANCE_ID          VARCHAR(36) NOT NULL COMMENT '流程实例ID',
   ENTITY_ID            VARCHAR(36) NOT NULL COMMENT '实体ID',
   ATTR_ID              VARCHAR(36) NOT NULL COMMENT '属性ID',
   ATTR_CODE            VARCHAR(200) NOT NULL COMMENT '属性编码',
   ATTR_NAME            VARCHAR(200) NOT NULL COMMENT 'i属性名称',
   ATTR_CATEGORY        VARCHAR(100) NOT NULL COMMENT '属性值类型：static-静态,dynamic-动态',
   ATTR_DATA_TYPE       VARCHAR(3) COMMENT '属性数据类型：1-字符型，2-数值型，3-日期型',
   FUNC_TYPE            VARCHAR(10) COMMENT '动态函数类型：PROC-存储过程，WEB- Web服务',
   FUNC_VALUE           VARCHAR(4000) COMMENT '动态函数：如果类型为动态，则需要指定存储过程或Web服务',
   ATTR_RESULT          VARCHAR(4000) COMMENT '属性值',
   ATTR_DESC            VARCHAR(4000) COMMENT '属性描述',
   ATTRIBUTE1           VARCHAR(250) COMMENT '回调函数类型：PROC-存储过程, WEB-WebService服务',
   ATTRIBUTE2           VARCHAR(250) COMMENT '回调函数',
   ATTRIBUTE3           VARCHAR(250) COMMENT '业务表名',
   ATTRIBUTE4           VARCHAR(250) COMMENT '业务主键名',
   ATTRIBUTE5           VARCHAR(250) COMMENT '是否失效 Y-有效,N-失效',
   ATTRIBUTE6           VARCHAR(250) COMMENT '是否为系统内置属性： Y-是，N-否',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (INSTANCE_ID, ATTR_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_ARCH_ATTR_VALUE COMMENT '实例实体属性值归档表';

CREATE TABLE XIP_WF_ARCH_CONDITIONS
(
   INSTANCE_ID          VARCHAR(36) NOT NULL COMMENT '实例ID',
   CONDITION_ID         VARCHAR(36) NOT NULL COMMENT '条件ID',
   CONDITION_NUM        VARCHAR(20) COMMENT '条件序号',
   LEFT_BRACKET         VARCHAR(20) COMMENT '左括号',
   LEFT_EXP             VARCHAR(2000) COMMENT '左表达式',
   OPERATORS            VARCHAR(10) COMMENT '操作符',
   EXP_TYPE             VARCHAR(50) COMMENT '表达式类型：fixed-静态值，attr-属性列',
   RIGHT_EXP            VARCHAR(2000) COMMENT '右表达式',
   RIGHT_BRACKET        VARCHAR(20) COMMENT '右括号',
   JOIN_OPERATORS       VARCHAR(3) COMMENT '与或连接符：AND或OR',
   GROUP_ID             VARCHAR(36) NOT NULL COMMENT '条件组ID',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (INSTANCE_ID, CONDITION_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_ARCH_CONDITIONS COMMENT '流程实例及其节点属性路由条件信息归档表';

CREATE TABLE XIP_WF_ARCH_CONDITION_GROUP
(
   INSTANCE_ID          VARCHAR(36) NOT NULL COMMENT '实例ID',
   GROUP_ID             VARCHAR(36) NOT NULL COMMENT '列表条件ID',
   PARENT_TYPE          VARCHAR(20) NOT NULL COMMENT '条件类型：P-流程级属性，A-节点级属性',
   PARENT_ID            VARCHAR(36) NOT NULL COMMENT '条件类型ID：：如果为流程级时，则为流程ID；否则为节点ID',
   PROPERTY_CODE        VARCHAR(200) NOT NULL COMMENT '条件绑定的属性编码',
   CONDITION_VALUE      VARCHAR(36) COMMENT '条件值：表单ID和用户ID',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (INSTANCE_ID, GROUP_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_ARCH_CONDITION_GROUP COMMENT '实例属性路由条件归档表';

CREATE TABLE XIP_WF_ARCH_INSTANCE
(
   INSTANCE_ID          VARCHAR(36) NOT NULL COMMENT '流程实例ID',
   PROCESS_ID           VARCHAR(36) NOT NULL COMMENT '流程ID',
   PROCESS_CODE         VARCHAR(200) NOT NULL COMMENT '流程编码',
   PROCESS_VERSION      NUMERIC(8,0) NOT NULL COMMENT '流程版本',
   INSTANCE_CODE        VARCHAR(200) NOT NULL COMMENT '流程实例编码，全局唯一',
   INSTANCE_TITLE       VARCHAR(500) COMMENT '流程实例标题',
   INSTANCE_STATE       VARCHAR(20) NOT NULL COMMENT '流程实例状态：started-开始,running-运行中,canceled-撤回,completed-完成',
   BEGIN_DATE           DATETIME NOT NULL COMMENT '开始日期',
   END_DATE             DATETIME COMMENT '结束日期',
   DESCRIPTION          VARCHAR(4000) COMMENT '实例描述',
   BUSINESS_ID          VARCHAR(36) COMMENT '业务ID',
   BUSINESS_CODE        VARCHAR(200) COMMENT '业务编码',
   BUSINESS_NAME        VARCHAR(2000) COMMENT '业务名称',
   APP_ID               VARCHAR(36) COMMENT '应用ID',
   APP_CODE             VARCHAR(200) COMMENT '应用编码',
   ENTITY_ID            VARCHAR(36) COMMENT '实体ID',
   ENTITY_CODE          VARCHAR(200) COMMENT '实体编码',
   ATTRIBUTE1           VARCHAR(250) COMMENT '业务状态',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PROCESS_XML          TEXT COMMENT '流程配置XML文件',
   PRIMARY KEY (INSTANCE_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_ARCH_INSTANCE COMMENT '流程实例归档表';

CREATE TABLE XIP_WF_ARCH_INS_PROPERTIES
(
   INSTANCE_ID          VARCHAR(36) NOT NULL COMMENT '实例ID',
   PROCESS_ID           VARCHAR(36) NOT NULL COMMENT '流程ID',
   PROPERTY_CODE        VARCHAR(200) NOT NULL COMMENT '实例属性编码',
   PROPERTY_NAME        VARCHAR(500) COMMENT '实例属性名称',
   PROPERTY_VALUE       VARCHAR(4000) COMMENT '实例值',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (INSTANCE_ID, PROCESS_ID, PROPERTY_CODE)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_ARCH_INS_PROPERTIES COMMENT '流程实例属性归档表';

CREATE TABLE XIP_WF_ARCH_TASK
(
   TASK_ID              VARCHAR(36) NOT NULL COMMENT '待办任务ID',
   PROCESS_ID           VARCHAR(36) NOT NULL COMMENT '流程ID',
   PROCESS_CODE         VARCHAR(200) NOT NULL COMMENT '流程编码',
   PROCESS_VERSION      NUMERIC(8,0) NOT NULL COMMENT '流程版本',
   INSTANCE_ID          VARCHAR(36) NOT NULL COMMENT '流程实例ID',
   INSTANCE_CODE        VARCHAR(200) NOT NULL COMMENT '实例编码',
   ACT_ID               VARCHAR(36) NOT NULL COMMENT '节点ID',
   ACT_CODE             VARCHAR(200) NOT NULL COMMENT '节点编码',
   ACT_NAME             VARCHAR(500) NOT NULL COMMENT '节点名称',
   TASK_TITLE           VARCHAR(500) NOT NULL COMMENT '待办标题',
   FROM_USER            VARCHAR(100) NOT NULL COMMENT '待办发起人',
   ASSIGN_USER          VARCHAR(100) NOT NULL COMMENT '待办所有者',
   EXECUTE_USER         VARCHAR(100) NOT NULL COMMENT '待办执行人',
   TASK_STATE           VARCHAR(20) NOT NULL COMMENT '任务状态,open-打开，hung-up-挂起，closed-关闭',
   FROM_TASK_ID         VARCHAR(36) COMMENT '来源的待办任务ID，被征询待办时不为空',
   BEGIN_DATE           DATETIME NOT NULL COMMENT '创建时间',
   END_DATE             DATETIME COMMENT '结束时间',
   APPROVE_COMMENT      VARCHAR(4000) COMMENT '审批意见',
   DESCRIPTION          VARCHAR(4000) COMMENT '描述',
   CLOSE_CAUSE          VARCHAR(50) COMMENT '关闭原因：normal - 正常关闭，recall - 撤回关闭，goback - 退回关闭，timeout-超时自动关闭，revoke-撤消征询关闭，avoid-规避关闭，countersign-会签关闭，reject-驳回关闭',
   CREATE_TYPE          VARCHAR(50) NOT NULL DEFAULT 'normal' COMMENT '待办类别：normal - 正常待办，consult - 征询待办，copyto - 抄送待办，avoid - 规避待办，start-提交人待办',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   RESULT               VARCHAR(200) COMMENT '处理结果',
   TASK_EFFECTIVE       VARCHAR(3) DEFAULT 'Y' COMMENT '待办是否有效: Y-有效,N-无效,(发生了回退或撤回时需要将相关待办设为无效)',
   CLOSED_LINE_TYPE     VARCHAR(3) COMMENT '待办关闭线编码:Y-同意线,N-不同意线',
   PRIMARY KEY (TASK_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_ARCH_TASK COMMENT '待办任务归档表';

CREATE TABLE XIP_WF_ARCH_TRANSITIONS
(
   INSTANCE_ID          VARCHAR(36) NOT NULL COMMENT '流程实例ID',
   TRANSITION_ID        VARCHAR(36) NOT NULL COMMENT '连线ID',
   PROCESS_ID           VARCHAR(36) NOT NULL COMMENT '流程ID',
   TRANSITION_CODE      VARCHAR(200) NOT NULL COMMENT '连线编码',
   TRANSITION_NAME      VARCHAR(500) COMMENT '连线名称',
   TRANSITION_ALIAS     VARCHAR(500) COMMENT '连线别名',
   TRANSITION_CATEGORY  VARCHAR(3) NOT NULL COMMENT '连线分类：Y-同意，N-驳回',
   FUNC_TYPE            VARCHAR(4) COMMENT '函数类型：PROC-存储过程，WEB-Web服务',
   FUNC                 VARCHAR(200) COMMENT '函数名称',
   FROM_ACT_ID          NUMERIC(8,0) NOT NULL COMMENT '迁出节点NUM',
   TO_ACT_ID            NUMERIC(8,0) NOT NULL COMMENT '迁入节点NUM',
   ATTRIBUTE1           VARCHAR(250) COMMENT '连线序号，由设计器生成',
   ATTRIBUTE2           VARCHAR(250) COMMENT '业务状态ID',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (INSTANCE_ID, TRANSITION_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_ARCH_TRANSITIONS COMMENT '连线实例归档表';

CREATE TABLE XIP_WF_ARCH_TRANS_STATE
(
   INSTANCE_ID          VARCHAR(36) NOT NULL COMMENT '实例ID',
   TRANSITION_ID        VARCHAR(36) NOT NULL COMMENT '连线ID',
   TRANSITION_STATE     VARCHAR(20) NOT NULL COMMENT '连线状态：Y-已流经，N-未流经',
   ATTRIBUTE1           VARCHAR(250) COMMENT '业务状态',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (INSTANCE_ID, TRANSITION_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_ARCH_TRANS_STATE COMMENT '节点连线状态归档表';

CREATE TABLE XIP_WF_BIZ_STATUS_ENUM
(
   ENUM_ID              VARCHAR(36) NOT NULL COMMENT '枚举ID',
   ENTITY_ID            VARCHAR(36) NOT NULL COMMENT '实体ID',
   STATUS_CATEGORY      VARCHAR(3) NOT NULL COMMENT '状态分类：A-起草，R-撤回、C-运行中、D-驳回、E-结束',
   STATUS_DESC          VARCHAR(1000) NOT NULL COMMENT '状态描述',
   ENABLE_FLAG          VARCHAR(3) NOT NULL COMMENT '是否启用：Y-已启用，N-未启用',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (ENUM_ID),
   CONSTRAINT FK_XIP_WF_BIZ_STATUS_ENUM FOREIGN KEY (ENTITY_ID)
      REFERENCES XIP_WF_ENTITIES (ENTITY_ID) ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_BIZ_STATUS_ENUM COMMENT '业务数据状态枚举字典表';

CREATE TABLE XIP_WF_CONDITION_GROUP
(
   GROUP_ID             VARCHAR(36) NOT NULL COMMENT '列表条件ID',
   PARENT_TYPE          VARCHAR(20) NOT NULL COMMENT '条件类型：P-流程级属性，A-节点级属性',
   PARENT_ID            VARCHAR(36) NOT NULL COMMENT '条件类型ID：如果为流程级时，则为流程ID；否则为节点ID',
   PROPERTY_CODE        VARCHAR(200) NOT NULL COMMENT '条件绑定的流程或节点属性编码',
   CONDITION_VALUE      VARCHAR(36) COMMENT '条件值',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (GROUP_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_CONDITION_GROUP COMMENT '流程或节点路由属性条件值表';

CREATE TABLE XIP_WF_CONDITIONS
(
   CONDITION_ID         VARCHAR(36) NOT NULL COMMENT '条件ID',
   CONDITION_NUM        VARCHAR(20) COMMENT '条件序号',
   LEFT_BRACKET         VARCHAR(20) COMMENT '左括号',
   LEFT_EXP             VARCHAR(2000) COMMENT '左表达式',
   OPERATORS            VARCHAR(10) COMMENT '操作符',
   EXP_TYPE             VARCHAR(50) COMMENT '表达式类型：fixed-静态值，attr-属性列',
   RIGHT_EXP            VARCHAR(2000) COMMENT '右表达式：',
   RIGHT_BRACKET        VARCHAR(20) COMMENT '右括号',
   JOIN_OPERATORS       VARCHAR(3) COMMENT '与或连接符：AND或OR',
   GROUP_ID             VARCHAR(36) COMMENT '条件组ID',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (CONDITION_ID),
   CONSTRAINT FK_XIP_WF_CONDITIONS FOREIGN KEY (GROUP_ID)
      REFERENCES XIP_WF_CONDITION_GROUP (GROUP_ID) ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_CONDITIONS COMMENT '流程或节点属性路由条件表达式表';

CREATE TABLE XIP_WF_ENTITY_ATTRS
(
   ATTR_ID              VARCHAR(36) NOT NULL COMMENT '属性ID',
   ENTITY_ID            VARCHAR(36) NOT NULL COMMENT '实体ID',
   ATTR_CODE            VARCHAR(200) NOT NULL COMMENT '属性编码',
   ATTR_NAME            VARCHAR(200) NOT NULL COMMENT 'i属性名称',
   ATTR_CATEGORY        VARCHAR(100) NOT NULL COMMENT '属性值类型：static-静态,dynamic-动态',
   ATTR_DATA_TYPE       VARCHAR(3) COMMENT '属性数据类型：1-字符型，2-数值型，3-日期型',
   FUNC_TYPE            VARCHAR(10) COMMENT '动态函数类型：PROC-存储过程，WEB- Web服务',
   FUNC_VALUE           VARCHAR(4000) COMMENT '属性值，如果类型为动态，则需要指定存储过程或Web服务',
   ATTR_DESC            VARCHAR(4000) COMMENT '属性描述',
   ATTRIBUTE1           VARCHAR(250) COMMENT '回调函数类型：PROC-存储过程, WEB-WebService服务',
   ATTRIBUTE2           VARCHAR(250) COMMENT '回调函数',
   ATTRIBUTE3           VARCHAR(250) COMMENT '业务表名',
   ATTRIBUTE4           VARCHAR(250) COMMENT '业务主键名',
   ATTRIBUTE5           VARCHAR(250) COMMENT '是否失效 Y-有效,N-失效',
   ATTRIBUTE6           VARCHAR(250) COMMENT '是否为系统内置属性： Y-是，N-否',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (ATTR_ID),
   KEY UK_XIP_WF_ENTITY_ATTRS (ENTITY_ID, ATTR_CODE),
   CONSTRAINT FK_XIP_WF_ENTITY_ATTRS FOREIGN KEY (ENTITY_ID)
      REFERENCES XIP_WF_ENTITIES (ENTITY_ID) ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_ENTITY_ATTRS COMMENT '业务实体属性管理表';

CREATE TABLE XIP_WF_PROCESS_INSTANCE
(
   INSTANCE_ID          VARCHAR(36) NOT NULL COMMENT '流程实例ID',
   PROCESS_ID           VARCHAR(36) NOT NULL COMMENT '流程ID',
   PROCESS_CODE         VARCHAR(200) NOT NULL COMMENT '流程编码',
   PROCESS_VERSION      NUMERIC(8,0) NOT NULL COMMENT '流程版本',
   INSTANCE_CODE        VARCHAR(200) NOT NULL COMMENT '流程实例编码，全局唯一',
   INSTANCE_TITLE       VARCHAR(500) COMMENT '流程实例标题',
   INSTANCE_STATE       VARCHAR(20) NOT NULL COMMENT '流程实例状态：started-开始,running-运行中,canceled-撤回,completed-完成,terminate-中断',
   BEGIN_DATE           DATETIME NOT NULL COMMENT '开始日期',
   END_DATE             DATETIME COMMENT '结束日期',
   DESCRIPTION          VARCHAR(4000) COMMENT '实例描述',
   BUSINESS_ID          VARCHAR(36) COMMENT '业务ID',
   BUSINESS_CODE        VARCHAR(200) COMMENT '业务编码',
   BUSINESS_NAME        VARCHAR(2000) COMMENT '业务名称',
   APP_ID               VARCHAR(36) COMMENT '应用ID',
   APP_CODE             VARCHAR(200) COMMENT '应用编码',
   ENTITY_ID            VARCHAR(36) COMMENT '实体ID',
   ENTITY_CODE          VARCHAR(200) COMMENT '实体编码',
   ATTRIBUTE1           VARCHAR(250) COMMENT '业务状态',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PROCESS_XML          TEXT COMMENT '流程配置XML文件',
   PRIMARY KEY (INSTANCE_ID),
   KEY UK_XIP_WF_PROCESS_INSTANCE (INSTANCE_CODE),
   CONSTRAINT FK_XIP_WF_PROCESS_INSTANCE FOREIGN KEY (PROCESS_ID)
      REFERENCES XIP_WF_PROCESSES (PROCESS_ID) ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_PROCESS_INSTANCE COMMENT '流程实例表';

CREATE TABLE XIP_WF_INS_ACTS
(
   INSTANCE_ID          VARCHAR(36) NOT NULL COMMENT '实例ID',
   ACT_ID               VARCHAR(36) NOT NULL COMMENT '节点ID',
   PROCESS_ID           VARCHAR(36) NOT NULL COMMENT '流程ID',
   ACT_CODE             VARCHAR(200) NOT NULL COMMENT '节点编码',
   ACT_NAME             VARCHAR(500) NOT NULL COMMENT '节点名称',
   ACT_CATEGORY         VARCHAR(50) NOT NULL COMMENT '节点类型：Start-开始节点，End-结束结点，Notice-通知节点，Function-功能节点，Switch-判断结点，Countersign-会签节点，Response-抄送节点
            ',
   ACT_DESC             VARCHAR(2000) COMMENT '节点描述',
   ACT_NUM              NUMERIC(8,0) NOT NULL COMMENT '流程图中节点编号，由设计器生成',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (INSTANCE_ID, ACT_ID),
   CONSTRAINT FK_XIP_WF_ACTIVITY_INSTANCE FOREIGN KEY (INSTANCE_ID)
      REFERENCES XIP_WF_PROCESS_INSTANCE (INSTANCE_ID) ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_INS_ACTS COMMENT '实例节点实例表';

CREATE TABLE XIP_WF_INS_ACT_PROPERTIES
(
   INSTANCE_ID          VARCHAR(36) NOT NULL COMMENT '实例ID',
   ACT_ID               VARCHAR(36) NOT NULL COMMENT '节点ID',
   PROPERTY_CODE        VARCHAR(200) NOT NULL COMMENT '节点属性编码',
   PROPERTY_NAME        VARCHAR(500) COMMENT '节点属性名称',
   PROPERTY_VALUE       VARCHAR(4000) COMMENT '属性值',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (INSTANCE_ID, ACT_ID, PROPERTY_CODE),
   CONSTRAINT FK_XIP_WF_INS_ACT_PROPERTIES FOREIGN KEY (INSTANCE_ID, ACT_ID)
      REFERENCES XIP_WF_INS_ACTS (INSTANCE_ID, ACT_ID) ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_INS_ACT_PROPERTIES COMMENT '流程实例节点属性值表';

CREATE TABLE XIP_WF_INS_ACT_PV_ENUM
(
   INSTANCE_ID          VARCHAR(36) NOT NULL COMMENT '实例ID',
   VALUE_ID             VARCHAR(36) NOT NULL COMMENT '枚举值ID',
   ACT_ID               VARCHAR(36) NOT NULL COMMENT '节点ID',
   PROPERTY_CODE        VARCHAR(200) NOT NULL COMMENT '属性编码',
   EXECUTOR_TYPE        VARCHAR(3) COMMENT '执行人类型：U-用户，P-岗位，D-部门',
   EXECUTOR_VALUE       VARCHAR(36) COMMENT '执行人信息',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (INSTANCE_ID, VALUE_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_INS_ACT_PV_ENUM COMMENT '实例授权节点执行人信息';

CREATE TABLE XIP_WF_INS_ACT_STATE
(
   INSTANCE_ID          VARCHAR(36) NOT NULL COMMENT '实例ID',
   ACT_ID               VARCHAR(36) NOT NULL COMMENT '节点ID',
   ACT_STATE            VARCHAR(20) NOT NULL COMMENT '节点状态：started-开始，running-运行，completed-完成， canceled-撤销，terminate-中断',
   BEGIN_DATE           DATETIME COMMENT '开始时间',
   END_DATE             DATETIME COMMENT '结束时间',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (INSTANCE_ID, ACT_ID),
   CONSTRAINT FK_XIP_WF_INS_ACT_STATE FOREIGN KEY (INSTANCE_ID, ACT_ID)
      REFERENCES XIP_WF_INS_ACTS (INSTANCE_ID, ACT_ID) ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_INS_ACT_STATE COMMENT '流程实例节点状态表';

CREATE TABLE XIP_WF_INS_ATTR_VALUE
(
   INSTANCE_ID          VARCHAR(36) NOT NULL COMMENT '流程实例ID',
   ENTITY_ID            VARCHAR(36) NOT NULL COMMENT '实体ID',
   ATTR_ID              VARCHAR(36) NOT NULL COMMENT '属性ID',
   ATTR_CODE            VARCHAR(200) NOT NULL COMMENT '属性编码',
   ATTR_NAME            VARCHAR(200) NOT NULL COMMENT 'i属性名称',
   ATTR_CATEGORY        VARCHAR(100) NOT NULL COMMENT '属性值类型：static-静态,dynamic-动态',
   ATTR_DATA_TYPE       VARCHAR(3) COMMENT '属性数据类型：1-字符型，2-数值型，3-日期型',
   FUNC_TYPE            VARCHAR(10) COMMENT '动态函数类型：PROC-存储过程，WEB- Web服务',
   FUNC_VALUE           VARCHAR(4000) COMMENT '动态函数：如果类型为动态，则需要指定存储过程或Web服务',
   ATTR_RESULT          VARCHAR(4000) COMMENT '属性值',
   ATTR_DESC            VARCHAR(4000) COMMENT '属性描述',
   ATTRIBUTE1           VARCHAR(250) COMMENT '回调函数类型：PROC-存储过程, WEB-WebService服务',
   ATTRIBUTE2           VARCHAR(250) COMMENT '回调函数',
   ATTRIBUTE3           VARCHAR(250) COMMENT '业务表名',
   ATTRIBUTE4           VARCHAR(250) COMMENT '业务主键名',
   ATTRIBUTE5           VARCHAR(250) COMMENT '是否失效 Y-有效,N-失效',
   ATTRIBUTE6           VARCHAR(250) COMMENT '是否为系统内置属性： Y-是，N-否',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (INSTANCE_ID, ATTR_ID),
   KEY UK_XIP_WF_INS_ATTR_VALUE (INSTANCE_ID, ENTITY_ID, ATTR_CODE),
   CONSTRAINT FK_XIP_WF_INS_ATTR_VALUE FOREIGN KEY (INSTANCE_ID)
      REFERENCES XIP_WF_PROCESS_INSTANCE (INSTANCE_ID) ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_INS_ATTR_VALUE COMMENT '实例实体属性值表';

CREATE TABLE XIP_WF_INS_CONDITION_GROUP
(
   INSTANCE_ID          VARCHAR(36) NOT NULL COMMENT '实例ID',
   GROUP_ID             VARCHAR(36) NOT NULL COMMENT '列表条件ID',
   PARENT_TYPE          VARCHAR(20) NOT NULL COMMENT '条件类型：P-流程级属性，A-节点级属性',
   PARENT_ID            VARCHAR(36) NOT NULL COMMENT '条件类型ID：：如果为流程级时，则为流程ID；否则为节点ID',
   PROPERTY_CODE        VARCHAR(200) NOT NULL COMMENT '条件绑定的属性编码',
   CONDITION_VALUE      VARCHAR(36) COMMENT '条件值：表单ID和用户ID',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (INSTANCE_ID, GROUP_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_INS_CONDITION_GROUP COMMENT '实例属性路由条件表';

CREATE TABLE XIP_WF_INS_CONDITIONS
(
   INSTANCE_ID          VARCHAR(36) NOT NULL COMMENT '实例ID',
   CONDITION_ID         VARCHAR(36) NOT NULL COMMENT '条件ID',
   CONDITION_NUM        VARCHAR(20) COMMENT '条件序号',
   LEFT_BRACKET         VARCHAR(20) COMMENT '左括号',
   LEFT_EXP             VARCHAR(2000) COMMENT '左表达式',
   OPERATORS            VARCHAR(10) COMMENT '操作符',
   EXP_TYPE             VARCHAR(50) COMMENT '表达式类型：fixed-静态值，attr-属性列',
   RIGHT_EXP            VARCHAR(2000) COMMENT '右表达式',
   RIGHT_BRACKET        VARCHAR(20) COMMENT '右括号',
   JOIN_OPERATORS       VARCHAR(3) COMMENT '与或连接符：AND或OR',
   GROUP_ID             VARCHAR(36) NOT NULL COMMENT '条件组ID',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (INSTANCE_ID, CONDITION_ID),
   CONSTRAINT FK_XIP_WF_INS_CONDITIONS FOREIGN KEY (INSTANCE_ID, GROUP_ID)
      REFERENCES XIP_WF_INS_CONDITION_GROUP (INSTANCE_ID, GROUP_ID) ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_INS_CONDITIONS COMMENT '流程实例及其节点属性路由条件信息表';

CREATE TABLE XIP_WF_INS_PROPERTIES
(
   INSTANCE_ID          VARCHAR(36) NOT NULL COMMENT '实例ID',
   PROCESS_ID           VARCHAR(36) NOT NULL COMMENT '流程ID',
   PROPERTY_CODE        VARCHAR(200) NOT NULL COMMENT '实例属性编码',
   PROPERTY_NAME        VARCHAR(500) COMMENT '实例属性名称',
   PROPERTY_VALUE       VARCHAR(4000) COMMENT '实例值',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (INSTANCE_ID, PROCESS_ID, PROPERTY_CODE),
   CONSTRAINT FK_XIP_WF_INS_PROPERTIES FOREIGN KEY (INSTANCE_ID)
      REFERENCES XIP_WF_PROCESS_INSTANCE (INSTANCE_ID) ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_INS_PROPERTIES COMMENT '流程实例属性表';

CREATE TABLE XIP_WF_INS_TASK
(
   TASK_ID              VARCHAR(36) NOT NULL COMMENT '待办任务ID',
   PROCESS_ID           VARCHAR(36) NOT NULL COMMENT '流程ID',
   PROCESS_CODE         VARCHAR(200) NOT NULL COMMENT '流程编码',
   PROCESS_VERSION      NUMERIC(8,0) NOT NULL COMMENT '流程版本',
   INSTANCE_ID          VARCHAR(36) NOT NULL COMMENT '流程实例ID',
   INSTANCE_CODE        VARCHAR(200) NOT NULL COMMENT '实例编码',
   ACT_ID               VARCHAR(36) NOT NULL COMMENT '节点ID',
   ACT_CODE             VARCHAR(200) NOT NULL COMMENT '节点编码',
   ACT_NAME             VARCHAR(500) NOT NULL COMMENT '节点名称',
   TASK_TITLE           VARCHAR(500) NOT NULL COMMENT '待办标题',
   FROM_USER            VARCHAR(100) NOT NULL COMMENT '待办发起人',
   ASSIGN_USER          VARCHAR(100) NOT NULL COMMENT '待办所有者',
   EXECUTE_USER         VARCHAR(100) NOT NULL COMMENT '待办执行人',
   TASK_STATE           VARCHAR(20) NOT NULL COMMENT '任务状态,open-打开，hung-up-挂起，closed-关闭',
   FROM_TASK_ID         VARCHAR(36) COMMENT '来源的待办任务ID，被征询待办时不为空',
   BEGIN_DATE           DATETIME NOT NULL COMMENT '创建时间',
   END_DATE             DATETIME COMMENT '结束时间',
   APPROVE_COMMENT      VARCHAR(4000) COMMENT '审批意见',
   DESCRIPTION          VARCHAR(4000) COMMENT '描述',
   CLOSE_CAUSE          VARCHAR(50) COMMENT '关闭原因：normal - 正常关闭，recall - 撤回关闭，goback - 退回关闭，timeout-超时自动关闭，revoke-撤消征询关闭，avoid-规避关闭，countersign-会签关闭，reject-驳回关闭',
   CREATE_TYPE          VARCHAR(50) NOT NULL DEFAULT 'normal' COMMENT '待办类别：normal - 正常待办，consult - 征询待办，copyto - 抄送待办，avoid - 规避待办，start-提交人待办',
   ATTRIBUTE1           VARCHAR(250) COMMENT '征询或委派的批注信息',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   RESULT               VARCHAR(200) COMMENT '处理结果',
   TASK_EFFECTIVE       VARCHAR(3) DEFAULT 'Y' COMMENT '待办是否有效: Y-有效,N-无效,(发生了回退或撤回时需要将相关待办设为无效)',
   CLOSED_LINE_TYPE     VARCHAR(3) COMMENT '待办关闭线编码:Y-同意线,N-不同意线',
   PRIMARY KEY (TASK_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_INS_TASK COMMENT '待办任务表';

CREATE TABLE XIP_WF_INS_TRANSITIONS
(
   INSTANCE_ID          VARCHAR(36) NOT NULL COMMENT '流程实例ID',
   TRANSITION_ID        VARCHAR(36) NOT NULL COMMENT '连线ID',
   PROCESS_ID           VARCHAR(36) NOT NULL COMMENT '流程ID',
   TRANSITION_CODE      VARCHAR(200) NOT NULL COMMENT '连线编码',
   TRANSITION_NAME      VARCHAR(500) COMMENT '连线名称',
   TRANSITION_ALIAS     VARCHAR(500) COMMENT '连线别名',
   TRANSITION_CATEGORY  VARCHAR(3) NOT NULL COMMENT '连线分类：Y-同意，N-驳回',
   FUNC_TYPE            VARCHAR(4) COMMENT '函数类型：PROC-存储过程，WEB-Web服务',
   FUNC                 VARCHAR(200) COMMENT '函数名称',
   FROM_ACT_ID          NUMERIC(8,0) NOT NULL COMMENT '迁出节点NUM',
   TO_ACT_ID            NUMERIC(8,0) NOT NULL COMMENT '迁入节点NUM',
   ATTRIBUTE1           VARCHAR(250) COMMENT '连线序号，由设计器生成',
   ATTRIBUTE2           VARCHAR(250) COMMENT '业务状态ID',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (INSTANCE_ID, TRANSITION_ID),
   CONSTRAINT FK_XIP_WF_INS_TRANSITIONS FOREIGN KEY (INSTANCE_ID)
      REFERENCES XIP_WF_PROCESS_INSTANCE (INSTANCE_ID) ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_INS_TRANSITIONS COMMENT '连线实例表';

CREATE TABLE XIP_WF_INS_TRANS_STATE
(
   INSTANCE_ID          VARCHAR(36) NOT NULL COMMENT '实例ID',
   TRANSITION_ID        VARCHAR(36) NOT NULL COMMENT '连线ID',
   TRANSITION_STATE     VARCHAR(20) NOT NULL COMMENT '连线状态：Y-已流经，N-未流经',
   ATTRIBUTE1           VARCHAR(250) COMMENT '业务状态',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (INSTANCE_ID, TRANSITION_ID),
   CONSTRAINT FK_XIP_WF_TRANSITION_STATE FOREIGN KEY (INSTANCE_ID, TRANSITION_ID)
      REFERENCES XIP_WF_INS_TRANSITIONS (INSTANCE_ID, TRANSITION_ID) ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_INS_TRANS_STATE COMMENT '节点连线状态(只保留最新状态)';

CREATE TABLE XIP_WF_PROCESS_FORMS
(
   FORM_ID              VARCHAR(36) NOT NULL COMMENT '表单ID',
   FORM_URL             VARCHAR(2000) NOT NULL COMMENT '表单URL',
   FORM_DESC            VARCHAR(2000) NOT NULL COMMENT '表单说明',
   APP_ID               VARCHAR(36) NOT NULL COMMENT '应用ID',
   ENTITY_ID            VARCHAR(36) COMMENT '实体ID',
   ENABLE_FLAG          VARCHAR(36) NOT NULL DEFAULT 'Y' COMMENT '是否启用：Y-有效，N-无效',
   CLIENT_TYPE          VARCHAR(20) NOT NULL COMMENT '客户端分类：PC-电脑客户端、PAD-平板客户端、Moblie-手机客户端',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (FORM_ID)
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_PROCESS_FORMS COMMENT '流程关联表单信息';

CREATE TABLE XIP_WF_PROCESS_FUNC
(
   PROCESS_ID           VARCHAR(36) NOT NULL COMMENT '流程ID',
   FUN_TREE_ID          VARCHAR(36) NOT NULL COMMENT '功能ID',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (PROCESS_ID, FUN_TREE_ID),
   CONSTRAINT FK_XIP_WF_PROCESS_FUNC_1 FOREIGN KEY (PROCESS_ID)
      REFERENCES XIP_WF_PROCESSES (PROCESS_ID) ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_PROCESS_FUNC COMMENT '流程与功能授权管理';

CREATE TABLE XIP_WF_PROCESS_PRIVILEGE
(
   PRIVILEGE_ID         VARCHAR(36) NOT NULL COMMENT '权限ID',
   PROCESS_ID           VARCHAR(36) NOT NULL COMMENT '流程ID',
   PRI_CATEGORY         VARCHAR(3) NOT NULL COMMENT '授权级别：U-用户，R-角色，P-岗位，O-组织',
   SOURCE_ID            VARCHAR(36) NOT NULL COMMENT '分类ID,分别对应用户ID，角色ID，岗位ID，组织ID',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (PRIVILEGE_ID),
   CONSTRAINT FK_XIP_WF_PROCESS_PRIVILEGE FOREIGN KEY (PROCESS_ID)
      REFERENCES XIP_WF_PROCESSES (PROCESS_ID) ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_PROCESS_PRIVILEGE COMMENT '流程权限信息表';

CREATE TABLE XIP_WF_PROCESS_PROPERTIES
(
   PROCESS_ID           VARCHAR(36) NOT NULL COMMENT '流程ID',
   PROPERTY_CODE        VARCHAR(200) NOT NULL COMMENT '属性编码',
   PROPERTY_NAME        VARCHAR(500) NOT NULL COMMENT '属性名称',
   PROPERTY_VALUE       VARCHAR(4000) COMMENT '属性值',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (PROCESS_ID, PROPERTY_CODE),
   CONSTRAINT FK_XIP_WF_PROCESS_PROPERTIES FOREIGN KEY (PROCESS_ID)
      REFERENCES XIP_WF_PROCESSES (PROCESS_ID) ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_PROCESS_PROPERTIES COMMENT '流程属性表';

CREATE TABLE XIP_WF_USER_COMMENT
(
   USER_ID              VARCHAR(36) NOT NULL COMMENT '用户ID',
   USER_COMMENT         VARCHAR(4000) NOT NULL COMMENT '快速意见',
   ATTRIBUTE1           VARCHAR(250) COMMENT '弹性扩展字段1',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID'
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_USER_COMMENT COMMENT '用户快速意见表';

CREATE TABLE XIP_WF_USER_HOLIDAY
(
   PRIVILEGE_ID         VARCHAR(36) NOT NULL COMMENT '权限ID',
   MASTER_USER_ID       VARCHAR(36) NOT NULL COMMENT '所有者',
   PROXY_USER_ID        VARCHAR(36) NOT NULL COMMENT '代理用户',
   BEGIN_DATE           DATETIME NOT NULL COMMENT '开始日期',
   END_DATE             DATETIME NOT NULL COMMENT '结束日期',
   ATTRIBUTE1           VARCHAR(250) COMMENT '是否启用',
   ATTRIBUTE2           VARCHAR(250) COMMENT '弹性扩展字段2',
   ATTRIBUTE3           VARCHAR(250) COMMENT '弹性扩展字段3',
   ATTRIBUTE4           VARCHAR(250) COMMENT '弹性扩展字段4',
   ATTRIBUTE5           VARCHAR(250) COMMENT '弹性扩展字段5',
   ATTRIBUTE6           VARCHAR(250) COMMENT '弹性扩展字段6',
   ATTRIBUTE7           VARCHAR(250) COMMENT '弹性扩展字段7',
   ATTRIBUTE8           VARCHAR(250) COMMENT '弹性扩展字段8',
   ATTRIBUTE9           VARCHAR(250) COMMENT '弹性扩展字段9',
   ATTRIBUTE10          VARCHAR(250) COMMENT '弹性扩展字段10',
   CREATION_DATE        DATETIME COMMENT '创建日期',
   CREATED_BY           VARCHAR(36) COMMENT '创建人',
   LAST_UPDATE_DATE     DATETIME COMMENT '最后更新日期',
   LAST_UPDATED_BY      VARCHAR(36) COMMENT '最后更新人',
   LAST_UPDATE_LOGIN    VARCHAR(36) COMMENT '最后更新登陆ID',
   PRIMARY KEY (PRIVILEGE_ID),
   CONSTRAINT FK_XIP_PUB_USER_HOLIDAY FOREIGN KEY (MASTER_USER_ID)
      REFERENCES XIP_PUB_USERS (USER_ID) ON UPDATE RESTRICT,
   CONSTRAINT FK_XIP_PUB_USER_HOLIDAY_1 FOREIGN KEY (PROXY_USER_ID)
      REFERENCES XIP_PUB_USERS (USER_ID) ON UPDATE RESTRICT
)
ENGINE = INNODB
DEFAULT CHARACTER SET = UTF8;

ALTER TABLE XIP_WF_USER_HOLIDAY COMMENT '临时授权表（如：假期规则）';
