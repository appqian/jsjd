(function(a){this.CodeMirror=a()})(function(){var cc=/gecko\/\d/i.test(navigator.userAgent);var en=/MSIE \d/.test(navigator.userAgent);var bz=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);var dm=en||bz;var m=dm&&(en?document.documentMode||6:bz[1]);var cI=/WebKit\//.test(navigator.userAgent);var dq=cI&&/Qt\/\d+\.\d+/.test(navigator.userAgent);var cU=/Chrome\//.test(navigator.userAgent);var dE=/Opera\//.test(navigator.userAgent);var az=/Apple Computer/.test(navigator.vendor);var a2=/KHTML\//.test(navigator.userAgent);var cO=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent);var e4=/PhantomJS/.test(navigator.userAgent);var eC=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent);var dR=eC||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent);var bV=eC||/Mac/.test(navigator.platform);var aH=/win/i.test(navigator.platform);var aP=dE&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);if(aP){aP=Number(aP[1])}if(aP&&aP>=15){dE=false;cI=true}var bG=bV&&(dq||dE&&(aP==null||aP<12.11));var fE=cc||(dm&&m>=9);var fH=false,aY=false;function J(fO,fP){if(!(this instanceof J)){return new J(fO,fP)}this.options=fP=fP||{};aF(eE,fP,false);b2(fP);var fR=fP.value;if(typeof fR=="string"){fR=new ap(fR,fP.mode)}this.doc=fR;var fQ=this.display=new el(fO,fR);fQ.wrapper.CodeMirror=this;dN(this);cz(this);if(fP.lineWrapping){this.display.wrapper.className+=" CodeMirror-wrap"}if(fP.autofocus&&!dR){ec(this)}this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:false,focused:false,suppressEdits:false,pasteIncoming:false,cutIncoming:false,draggingText:false,highlight:new fM()};if(dm&&m<11){setTimeout(cj(eY,this,true),20)}fp(this);a9();var fN=this;cx(this,function(){fN.curOp.forceUpdate=true;dM(fN,fR);if((fP.autofocus&&!dR)||dr()==fQ.input){setTimeout(cj(co,fN),20)}else{aM(fN)}for(var fT in a5){if(a5.hasOwnProperty(fT)){a5[fT](fN,fP[fT],b0)}}for(var fS=0;fS<aZ.length;++fS){aZ[fS](fN)}})}function el(fN,fP){var fQ=this;var fO=fQ.input=fw("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none");if(cI){fO.style.width="1000px"}else{fO.setAttribute("wrap","off")}if(eC){fO.style.border="1px solid black"}fO.setAttribute("autocorrect","off");fO.setAttribute("autocapitalize","off");fO.setAttribute("spellcheck","false");fQ.inputDiv=fw("div",[fO],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");fQ.scrollbarH=fw("div",[fw("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");fQ.scrollbarV=fw("div",[fw("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar");fQ.scrollbarFiller=fw("div",null,"CodeMirror-scrollbar-filler");fQ.gutterFiller=fw("div",null,"CodeMirror-gutter-filler");fQ.lineDiv=fw("div",null,"CodeMirror-code");fQ.selectionDiv=fw("div",null,null,"position: relative; z-index: 1");fQ.cursorDiv=fw("div",null,"CodeMirror-cursors");fQ.measure=fw("div",null,"CodeMirror-measure");fQ.lineMeasure=fw("div",null,"CodeMirror-measure");fQ.lineSpace=fw("div",[fQ.measure,fQ.lineMeasure,fQ.selectionDiv,fQ.cursorDiv,fQ.lineDiv],null,"position: relative; outline: none");fQ.mover=fw("div",[fw("div",[fQ.lineSpace],"CodeMirror-lines")],null,"position: relative");fQ.sizer=fw("div",[fQ.mover],"CodeMirror-sizer");fQ.heightForcer=fw("div",null,null,"position: absolute; height: "+bb+"px; width: 1px;");fQ.gutters=fw("div",null,"CodeMirror-gutters");fQ.lineGutter=null;fQ.scroller=fw("div",[fQ.sizer,fQ.heightForcer,fQ.gutters],"CodeMirror-scroll");fQ.scroller.setAttribute("tabIndex","-1");fQ.wrapper=fw("div",[fQ.inputDiv,fQ.scrollbarH,fQ.scrollbarV,fQ.scrollbarFiller,fQ.gutterFiller,fQ.scroller],"CodeMirror");if(dm&&m<8){fQ.gutters.style.zIndex=-1;fQ.scroller.style.paddingRight=0}if(eC){fO.style.width="0px"}if(!cI){fQ.scroller.draggable=true}if(a2){fQ.inputDiv.style.height="1px";fQ.inputDiv.style.position="absolute"}if(dm&&m<8){fQ.scrollbarH.style.minHeight=fQ.scrollbarV.style.minWidth="18px"}if(fN.appendChild){fN.appendChild(fQ.wrapper)}else{fN(fQ.wrapper)}fQ.viewFrom=fQ.viewTo=fP.first;fQ.view=[];fQ.externalMeasured=null;fQ.viewOffset=0;fQ.lastSizeC=0;fQ.updateLineNumbers=null;fQ.lineNumWidth=fQ.lineNumInnerWidth=fQ.lineNumChars=null;fQ.prevInput="";fQ.alignWidgets=false;fQ.pollingFast=false;fQ.poll=new fM();fQ.cachedCharWidth=fQ.cachedTextHeight=fQ.cachedPaddingH=null;fQ.inaccurateSelection=false;fQ.maxLine=null;fQ.maxLineLength=0;fQ.maxLineChanged=false;fQ.wheelDX=fQ.wheelDY=fQ.wheelStartX=fQ.wheelStartY=null;fQ.shift=false;fQ.selForContextMenu=null}function bi(fN){fN.doc.mode=J.getMode(fN.options,fN.doc.modeOption);dW(fN)}function dW(fN){fN.doc.iter(function(fO){if(fO.stateAfter){fO.stateAfter=null}if(fO.styles){fO.styles=null}});fN.doc.frontier=fN.doc.first;dQ(fN,100);fN.state.modeGen++;if(fN.curOp){ag(fN)}}function ej(fN){if(fN.options.lineWrapping){fa(fN.display.wrapper,"CodeMirror-wrap");fN.display.sizer.style.minWidth=""}else{g(fN.display.wrapper,"CodeMirror-wrap");h(fN)}Y(fN);ag(fN);aj(fN);setTimeout(function(){eA(fN)},100)}function a4(fN){var fP=aO(fN.display),fO=fN.options.lineWrapping;var fQ=fO&&Math.max(5,fN.display.scroller.clientWidth/dh(fN.display)-3);return function(fS){if(e6(fN.doc,fS)){return 0}var fR=0;if(fS.widgets){for(var fT=0;fT<fS.widgets.length;fT++){if(fS.widgets[fT].height){fR+=fS.widgets[fT].height}}}if(fO){return fR+(Math.ceil(fS.text.length/fQ)||1)*fP}else{return fR+fP}}}function Y(fN){var fP=fN.doc,fO=a4(fN);fP.iter(function(fQ){var fR=fO(fQ);if(fR!=fQ.height){fA(fQ,fR)}})}function fK(fN){var fP=eJ[fN.options.keyMap],fO=fP.style;fN.display.wrapper.className=fN.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(fO?" cm-keymap-"+fO:"")}function cz(fN){fN.display.wrapper.className=fN.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+fN.options.theme.replace(/(^|\s)\s*/g," cm-s-");aj(fN)}function da(fN){dN(fN);ag(fN);setTimeout(function(){eh(fN)},20)}function dN(fN){var fO=fN.display.gutters,fS=fN.options.gutters;dD(fO);for(var fP=0;fP<fS.length;++fP){var fQ=fS[fP];var fR=fO.appendChild(fw("div",null,"CodeMirror-gutter "+fQ));if(fQ=="CodeMirror-linenumbers"){fN.display.lineGutter=fR;fR.style.width=(fN.display.lineNumWidth||1)+"px"}}fO.style.display=fP?"":"none";cM(fN)}function cM(fN){var fO=fN.display.gutters.offsetWidth;fN.display.sizer.style.marginLeft=fO+"px";fN.display.scrollbarH.style.left=fN.options.fixedGutter?fO+"px":0}function dX(fP){if(fP.height==0){return 0}var fO=fP.text.length,fN,fR=fP;while(fN=eq(fR)){var fQ=fN.find(0,true);fR=fQ.from.line;fO+=fQ.from.ch-fQ.to.ch}fR=fP;while(fN=d6(fR)){var fQ=fN.find(0,true);fO-=fR.text.length-fQ.from.ch;fR=fQ.to.line;fO+=fR.text.length-fQ.to.ch}return fO}function h(fN){var fP=fN.display,fO=fN.doc;fP.maxLine=eO(fO,fO.first);fP.maxLineLength=dX(fP.maxLine);fP.maxLineChanged=true;fO.iter(function(fR){var fQ=dX(fR);if(fQ>fP.maxLineLength){fP.maxLineLength=fQ;fP.maxLine=fR}})}function b2(fN){var fO=c0(fN.gutters,"CodeMirror-linenumbers");if(fO==-1&&fN.lineNumbers){fN.gutters=fN.gutters.concat(["CodeMirror-linenumbers"])}else{if(fO>-1&&!fN.lineNumbers){fN.gutters=fN.gutters.slice(0);fN.gutters.splice(fO,1)}}}function cB(fN){return fN.display.scroller.clientHeight-fN.display.wrapper.clientHeight<bb-3}function de(fO){var fN=fO.display.scroller;return{clientHeight:fN.clientHeight,barHeight:fO.display.scrollbarV.clientHeight,scrollWidth:fN.scrollWidth,clientWidth:fN.clientWidth,hScrollbarTakesSpace:cB(fO),barWidth:fO.display.scrollbarH.clientWidth,docHeight:Math.round(fO.doc.height+by(fO.display))}}function eA(fU,fN){if(!fN){fN=de(fU)}var fR=fU.display,fO=l(fR.measure);var fV=fN.docHeight+bb;var fP=fN.scrollWidth>fN.clientWidth;if(fP&&fN.scrollWidth<=fN.clientWidth+1&&fO>0&&!fN.hScrollbarTakesSpace){fP=false}var fQ=fV>fN.clientHeight;if(fQ){fR.scrollbarV.style.display="block";fR.scrollbarV.style.bottom=fP?fO+"px":"0";fR.scrollbarV.firstChild.style.height=Math.max(0,fV-fN.clientHeight+(fN.barHeight||fR.scrollbarV.clientHeight))+"px"}else{fR.scrollbarV.style.display="";fR.scrollbarV.firstChild.style.height="0"}if(fP){fR.scrollbarH.style.display="block";fR.scrollbarH.style.right=fQ?fO+"px":"0";fR.scrollbarH.firstChild.style.width=(fN.scrollWidth-fN.clientWidth+(fN.barWidth||fR.scrollbarH.clientWidth))+"px"}else{fR.scrollbarH.style.display="";fR.scrollbarH.firstChild.style.width="0"}if(fP&&fQ){fR.scrollbarFiller.style.display="block";fR.scrollbarFiller.style.height=fR.scrollbarFiller.style.width=fO+"px"}else{fR.scrollbarFiller.style.display=""}if(fP&&fU.options.coverGutterNextToScrollbar&&fU.options.fixedGutter){fR.gutterFiller.style.display="block";fR.gutterFiller.style.height=fO+"px";fR.gutterFiller.style.width=fR.gutters.offsetWidth+"px"}else{fR.gutterFiller.style.display=""}if(!fU.state.checkedOverlayScrollbar&&fN.clientHeight>0){if(fO===0){var fT=bV&&!cO?"12px":"18px";fR.scrollbarV.style.minWidth=fR.scrollbarH.style.minHeight=fT;var fS=function(fW){if(M(fW)!=fR.scrollbarV&&M(fW)!=fR.scrollbarH){cK(fU,d4)(fW)}};bN(fR.scrollbarV,"mousedown",fS);bN(fR.scrollbarH,"mousedown",fS)}fU.state.checkedOverlayScrollbar=true}}function bU(fP,fT,fV){var fQ=fV&&fV.top!=null?Math.max(0,fV.top):fP.scroller.scrollTop;fQ=Math.floor(fQ-eH(fP));var fN=fV&&fV.bottom!=null?fV.bottom:fQ+fP.wrapper.clientHeight;var fR=bw(fT,fQ),fS=bw(fT,fN);if(fV&&fV.ensure){var fO=fV.ensure.from.line,fU=fV.ensure.to.line;if(fO<fR){return{from:fO,to:bw(fT,bC(eO(fT,fO))+fP.wrapper.clientHeight)}}if(Math.min(fU,fT.lastLine())>=fS){return{from:bw(fT,bC(eO(fT,fU))-fP.wrapper.clientHeight),to:fU}}}return{from:fR,to:Math.max(fS,fR+1)}}function eh(fV){var fT=fV.display,fU=fT.view;if(!fT.alignWidgets&&(!fT.gutters.firstChild||!fV.options.fixedGutter)){return}var fR=dz(fT)-fT.scroller.scrollLeft+fV.doc.scrollLeft;var fN=fT.gutters.offsetWidth,fO=fR+"px";for(var fQ=0;fQ<fU.length;fQ++){if(!fU[fQ].hidden){if(fV.options.fixedGutter&&fU[fQ].gutter){fU[fQ].gutter.style.left=fO}var fS=fU[fQ].alignable;if(fS){for(var fP=0;fP<fS.length;fP++){fS[fP].style.left=fO}}}}if(fV.options.fixedGutter){fT.gutters.style.left=(fR+fN)+"px"}}function dH(fN){if(!fN.options.lineNumbers){return false}var fS=fN.doc,fO=d3(fN.options,fS.first+fS.size-1),fR=fN.display;if(fO.length!=fR.lineNumChars){var fT=fR.measure.appendChild(fw("div",[fw("div",fO)],"CodeMirror-linenumber CodeMirror-gutter-elt"));var fP=fT.firstChild.offsetWidth,fQ=fT.offsetWidth-fP;fR.lineGutter.style.width="";fR.lineNumInnerWidth=Math.max(fP,fR.lineGutter.offsetWidth-fQ);fR.lineNumWidth=fR.lineNumInnerWidth+fQ;fR.lineNumChars=fR.lineNumInnerWidth?fO.length:-1;fR.lineGutter.style.width=fR.lineNumWidth+"px";cM(fN);return true}return false}function d3(fN,fO){return String(fN.lineNumberFormatter(fO+fN.firstLineNumber))}function dz(fN){return fN.scroller.getBoundingClientRect().left-fN.sizer.getBoundingClientRect().left}function dn(fS,fV,fW){var fU=fS.display.viewFrom,fT=fS.display.viewTo,fQ;var fN=bU(fS.display,fS.doc,fV);for(var fP=true;;fP=false){var fO=fS.display.scroller.clientWidth;if(!cY(fS,fN,fW)){break}fQ=true;if(fS.display.maxLineChanged&&!fS.options.lineWrapping){b(fS)}var fR=de(fS);bs(fS);dd(fS,fR);eA(fS,fR);if(cI&&fS.options.lineWrapping){fz(fS,fR)}if(cI&&fR.scrollWidth>fR.clientWidth&&fR.scrollWidth<fR.clientWidth+1&&!cB(fS)){eA(fS)}if(fP&&fS.options.lineWrapping&&fO!=fS.display.scroller.clientWidth){fW=true;continue}fW=false;if(fV&&fV.top!=null){fV={top:Math.min(fR.docHeight-bb-fR.clientHeight,fV.top)}}fN=bU(fS.display,fS.doc,fV);if(fN.from>=fS.display.viewFrom&&fN.to<=fS.display.viewTo){break}}fS.display.updateLineNumbers=null;if(fQ){ad(fS,"update",fS);if(fS.display.viewFrom!=fU||fS.display.viewTo!=fT){ad(fS,"viewportChange",fS,fS.display.viewFrom,fS.display.viewTo)}}return fQ}function cY(fX,fP,fY){var fR=fX.display,fW=fX.doc;if(!fR.wrapper.offsetWidth){d8(fX);return}if(!fY&&fP.from>=fR.viewFrom&&fP.to<=fR.viewTo&&(fR.updateLineNumbers==null||fR.updateLineNumbers>=fR.viewTo)&&cT(fX)==0){return}if(dH(fX)){d8(fX)}var fV=eL(fX);var fQ=fW.first+fW.size;var fU=Math.max(fP.from-fX.options.viewportMargin,fW.first);var fT=Math.min(fQ,fP.to+fX.options.viewportMargin);if(fR.viewFrom<fU&&fU-fR.viewFrom<20){fU=Math.max(fW.first,fR.viewFrom)}if(fR.viewTo>fT&&fR.viewTo-fT<20){fT=Math.min(fQ,fR.viewTo)}if(aY){fU=aN(fX.doc,fU);fT=dF(fX.doc,fT)}var fO=fU!=fR.viewFrom||fT!=fR.viewTo||fR.lastSizeC!=fR.wrapper.clientHeight;cC(fX,fU,fT);fR.viewOffset=bC(eO(fX.doc,fR.viewFrom));fX.display.mover.style.top=fR.viewOffset+"px";var fN=cT(fX);if(!fO&&fN==0&&!fY){return}var fS=dr();if(fN>4){fR.lineDiv.style.display="none"}ca(fX,fR.updateLineNumbers,fV);if(fN>4){fR.lineDiv.style.display=""}if(fS&&dr()!=fS&&fS.offsetHeight){fS.focus()}dD(fR.cursorDiv);dD(fR.selectionDiv);if(fO){fR.lastSizeC=fR.wrapper.clientHeight;dQ(fX,400)}a0(fX);return true}function b(fN){var fR=fN.display;var fP=dS(fN,fR.maxLine,fR.maxLine.text.length).left;fR.maxLineChanged=false;var fO=Math.max(0,fP+3);var fQ=Math.max(0,fR.sizer.offsetLeft+fO+bb-fR.scroller.clientWidth);fR.sizer.style.minWidth=fO+"px";if(fQ<fN.doc.scrollLeft){bu(fN,Math.min(fR.scroller.scrollLeft,fQ),true)}}function dd(fN,fO){fN.display.sizer.style.minHeight=fN.display.heightForcer.style.top=fO.docHeight+"px";fN.display.gutters.style.height=Math.max(fO.docHeight,fO.clientHeight-bb)+"px"}function fz(fN,fO){if(fN.display.sizer.offsetWidth+fN.display.gutters.offsetWidth<fN.display.scroller.clientWidth-1){fN.display.sizer.style.minHeight=fN.display.heightForcer.style.top="0px";fN.display.gutters.style.height=fO.docHeight+"px"}}function a0(fU){var fS=fU.display;var fO=fS.lineDiv.offsetTop;for(var fP=0;fP<fS.view.length;fP++){var fV=fS.view[fP],fW;if(fV.hidden){continue}if(dm&&m<8){var fR=fV.node.offsetTop+fV.node.offsetHeight;fW=fR-fO;fO=fR}else{var fQ=fV.node.getBoundingClientRect();fW=fQ.bottom-fQ.top}var fT=fV.line.height-fW;if(fW<2){fW=aO(fS)}if(fT>0.001||fT<-0.001){fA(fV.line,fW);bZ(fV.line);if(fV.rest){for(var fN=0;fN<fV.rest.length;fN++){bZ(fV.rest[fN])}}}}}function bZ(fN){if(fN.widgets){for(var fO=0;fO<fN.widgets.length;++fO){fN.widgets[fO].height=fN.widgets[fO].node.offsetHeight}}}function eL(fN){var fR=fN.display,fQ={},fP={};for(var fS=fR.gutters.firstChild,fO=0;fS;fS=fS.nextSibling,++fO){fQ[fN.options.gutters[fO]]=fS.offsetLeft;fP[fN.options.gutters[fO]]=fS.offsetWidth}return{fixedPos:dz(fR),gutterTotalWidth:fR.gutters.offsetWidth,gutterLeft:fQ,gutterWidth:fP,wrapperWidth:fR.wrapper.clientWidth}}function ca(fY,fP,fX){var fU=fY.display,f0=fY.options.lineNumbers;var fN=fU.lineDiv,fZ=fN.firstChild;function fT(f2){var f1=f2.nextSibling;if(cI&&bV&&fY.display.currentWheelTarget==f2){f2.style.display="none"}else{f2.parentNode.removeChild(f2)}return f1}var fV=fU.view,fS=fU.viewFrom;for(var fQ=0;fQ<fV.length;fQ++){var fR=fV[fQ];if(fR.hidden){}else{if(!fR.node){var fO=aB(fY,fR,fS,fX);fN.insertBefore(fO,fZ)}else{while(fZ!=fR.node){fZ=fT(fZ)}var fW=f0&&fP!=null&&fP<=fS&&fR.lineNumber;if(fR.changes){if(c0(fR.changes,"gutter")>-1){fW=false}aa(fY,fR,fS,fX)}if(fW){dD(fR.lineNumber);fR.lineNumber.appendChild(document.createTextNode(d3(fY.options,fS)))}fZ=fR.node.nextSibling}}fS+=fR.size}while(fZ){fZ=fT(fZ)}}function aa(fN,fP,fR,fS){for(var fO=0;fO<fP.changes.length;fO++){var fQ=fP.changes[fO];if(fQ=="text"){eU(fN,fP)}else{if(fQ=="gutter"){cX(fN,fP,fR,fS)}else{if(fQ=="class"){dk(fP)}else{if(fQ=="widget"){am(fP,fS)}}}}}fP.changes=null}function fi(fN){if(fN.node==fN.text){fN.node=fw("div",null,null,"position: relative");if(fN.text.parentNode){fN.text.parentNode.replaceChild(fN.node,fN.text)}fN.node.appendChild(fN.text);if(dm&&m<8){fN.node.style.zIndex=2}}return fN.node}function d5(fO){var fN=fO.bgClass?fO.bgClass+" "+(fO.line.bgClass||""):fO.line.bgClass;if(fN){fN+=" CodeMirror-linebackground"}if(fO.background){if(fN){fO.background.className=fN}else{fO.background.parentNode.removeChild(fO.background);fO.background=null}}else{if(fN){var fP=fi(fO);fO.background=fP.insertBefore(fw("div",null,fN),fP.firstChild)}}}function dx(fN,fO){var fP=fN.display.externalMeasured;if(fP&&fP.line==fO.line){fN.display.externalMeasured=null;fO.measure=fP.measure;return fP.built}return eu(fN,fO)}function eU(fN,fQ){var fO=fQ.text.className;var fP=dx(fN,fQ);if(fQ.text==fQ.node){fQ.node=fP.pre}fQ.text.parentNode.replaceChild(fP.pre,fQ.text);fQ.text=fP.pre;if(fP.bgClass!=fQ.bgClass||fP.textClass!=fQ.textClass){fQ.bgClass=fP.bgClass;fQ.textClass=fP.textClass;dk(fQ)}else{if(fO){fQ.text.className=fO}}}function dk(fO){d5(fO);if(fO.line.wrapClass){fi(fO).className=fO.line.wrapClass}else{if(fO.node!=fO.text){fO.node.className=""}}var fN=fO.textClass?fO.textClass+" "+(fO.line.textClass||""):fO.line.textClass;fO.text.className=fN||""}function cX(fV,fT,fS,fU){if(fT.gutter){fT.node.removeChild(fT.gutter);fT.gutter=null}var fQ=fT.line.gutterMarkers;if(fV.options.lineNumbers||fQ){var fO=fi(fT);var fR=fT.gutter=fO.insertBefore(fw("div",null,"CodeMirror-gutter-wrapper","position: absolute; left: "+(fV.options.fixedGutter?fU.fixedPos:-fU.gutterTotalWidth)+"px"),fT.text);if(fV.options.lineNumbers&&(!fQ||!fQ["CodeMirror-linenumbers"])){fT.lineNumber=fR.appendChild(fw("div",d3(fV.options,fS),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+fU.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+fV.display.lineNumInnerWidth+"px"))}if(fQ){for(var fP=0;fP<fV.options.gutters.length;++fP){var fN=fV.options.gutters[fP],fW=fQ.hasOwnProperty(fN)&&fQ[fN];if(fW){fR.appendChild(fw("div",[fW],"CodeMirror-gutter-elt","left: "+fU.gutterLeft[fN]+"px; width: "+fU.gutterWidth[fN]+"px"))}}}}}function am(fN,fQ){if(fN.alignable){fN.alignable=null}for(var fP=fN.node.firstChild,fO;fP;fP=fO){var fO=fP.nextSibling;if(fP.className=="CodeMirror-linewidget"){fN.node.removeChild(fP)}}e3(fN,fQ)}function aB(fN,fP,fQ,fR){var fO=dx(fN,fP);fP.text=fP.node=fO.pre;if(fO.bgClass){fP.bgClass=fO.bgClass}if(fO.textClass){fP.textClass=fO.textClass}dk(fP);cX(fN,fP,fQ,fR);e3(fP,fR);return fP.node}function e3(fO,fP){fB(fO.line,fO,fP,true);if(fO.rest){for(var fN=0;fN<fO.rest.length;fN++){fB(fO.rest[fN],fO,fP,false)}}}function fB(fV,fS,fU,fQ){if(!fV.widgets){return}var fN=fi(fS);for(var fP=0,fT=fV.widgets;fP<fT.length;++fP){var fR=fT[fP],fO=fw("div",[fR.node],"CodeMirror-linewidget");if(!fR.handleMouseEvents){fO.ignoreEvents=true}bv(fR,fO,fS,fU);if(fQ&&fR.above){fN.insertBefore(fO,fS.gutter||fS.text)}else{fN.appendChild(fO)}ad(fR,"redraw")}}function bv(fQ,fP,fN,fR){if(fQ.noHScroll){(fN.alignable||(fN.alignable=[])).push(fP);var fO=fR.wrapperWidth;fP.style.left=fR.fixedPos+"px";if(!fQ.coverGutter){fO-=fR.gutterTotalWidth;fP.style.paddingLeft=fR.gutterTotalWidth+"px"}fP.style.width=fO+"px"}if(fQ.coverGutter){fP.style.zIndex=5;fP.style.position="relative";if(!fQ.noHScroll){fP.style.marginLeft=-fR.gutterTotalWidth+"px"}}}var X=J.Pos=function(fN,fO){if(!(this instanceof X)){return new X(fN,fO)}this.line=fN;this.ch=fO};var b3=J.cmpPos=function(fO,fN){return fO.line-fN.line||fO.ch-fN.ch};function b7(fN){return X(fN.line,fN.ch)}function bo(fO,fN){return b3(fO,fN)<0?fN:fO}function an(fO,fN){return b3(fO,fN)<0?fO:fN}function fx(fN,fO){this.ranges=fN;this.primIndex=fO}fx.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(fN){if(fN==this){return true}if(fN.primIndex!=this.primIndex||fN.ranges.length!=this.ranges.length){return false}for(var fP=0;fP<this.ranges.length;fP++){var fO=this.ranges[fP],fQ=fN.ranges[fP];if(b3(fO.anchor,fQ.anchor)!=0||b3(fO.head,fQ.head)!=0){return false}}return true},deepCopy:function(){for(var fN=[],fO=0;fO<this.ranges.length;fO++){fN[fO]=new dA(b7(this.ranges[fO].anchor),b7(this.ranges[fO].head))}return new fx(fN,this.primIndex)},somethingSelected:function(){for(var fN=0;fN<this.ranges.length;fN++){if(!this.ranges[fN].empty()){return true}}return false},contains:function(fQ,fN){if(!fN){fN=fQ}for(var fP=0;fP<this.ranges.length;fP++){var fO=this.ranges[fP];if(b3(fN,fO.from())>=0&&b3(fQ,fO.to())<=0){return fP}}return -1}};function dA(fN,fO){this.anchor=fN;this.head=fO}dA.prototype={from:function(){return an(this.anchor,this.head)},to:function(){return bo(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};function ck(fN,fU){var fP=fN[fU];fN.sort(function(fX,fW){return b3(fX.from(),fW.from())});fU=c0(fN,fP);for(var fR=1;fR<fN.length;fR++){var fV=fN[fR],fO=fN[fR-1];if(b3(fO.to(),fV.from())>=0){var fS=an(fO.from(),fV.from()),fT=bo(fO.to(),fV.to());var fQ=fO.empty()?fV.from()==fV.head:fO.from()==fO.head;if(fR<=fU){--fU}fN.splice(--fR,2,new dA(fQ?fT:fS,fQ?fS:fT))}}return new fx(fN,fU)}function et(fN,fO){return new fx([new dA(fN,fO||fN)],0)}function cN(fN,fO){return Math.max(fN.first,Math.min(fO,fN.first+fN.size-1))}function fj(fO,fP){if(fP.line<fO.first){return X(fO.first,0)}var fN=fO.first+fO.size-1;if(fP.line>fN){return X(fN,eO(fO,fN).text.length)}return e2(fP,eO(fO,fP.line).text.length)}function e2(fP,fO){var fN=fP.ch;if(fN==null||fN>fO){return X(fP.line,fO)}else{if(fN<0){return X(fP.line,0)}else{return fP}}}function bX(fO,fN){return fN>=fO.first&&fN<fO.first+fO.size}function dB(fP,fQ){for(var fN=[],fO=0;fO<fQ.length;fO++){fN[fO]=fj(fP,fQ[fO])}return fN}function e5(fS,fO,fR,fN){if(fS.cm&&fS.cm.display.shift||fS.extend){var fQ=fO.anchor;if(fN){var fP=b3(fR,fQ)<0;if(fP!=(b3(fN,fQ)<0)){fQ=fR;fR=fN}else{if(fP!=(b3(fR,fN)<0)){fR=fN}}}return new dA(fQ,fR)}else{return new dA(fN||fR,fR)}}function ft(fQ,fP,fN,fO){bK(fQ,new fx([e5(fQ,fQ.sel.primary(),fP,fN)],0),fO)}function au(fS,fR,fP){for(var fO=[],fQ=0;fQ<fS.sel.ranges.length;fQ++){fO[fQ]=e5(fS,fS.sel.ranges[fQ],fR[fQ],null)}var fN=ck(fO,fS.sel.primIndex);bK(fS,fN,fP)}function f(fR,fQ,fO,fP){var fN=fR.sel.ranges.slice(0);fN[fQ]=fO;bK(fR,ck(fN,fR.sel.primIndex),fP)}function H(fQ,fO,fP,fN){bK(fQ,et(fO,fP),fN)}function d(fP,fN){var fO={ranges:fN.ranges,update:function(fQ){this.ranges=[];for(var fR=0;fR<fQ.length;fR++){this.ranges[fR]=new dA(fj(fP,fQ[fR].anchor),fj(fP,fQ[fR].head))}}};aA(fP,"beforeSelectionChange",fP,fO);if(fP.cm){aA(fP.cm,"beforeSelectionChange",fP.cm,fO)}if(fO.ranges!=fN.ranges){return ck(fO.ranges,fO.ranges.length-1)}else{return fN}}function eG(fR,fQ,fO){var fN=fR.history.done,fP=fh(fN);if(fP&&fP.ranges){fN[fN.length-1]=fQ;d0(fR,fQ,fO)}else{bK(fR,fQ,fO)}}function bK(fP,fO,fN){d0(fP,fO,fN);fG(fP,fP.sel,fP.cm?fP.cm.curOp.id:NaN,fN)}function d0(fQ,fP,fO){if(eR(fQ,"beforeSelectionChange")||fQ.cm&&eR(fQ.cm,"beforeSelectionChange")){fP=d(fQ,fP)}var fN=fO&&fO.bias||(b3(fP.primary().head,fQ.sel.primary().head)<0?-1:1);cR(fQ,p(fQ,fP,fN,true));if(!(fO&&fO.scroll===false)&&fQ.cm){fg(fQ.cm)}}function cR(fO,fN){if(fN.equals(fO.sel)){return}fO.sel=fN;if(fO.cm){fO.cm.curOp.updateInput=fO.cm.curOp.selectionChanged=true;W(fO.cm)}ad(fO,"cursorActivity",fO)}function d9(fN){cR(fN,p(fN,fN.sel,null,false),Z)}function p(fV,fN,fS,fT){var fP;for(var fQ=0;fQ<fN.ranges.length;fQ++){var fR=fN.ranges[fQ];var fU=bL(fV,fR.anchor,fS,fT);var fO=bL(fV,fR.head,fS,fT);if(fP||fU!=fR.anchor||fO!=fR.head){if(!fP){fP=fN.ranges.slice(0,fQ)}fP[fQ]=new dA(fU,fO)}}return fP?ck(fP,fN.primIndex):fN}function bL(fW,fV,fS,fT){var fX=false,fP=fV;var fQ=fS||1;fW.cantEdit=false;search:for(;;){var fY=eO(fW,fP.line);if(fY.markedSpans){for(var fR=0;fR<fY.markedSpans.length;++fR){var fN=fY.markedSpans[fR],fO=fN.marker;if((fN.from==null||(fO.inclusiveLeft?fN.from<=fP.ch:fN.from<fP.ch))&&(fN.to==null||(fO.inclusiveRight?fN.to>=fP.ch:fN.to>fP.ch))){if(fT){aA(fO,"beforeCursorEnter");if(fO.explicitlyCleared){if(!fY.markedSpans){break}else{--fR;continue}}}if(!fO.atomic){continue}var fU=fO.find(fQ<0?-1:1);if(b3(fU,fP)==0){fU.ch+=fQ;if(fU.ch<0){if(fU.line>fW.first){fU=fj(fW,X(fU.line-1))}else{fU=null}}else{if(fU.ch>fY.text.length){if(fU.line<fW.first+fW.size-1){fU=X(fU.line+1,0)}else{fU=null}}}if(!fU){if(fX){if(!fT){return bL(fW,fV,fS,true)}fW.cantEdit=true;return X(fW.first,0)}fX=true;fU=fV;fQ=-fQ}}fP=fU;continue search}}}return fP}}function bs(fZ){var fU=fZ.display,fY=fZ.doc;var fW=document.createDocumentFragment();var fQ=document.createDocumentFragment();for(var fS=0;fS<fY.sel.ranges.length;fS++){var fT=fY.sel.ranges[fS];var fR=fT.empty();if(fR||fZ.options.showCursorWhenSelecting){C(fZ,fT,fW)}if(!fR){bt(fZ,fT,fQ)}}if(fZ.options.moveInputWithCursor){var fV=dw(fZ,fY.sel.primary().head,"div");var fN=fU.wrapper.getBoundingClientRect(),fP=fU.lineDiv.getBoundingClientRect();var fX=Math.max(0,Math.min(fU.wrapper.clientHeight-10,fV.top+fP.top-fN.top));var fO=Math.max(0,Math.min(fU.wrapper.clientWidth-10,fV.left+fP.left-fN.left));fU.inputDiv.style.top=fX+"px";fU.inputDiv.style.left=fO+"px"}bH(fU.cursorDiv,fW);bH(fU.selectionDiv,fQ)}function C(fN,fQ,fP){var fS=dw(fN,fQ.head,"div",null,null,!fN.options.singleCursorHeightPerLine);var fR=fP.appendChild(fw("div","\u00a0","CodeMirror-cursor"));fR.style.left=fS.left+"px";fR.style.top=fS.top+"px";fR.style.height=Math.max(0,fS.bottom-fS.top)*fN.options.cursorHeight+"px";if(fS.other){var fO=fP.appendChild(fw("div","\u00a0","CodeMirror-cursor CodeMirror-secondarycursor"));fO.style.display="";fO.style.left=fS.other.left+"px";fO.style.top=fS.other.top+"px";fO.style.height=(fS.other.bottom-fS.other.top)*0.85+"px"}}function bt(fR,fX,fS){var f0=fR.display,f4=fR.doc;var fN=document.createDocumentFragment();var fW=eF(fR.display),fQ=fW.left,f1=f0.lineSpace.offsetWidth-fW.right;function fY(f8,f7,f6,f5){if(f7<0){f7=0}f7=Math.round(f7);f5=Math.round(f5);fN.appendChild(fw("div",null,"CodeMirror-selected","position: absolute; left: "+f8+"px; top: "+f7+"px; width: "+(f6==null?f1-f8:f6)+"px; height: "+(f5-f7)+"px"))}function fO(f6,f8,gb){var f7=eO(f4,f6);var f9=f7.text.length;var gc,f5;function ga(ge,gd){return cv(fR,X(f6,ge),"div",f7,gd)}dG(a(f7),f8||0,gb==null?f9:gb,function(gk,gj,gd){var gg=ga(gk,"left"),gh,gi,gf;if(gk==gj){gh=gg;gi=gf=gg.left}else{gh=ga(gj-1,"right");if(gd=="rtl"){var ge=gg;gg=gh;gh=ge}gi=gg.left;gf=gh.right}if(f8==null&&gk==0){gi=fQ}if(gh.top-gg.top>3){fY(gi,gg.top,null,gg.bottom);gi=fQ;if(gg.bottom<gh.top){fY(gi,gg.bottom,null,gh.top)}}if(gb==null&&gj==f9){gf=f1}if(!gc||gg.top<gc.top||gg.top==gc.top&&gg.left<gc.left){gc=gg}if(!f5||gh.bottom>f5.bottom||gh.bottom==f5.bottom&&gh.right>f5.right){f5=gh}if(gi<fQ+1){gi=fQ}fY(gi,gh.top,gf-gi,gh.bottom)});return{start:gc,end:f5}}var f3=fX.from(),f2=fX.to();if(f3.line==f2.line){fO(f3.line,f3.ch,f2.ch)}else{var fP=eO(f4,f3.line),fU=eO(f4,f2.line);var fT=A(fP)==A(fU);var fV=fO(f3.line,f3.ch,fT?fP.text.length+1:null).end;var fZ=fO(f2.line,fT?0:null,f2.ch).start;if(fT){if(fV.top<fZ.top-2){fY(fV.right,fV.top,null,fV.bottom);fY(fQ,fZ.top,fZ.left,fZ.bottom)}else{fY(fV.right,fV.top,fZ.left-fV.right,fV.bottom)}}if(fV.bottom<fZ.top){fY(fQ,fV.bottom,null,fZ.top)}}fS.appendChild(fN)}function q(fN){if(!fN.state.focused){return}var fP=fN.display;clearInterval(fP.blinker);var fO=true;fP.cursorDiv.style.visibility="";if(fN.options.cursorBlinkRate>0){fP.blinker=setInterval(function(){fP.cursorDiv.style.visibility=(fO=!fO)?"":"hidden"},fN.options.cursorBlinkRate)}else{if(fN.options.cursorBlinkRate<0){fP.cursorDiv.style.visibility="hidden"}}}function dQ(fN,fO){if(fN.doc.mode.startState&&fN.doc.frontier<fN.display.viewTo){fN.state.highlight.set(fO,cj(cA,fN))}}function cA(fN){var fQ=fN.doc;if(fQ.frontier<fQ.first){fQ.frontier=fQ.first}if(fQ.frontier>=fN.display.viewTo){return}var fO=+new Date+fN.options.workTime;var fP=bS(fQ.mode,df(fN,fQ.frontier));cx(fN,function(){fQ.iter(fQ.frontier,Math.min(fQ.first+fQ.size,fN.display.viewTo+500),function(fR){if(fQ.frontier>=fN.display.viewFrom){var fU=fR.styles;var fW=e9(fN,fR,fP,true);fR.styles=fW.styles;var fT=fR.styleClasses,fV=fW.classes;if(fV){fR.styleClasses=fV}else{if(fT){fR.styleClasses=null}}var fX=!fU||fU.length!=fR.styles.length||fT!=fV&&(!fT||!fV||fT.bgClass!=fV.bgClass||fT.textClass!=fV.textClass);for(var fS=0;!fX&&fS<fU.length;++fS){fX=fU[fS]!=fR.styles[fS]}if(fX){S(fN,fQ.frontier,"text")}fR.stateAfter=bS(fQ.mode,fP)}else{db(fN,fR.text,fP);fR.stateAfter=fQ.frontier%5==0?bS(fQ.mode,fP):null}++fQ.frontier;if(+new Date>fO){dQ(fN,fN.options.workDelay);return true}})})}function cm(fT,fN,fQ){var fO,fR,fS=fT.doc;var fP=fQ?-1:fN-(fT.doc.mode.innerMode?1000:100);for(var fW=fN;fW>fP;--fW){if(fW<=fS.first){return fS.first}var fV=eO(fS,fW-1);if(fV.stateAfter&&(!fQ||fW<=fS.frontier)){return fW}var fU=bJ(fV.text,null,fT.options.tabSize);if(fR==null||fO>fU){fR=fW-1;fO=fU}}return fR}function df(fN,fT,fO){var fR=fN.doc,fQ=fN.display;if(!fR.mode.startState){return true}var fS=cm(fN,fT,fO),fP=fS>fR.first&&eO(fR,fS-1).stateAfter;if(!fP){fP=bQ(fR.mode)}else{fP=bS(fR.mode,fP)}fR.iter(fS,fT,function(fU){db(fN,fU.text,fP);var fV=fS==fT-1||fS%5==0||fS>=fQ.viewFrom&&fS<fQ.viewTo;fU.stateAfter=fV?bS(fR.mode,fP):null;++fS});if(fO){fR.frontier=fS}return fP}function eH(fN){return fN.lineSpace.offsetTop}function by(fN){return fN.mover.offsetHeight-fN.lineSpace.offsetHeight}function eF(fQ){if(fQ.cachedPaddingH){return fQ.cachedPaddingH}var fP=bH(fQ.measure,fw("pre","x"));var fN=window.getComputedStyle?window.getComputedStyle(fP):fP.currentStyle;var fO={left:parseInt(fN.paddingLeft),right:parseInt(fN.paddingRight)};if(!isNaN(fO.left)&&!isNaN(fO.right)){fQ.cachedPaddingH=fO}return fO}function b6(fU,fQ,fT){var fP=fU.options.lineWrapping;var fR=fP&&fU.display.scroller.clientWidth;if(!fQ.measure.heights||fP&&fQ.measure.width!=fR){var fS=fQ.measure.heights=[];if(fP){fQ.measure.width=fR;var fW=fQ.text.firstChild.getClientRects();for(var fN=0;fN<fW.length-1;fN++){var fV=fW[fN],fO=fW[fN+1];if(Math.abs(fV.bottom-fO.bottom)>2){fS.push((fV.bottom+fO.top)/2-fT.top)}}}fS.push(fT.bottom-fT.top)}}function ch(fP,fN,fQ){if(fP.line==fN){return{map:fP.measure.map,cache:fP.measure.cache}}for(var fO=0;fO<fP.rest.length;fO++){if(fP.rest[fO]==fN){return{map:fP.measure.maps[fO],cache:fP.measure.caches[fO]}}}for(var fO=0;fO<fP.rest.length;fO++){if(bD(fP.rest[fO])>fQ){return{map:fP.measure.maps[fO],cache:fP.measure.caches[fO],before:true}}}}function cJ(fN,fP){fP=A(fP);var fR=bD(fP);var fO=fN.display.externalMeasured=new bm(fN.doc,fP,fR);fO.lineN=fR;var fQ=fO.built=eu(fN,fO);fO.text=fQ.pre;bH(fN.display.lineMeasure,fQ.pre);return fO}function dS(fN,fO,fQ,fP){return E(fN,aV(fN,fO),fQ,fP)}function eK(fN,fP){if(fP>=fN.display.viewFrom&&fP<fN.display.viewTo){return fN.display.view[c6(fN,fP)]}var fO=fN.display.externalMeasured;if(fO&&fP>=fO.lineN&&fP<fO.lineN+fO.size){return fO}}function aV(fN,fP){var fQ=bD(fP);var fO=eK(fN,fQ);if(fO&&!fO.text){fO=null}else{if(fO&&fO.changes){aa(fN,fO,fQ,eL(fN))}}if(!fO){fO=cJ(fN,fP)}var fR=ch(fO,fP,fQ);return{line:fP,view:fO,rect:null,map:fR.map,cache:fR.cache,before:fR.before,hasHeights:false}}function E(fN,fT,fR,fO,fQ){if(fT.before){fR=-1}var fP=fR+(fO||""),fS;if(fT.cache.hasOwnProperty(fP)){fS=fT.cache[fP]}else{if(!fT.rect){fT.rect=fT.view.text.getBoundingClientRect()}if(!fT.hasHeights){b6(fN,fT.view,fT.rect);fT.hasHeights=true}fS=k(fN,fT,fR,fO);if(!fS.bogus){fT.cache[fP]=fS}}return{left:fS.left,right:fS.right,top:fQ?fS.rtop:fS.top,bottom:fQ?fS.rbottom:fS.bottom}}var ed={left:0,right:0,top:0,bottom:0};function k(fU,f4,fW,fS){var f8=f4.map;var f1,fR,fQ,fN;for(var f3=0;f3<f8.length;f3+=3){var f6=f8[f3],f2=f8[f3+1];if(fW<f6){fR=0;fQ=1;fN="left"}else{if(fW<f2){fR=fW-f6;fQ=fR+1}else{if(f3==f8.length-3||fW==f2&&f8[f3+3]>fW){fQ=f2-f6;fR=fQ-1;if(fW>=f2){fN="right"}}}}if(fR!=null){f1=f8[f3+2];if(f6==f2&&fS==(f1.insertLeft?"left":"right")){fN=fS}if(fS=="left"&&fR==0){while(f3&&f8[f3-2]==f8[f3-3]&&f8[f3-1].insertLeft){f1=f8[(f3-=3)+2];fN="left"}}if(fS=="right"&&fR==f2-f6){while(f3<f8.length-3&&f8[f3+3]==f8[f3+4]&&!f8[f3+5].insertLeft){f1=f8[(f3+=3)+2];fN="right"}}break}}var fO;if(f1.nodeType==3){while(fR&&eZ(f4.line.text.charAt(f6+fR))){--fR}while(f6+fQ<f2&&eZ(f4.line.text.charAt(f6+fQ))){++fQ}if(dm&&m<9&&fR==0&&fQ==f2-f6){fO=f1.parentNode.getBoundingClientRect()}else{if(dm&&fU.options.lineWrapping){var fP=b9(f1,fR,fQ).getClientRects();if(fP.length){fO=fP[fS=="right"?fP.length-1:0]}else{fO=ed}}else{fO=b9(f1,fR,fQ).getBoundingClientRect()||ed}}}else{if(fR>0){fN=fS="right"}var fP;if(fU.options.lineWrapping&&(fP=f1.getClientRects()).length>1){fO=fP[fS=="right"?fP.length-1:0]}else{fO=f1.getBoundingClientRect()}}if(dm&&m<9&&!fR&&(!fO||!fO.left&&!fO.right)){var fT=f1.parentNode.getClientRects()[0];if(fT){fO={left:fT.left,right:fT.left+dh(fU.display),top:fT.top,bottom:fT.bottom}}else{fO=ed}}var fZ=fO.top-f4.rect.top,fX=fO.bottom-f4.rect.top;var f7=(fZ+fX)/2;var f5=f4.view.measure.heights;for(var f3=0;f3<f5.length-1;f3++){if(f7<f5[f3]){break}}var f0=f3?f5[f3-1]:0,fY=f5[f3];var fV={left:(fN=="right"?fO.right:fO.left)-f4.rect.left,right:(fN=="left"?fO.left:fO.right)-f4.rect.left,top:f0,bottom:fY};if(!fO.left&&!fO.right){fV.bogus=true}if(!fU.options.singleCursorHeightPerLine){fV.rtop=fZ;fV.rbottom=fX}return fV}function aq(fO){if(fO.measure){fO.measure.cache={};fO.measure.heights=null;if(fO.rest){for(var fN=0;fN<fO.rest.length;fN++){fO.measure.caches[fN]={}}}}}function aG(fN){fN.display.externalMeasure=null;dD(fN.display.lineMeasure);for(var fO=0;fO<fN.display.view.length;fO++){aq(fN.display.view[fO])}}function aj(fN){aG(fN);fN.display.cachedCharWidth=fN.display.cachedTextHeight=fN.display.cachedPaddingH=null;if(!fN.options.lineWrapping){fN.display.maxLineChanged=true}fN.display.lineNumChars=null}function ci(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function cg(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function es(fT,fQ,fS,fO){if(fQ.widgets){for(var fP=0;fP<fQ.widgets.length;++fP){if(fQ.widgets[fP].above){var fV=cG(fQ.widgets[fP]);fS.top+=fV;fS.bottom+=fV}}}if(fO=="line"){return fS}if(!fO){fO="local"}var fR=bC(fQ);if(fO=="local"){fR+=eH(fT.display)}else{fR-=fT.display.viewOffset}if(fO=="page"||fO=="window"){var fN=fT.display.lineSpace.getBoundingClientRect();fR+=fN.top+(fO=="window"?0:cg());var fU=fN.left+(fO=="window"?0:ci());fS.left+=fU;fS.right+=fU}fS.top+=fR;fS.bottom+=fR;return fS}function fJ(fO,fR,fP){if(fP=="div"){return fR}var fT=fR.left,fS=fR.top;if(fP=="page"){fT-=ci();fS-=cg()}else{if(fP=="local"||!fP){var fQ=fO.display.sizer.getBoundingClientRect();fT+=fQ.left;fS+=fQ.top}}var fN=fO.display.lineSpace.getBoundingClientRect();return{left:fT-fN.left,top:fS-fN.top}}function cv(fN,fR,fQ,fP,fO){if(!fP){fP=eO(fN.doc,fR.line)}return es(fN,fP,dS(fN,fP,fR.ch,fO),fQ)}function dw(fW,fV,fP,fT,fY,fU){fT=fT||eO(fW.doc,fV.line);if(!fY){fY=aV(fW,fT)}function fR(f1,f0){var fZ=E(fW,fY,f1,f0?"right":"left",fU);if(f0){fZ.left=fZ.right}else{fZ.right=fZ.left}return es(fW,fT,fZ,fP)}function fX(f2,fZ){var f0=fS[fZ],f1=f0.level%2;if(f2==dc(f0)&&fZ&&f0.level<fS[fZ-1].level){f0=fS[--fZ];f2=fI(f0)-(f0.level%2?0:1);f1=true}else{if(f2==fI(f0)&&fZ<fS.length-1&&f0.level<fS[fZ+1].level){f0=fS[++fZ];f2=dc(f0)-f0.level%2;f1=false}}if(f1&&f2==f0.to&&f2>f0.from){return fR(f2-1)}return fR(f2,f1)}var fS=a(fT),fN=fV.ch;if(!fS){return fR(fN)}var fO=aC(fS,fN);var fQ=fX(fN,fO);if(eD!=null){fQ.other=fX(fN,eD)}return fQ}function dl(fN,fR){var fQ=0,fR=fj(fN.doc,fR);if(!fN.options.lineWrapping){fQ=dh(fN.display)*fR.ch}var fO=eO(fN.doc,fR.line);var fP=bC(fO)+eH(fN.display);return{left:fQ,right:fQ,top:fP,bottom:fP+fO.height}}function fv(fN,fO,fP,fR){var fQ=X(fN,fO);fQ.xRel=fR;if(fP){fQ.outside=true}return fQ}function fo(fU,fR,fQ){var fT=fU.doc;fQ+=fU.display.viewOffset;if(fQ<0){return fv(fT.first,0,true,-1)}var fP=bw(fT,fQ),fV=fT.first+fT.size-1;if(fP>fV){return fv(fT.first+fT.size-1,eO(fT,fV).text.length,true,1)}if(fR<0){fR=0}var fO=eO(fT,fP);for(;;){var fW=cH(fU,fO,fP,fR,fQ);var fS=d6(fO);var fN=fS&&fS.find(0,true);if(fS&&(fW.ch>fN.from.ch||fW.ch==fN.from.ch&&fW.xRel>0)){fP=bD(fO=fN.to.line)}else{return fW}}}function cH(fX,fP,f0,fZ,fY){var fW=fY-bC(fP);var fT=false,f6=2*fX.display.wrapper.clientWidth;var f3=aV(fX,fP);function ga(gc){var gd=dw(fX,X(f0,gc),"line",fP,f3);fT=true;if(fW>gd.bottom){return gd.left-f6}else{if(fW<gd.top){return gd.left+f6}else{fT=false}}return gd.left}var f2=a(fP),f5=fP.text.length;var f7=cr(fP),fQ=cD(fP);var f4=ga(f7),fN=fT,fO=ga(fQ),fS=fT;if(fZ>fO){return fv(f0,fQ,fS,1)}for(;;){if(f2?fQ==f7||fQ==w(fP,f7,1):fQ-f7<=1){var f1=fZ<f4||fZ-f4<=fO-fZ?f7:fQ;var f9=fZ-(f1==f7?f4:fO);while(eZ(fP.text.charAt(f1))){++f1}var fV=fv(f0,f1,f1==f7?fN:fS,f9<-1?-1:f9>1?1:0);return fV}var fU=Math.ceil(f5/2),gb=f7+fU;if(f2){gb=f7;for(var f8=0;f8<fU;++f8){gb=w(fP,gb,1)}}var fR=ga(gb);if(fR>fZ){fQ=gb;fO=fR;if(fS=fT){fO+=1000}f5=fU}else{f7=gb;f4=fR;fN=fT;f5-=fU}}}var aD;function aO(fP){if(fP.cachedTextHeight!=null){return fP.cachedTextHeight}if(aD==null){aD=fw("pre");for(var fO=0;fO<49;++fO){aD.appendChild(document.createTextNode("x"));aD.appendChild(fw("br"))}aD.appendChild(document.createTextNode("x"))}bH(fP.measure,aD);var fN=aD.offsetHeight/50;if(fN>3){fP.cachedTextHeight=fN}dD(fP.measure);return fN||1}function dh(fR){if(fR.cachedCharWidth!=null){return fR.cachedCharWidth}var fN=fw("span","xxxxxxxxxx");var fQ=fw("pre",[fN]);bH(fR.measure,fQ);var fP=fN.getBoundingClientRect(),fO=(fP.right-fP.left)/10;if(fO>2){fR.cachedCharWidth=fO}return fO||10}var dK=0;function cu(fN){fN.curOp={viewChanged:false,startHeight:fN.doc.height,forceUpdate:false,updateInput:null,typing:false,changeObjs:null,cursorActivityHandlers:null,selectionChanged:false,updateMaxLine:false,scrollLeft:null,scrollTop:null,scrollToPos:null,id:++dK};if(!cf++){bf=[]}}function ak(fY){var fT=fY.curOp,fX=fY.doc,fU=fY.display;fY.curOp=null;if(fT.updateMaxLine){h(fY)}if(fT.viewChanged||fT.forceUpdate||fT.scrollTop!=null||fT.scrollToPos&&(fT.scrollToPos.from.line<fU.viewFrom||fT.scrollToPos.to.line>=fU.viewTo)||fU.maxLineChanged&&fY.options.lineWrapping){var fR=dn(fY,{top:fT.scrollTop,ensure:fT.scrollToPos},fT.forceUpdate);if(fY.display.scroller.offsetHeight){fY.doc.scrollTop=fY.display.scroller.scrollTop}}if(!fR&&fT.selectionChanged){bs(fY)}if(!fR&&fT.startHeight!=fY.doc.height){eA(fY)}if(fU.wheelStartX!=null&&(fT.scrollTop!=null||fT.scrollLeft!=null||fT.scrollToPos)){fU.wheelStartX=fU.wheelStartY=null}if(fT.scrollTop!=null&&fU.scroller.scrollTop!=fT.scrollTop){var fV=Math.max(0,Math.min(fU.scroller.scrollHeight-fU.scroller.clientHeight,fT.scrollTop));fU.scroller.scrollTop=fU.scrollbarV.scrollTop=fX.scrollTop=fV}if(fT.scrollLeft!=null&&fU.scroller.scrollLeft!=fT.scrollLeft){var fO=Math.max(0,Math.min(fU.scroller.scrollWidth-fU.scroller.clientWidth,fT.scrollLeft));fU.scroller.scrollLeft=fU.scrollbarH.scrollLeft=fX.scrollLeft=fO;eh(fY)}if(fT.scrollToPos){var fW=F(fY,fj(fY.doc,fT.scrollToPos.from),fj(fY.doc,fT.scrollToPos.to),fT.scrollToPos.margin);if(fT.scrollToPos.isCursor&&fY.state.focused){dI(fY,fW)}}if(fT.selectionChanged){q(fY)}if(fY.state.focused&&fT.updateInput){eY(fY,fT.typing)}var fS=fT.maybeHiddenMarkers,fN=fT.maybeUnhiddenMarkers;if(fS){for(var fQ=0;fQ<fS.length;++fQ){if(!fS[fQ].lines.length){aA(fS[fQ],"hide")}}}if(fN){for(var fQ=0;fQ<fN.length;++fQ){if(fN[fQ].lines.length){aA(fN[fQ],"unhide")}}}var fP;if(!--cf){fP=bf;bf=null}if(fT.changeObjs){aA(fY,"changes",fY,fT.changeObjs)}if(fP){for(var fQ=0;fQ<fP.length;++fQ){fP[fQ]()}}if(fT.cursorActivityHandlers){for(var fQ=0;fQ<fT.cursorActivityHandlers.length;fQ++){fT.cursorActivityHandlers[fQ](fY)}}}function cx(fN,fO){if(fN.curOp){return fO()}cu(fN);try{return fO()}finally{ak(fN)}}function cK(fN,fO){return function(){if(fN.curOp){return fO.apply(fN,arguments)}cu(fN);try{return fO.apply(fN,arguments)}finally{ak(fN)}}}function cQ(fN){return function(){if(this.curOp){return fN.apply(this,arguments)}cu(this);try{return fN.apply(this,arguments)}finally{ak(this)}}}function cq(fN){return function(){var fO=this.cm;if(!fO||fO.curOp){return fN.apply(this,arguments)}cu(fO);try{return fN.apply(this,arguments)}finally{ak(fO)}}}function bm(fP,fN,fO){this.line=fN;this.rest=i(fN);this.size=this.rest?bD(fh(this.rest))-fO+1:1;this.node=this.text=null;this.hidden=e6(fP,fN)}function ex(fN,fT,fS){var fR=[],fP;for(var fQ=fT;fQ<fS;fQ=fP){var fO=new bm(fN.doc,eO(fN.doc,fQ),fQ);fP=fQ+fO.size;fR.push(fO)}return fR}function ag(fU,fS,fT,fV){if(fS==null){fS=fU.doc.first}if(fT==null){fT=fU.doc.first+fU.doc.size}if(!fV){fV=0}var fP=fU.display;if(fV&&fT<fP.viewTo&&(fP.updateLineNumbers==null||fP.updateLineNumbers>fS)){fP.updateLineNumbers=fS}fU.curOp.viewChanged=true;if(fS>=fP.viewTo){if(aY&&aN(fU.doc,fS)<fP.viewTo){d8(fU)}}else{if(fT<=fP.viewFrom){if(aY&&dF(fU.doc,fT+fV)>fP.viewFrom){d8(fU)}else{fP.viewFrom+=fV;fP.viewTo+=fV}}else{if(fS<=fP.viewFrom&&fT>=fP.viewTo){d8(fU)}else{if(fS<=fP.viewFrom){var fR=cW(fU,fT,fT+fV,1);if(fR){fP.view=fP.view.slice(fR.index);fP.viewFrom=fR.lineN;fP.viewTo+=fV}else{d8(fU)}}else{if(fT>=fP.viewTo){var fR=cW(fU,fS,fS,-1);if(fR){fP.view=fP.view.slice(0,fR.index);fP.viewTo=fR.lineN}else{d8(fU)}}else{var fQ=cW(fU,fS,fS,-1);var fO=cW(fU,fT,fT+fV,1);if(fQ&&fO){fP.view=fP.view.slice(0,fQ.index).concat(ex(fU,fQ.lineN,fO.lineN)).concat(fP.view.slice(fO.index));fP.viewTo+=fV}else{d8(fU)}}}}}}var fN=fP.externalMeasured;if(fN){if(fT<fN.lineN){fN.lineN+=fV}else{if(fS<fN.lineN+fN.size){fP.externalMeasured=null}}}}function S(fO,fP,fS){fO.curOp.viewChanged=true;var fT=fO.display,fR=fO.display.externalMeasured;if(fR&&fP>=fR.lineN&&fP<fR.lineN+fR.size){fT.externalMeasured=null}if(fP<fT.viewFrom||fP>=fT.viewTo){return}var fQ=fT.view[c6(fO,fP)];if(fQ.node==null){return}var fN=fQ.changes||(fQ.changes=[]);if(c0(fN,fS)==-1){fN.push(fS)}}function d8(fN){fN.display.viewFrom=fN.display.viewTo=fN.doc.first;fN.display.view=[];fN.display.viewOffset=0}function c6(fN,fQ){if(fQ>=fN.display.viewTo){return null}fQ-=fN.display.viewFrom;if(fQ<0){return null}var fO=fN.display.view;for(var fP=0;fP<fO.length;fP++){fQ-=fO[fP].size;if(fQ<0){return fP}}}function cW(fV,fP,fR,fO){var fS=c6(fV,fP),fU,fT=fV.display.view;if(!aY||fR==fV.doc.first+fV.doc.size){return{index:fS,lineN:fR}}for(var fQ=0,fN=fV.display.viewFrom;fQ<fS;fQ++){fN+=fT[fQ].size}if(fN!=fP){if(fO>0){if(fS==fT.length-1){return null}fU=(fN+fT[fS].size)-fP;fS++}else{fU=fN-fP}fP+=fU;fR+=fU}while(aN(fV.doc,fR)!=fR){if(fS==(fO<0?0:fT.length-1)){return null}fR+=fO*fT[fS-(fO<0?1:0)].size;fS+=fO}return{index:fS,lineN:fR}}function cC(fN,fR,fQ){var fP=fN.display,fO=fP.view;if(fO.length==0||fR>=fP.viewTo||fQ<=fP.viewFrom){fP.view=ex(fN,fR,fQ);fP.viewFrom=fR}else{if(fP.viewFrom>fR){fP.view=ex(fN,fR,fP.viewFrom).concat(fP.view)}else{if(fP.viewFrom<fR){fP.view=fP.view.slice(c6(fN,fR))}}fP.viewFrom=fR;if(fP.viewTo<fQ){fP.view=fP.view.concat(ex(fN,fP.viewTo,fQ))}else{if(fP.viewTo>fQ){fP.view=fP.view.slice(0,c6(fN,fQ))}}}fP.viewTo=fQ}function cT(fN){var fO=fN.display.view,fR=0;for(var fQ=0;fQ<fO.length;fQ++){var fP=fO[fQ];if(!fP.hidden&&(!fP.node||fP.changes)){++fR}}return fR}function bd(fN){if(fN.display.pollingFast){return}fN.display.poll.set(fN.options.pollInterval,function(){b5(fN);if(fN.state.focused){bd(fN)}})}function D(fN){var fO=false;fN.display.pollingFast=true;function fP(){var fQ=b5(fN);if(!fQ&&!fO){fO=true;fN.display.poll.set(60,fP)}else{fN.display.pollingFast=false;bd(fN)}}fN.display.poll.set(20,fP)}function b5(fR){var fS=fR.display.input,fV=fR.display.prevInput,f6=fR.doc;if(!fR.state.focused||(bj(fS)&&!fV)||ai(fR)||fR.options.disableInput){return false}if(fR.state.pasteIncoming&&fR.state.fakedLastChar){fS.value=fS.value.substring(0,fS.value.length-1);fR.state.fakedLastChar=false}var fU=fS.value;if(fU==fV&&!fR.somethingSelected()){return false}if(dm&&m>=9&&fR.display.inputHasSelection===fU){eY(fR);return false}var f2=!fR.curOp;if(f2){cu(fR)}fR.display.shift=false;if(fU.charCodeAt(0)==8203&&f6.sel==fR.display.selForContextMenu&&!fV){fV="\u200b"}var f1=0,fY=Math.min(fV.length,fU.length);while(f1<fY&&fV.charCodeAt(f1)==fU.charCodeAt(f1)){++f1}var fO=fU.slice(f1),fW=aR(fO);var f5=fR.state.pasteIncoming&&fW.length>1&&f6.sel.ranges.length==fW.length;for(var f3=f6.sel.ranges.length-1;f3>=0;f3--){var fX=f6.sel.ranges[f3];var fZ=fX.from(),fN=fX.to();if(f1<fV.length){fZ=X(fZ.line,fZ.ch-(fV.length-f1))}else{if(fR.state.overwrite&&fX.empty()&&!fR.state.pasteIncoming){fN=X(fN.line,Math.min(eO(f6,fN.line).text.length,fN.ch+fh(fW).length))}}var fQ=fR.curOp.updateInput;var f4={from:fZ,to:fN,text:f5?[fW[f3]]:fW,origin:fR.state.pasteIncoming?"paste":fR.state.cutIncoming?"cut":"+input"};a6(fR.doc,f4);ad(fR,"inputRead",fR,f4);if(fO&&!fR.state.pasteIncoming&&fR.options.electricChars&&fR.options.smartIndent&&fX.head.ch<100&&(!f3||f6.sel.ranges[f3-1].head.line!=fX.head.line)){var fT=fR.getModeAt(fX.head);if(fT.electricChars){for(var f0=0;f0<fT.electricChars.length;f0++){if(fO.indexOf(fT.electricChars.charAt(f0))>-1){ac(fR,fX.head.line,"smart");break}}}else{if(fT.electricInput){var fP=cF(f4);if(fT.electricInput.test(eO(f6,fP.line).text.slice(0,fP.ch))){ac(fR,fX.head.line,"smart")}}}}}fg(fR);fR.curOp.updateInput=fQ;fR.curOp.typing=true;if(fU.length>1000||fU.indexOf("\n")>-1){fS.value=fR.display.prevInput=""}else{fR.display.prevInput=fU}if(f2){ak(fR)}fR.state.pasteIncoming=fR.state.cutIncoming=false;return true}function eY(fN,fR){var fO,fQ,fT=fN.doc;if(fN.somethingSelected()){fN.display.prevInput="";var fP=fT.sel.primary();fO=cS&&(fP.to().line-fP.from().line>100||(fQ=fN.getSelection()).length>1000);var fS=fO?"-":fQ||fN.getSelection();fN.display.input.value=fS;if(fN.state.focused){dp(fN.display.input)}if(dm&&m>=9){fN.display.inputHasSelection=fS}}else{if(!fR){fN.display.prevInput=fN.display.input.value="";if(dm&&m>=9){fN.display.inputHasSelection=null}}}fN.display.inaccurateSelection=fO}function ec(fN){if(fN.options.readOnly!="nocursor"&&(!dR||dr()!=fN.display.input)){fN.display.input.focus()}}function t(fN){if(!fN.state.focused){ec(fN);co(fN)}}function ai(fN){return fN.options.readOnly||fN.doc.cantEdit}function fp(fN){var fP=fN.display;bN(fP.scroller,"mousedown",cK(fN,d4));if(dm&&m<11){bN(fP.scroller,"dblclick",cK(fN,function(fT){if(aJ(fN,fT)){return}var fU=cb(fN,fT);if(!fU||n(fN,fT)||a1(fN.display,fT)){return}cs(fT);var fS=at(fN,fU);ft(fN.doc,fS.anchor,fS.head)}))}else{bN(fP.scroller,"dblclick",function(fS){aJ(fN,fS)||cs(fS)})}bN(fP.lineSpace,"selectstart",function(fS){if(!a1(fP,fS)){cs(fS)}});if(!fE){bN(fP.scroller,"contextmenu",function(fS){aw(fN,fS)})}bN(fP.scroller,"scroll",function(){if(fP.scroller.clientHeight){O(fN,fP.scroller.scrollTop);bu(fN,fP.scroller.scrollLeft,true);aA(fN,"scroll",fN)}});bN(fP.scrollbarV,"scroll",function(){if(fP.scroller.clientHeight){O(fN,fP.scrollbarV.scrollTop)}});bN(fP.scrollbarH,"scroll",function(){if(fP.scroller.clientHeight){bu(fN,fP.scrollbarH.scrollLeft)}});bN(fP.scroller,"mousewheel",function(fS){c(fN,fS)});bN(fP.scroller,"DOMMouseScroll",function(fS){c(fN,fS)});function fR(){if(fN.state.focused){setTimeout(cj(ec,fN),0)}}bN(fP.scrollbarH,"mousedown",fR);bN(fP.scrollbarV,"mousedown",fR);bN(fP.wrapper,"scroll",function(){fP.wrapper.scrollTop=fP.wrapper.scrollLeft=0});bN(fP.input,"keyup",cK(fN,a8));bN(fP.input,"input",function(){if(dm&&m>=9&&fN.display.inputHasSelection){fN.display.inputHasSelection=null}D(fN)});bN(fP.input,"keydown",cK(fN,r));bN(fP.input,"keypress",cK(fN,cl));bN(fP.input,"focus",cj(co,fN));bN(fP.input,"blur",cj(aM,fN));function fO(fS){if(!aJ(fN,fS)){d2(fS)}}if(fN.options.dragDrop){bN(fP.scroller,"dragstart",function(fS){R(fN,fS)});bN(fP.scroller,"dragenter",fO);bN(fP.scroller,"dragover",fO);bN(fP.scroller,"drop",cK(fN,ba))}bN(fP.scroller,"paste",function(fS){if(a1(fP,fS)){return}fN.state.pasteIncoming=true;ec(fN);D(fN)});bN(fP.input,"paste",function(){if(cI&&!fN.state.fakedLastChar&&!(new Date-fN.state.lastMiddleDown<200)){var fT=fP.input.selectionStart,fS=fP.input.selectionEnd;fP.input.value+="$";fP.input.selectionEnd=fS;fP.input.selectionStart=fT;fN.state.fakedLastChar=true}fN.state.pasteIncoming=true;D(fN)});function fQ(fW){if(fN.somethingSelected()){if(fP.inaccurateSelection){fP.prevInput="";fP.inaccurateSelection=false;fP.input.value=fN.getSelection();dp(fP.input)}}else{var fX="",fT=[];for(var fU=0;fU<fN.doc.sel.ranges.length;fU++){var fS=fN.doc.sel.ranges[fU].head.line;var fV={anchor:X(fS,0),head:X(fS+1,0)};fT.push(fV);fX+=fN.getRange(fV.anchor,fV.head)}if(fW.type=="cut"){fN.setSelections(fT,null,Z)}else{fP.prevInput="";fP.input.value=fX;dp(fP.input)}}if(fW.type=="cut"){fN.state.cutIncoming=true}}bN(fP.input,"cut",fQ);bN(fP.input,"copy",fQ);if(a2){bN(fP.sizer,"mouseup",function(){if(dr()==fP.input){fP.input.blur()}ec(fN)})}}function aL(fN){var fO=fN.display;fO.cachedCharWidth=fO.cachedTextHeight=fO.cachedPaddingH=null;fN.setSize()}function a1(fO,fN){for(var fP=M(fN);fP!=fO.wrapper;fP=fP.parentNode){if(!fP||fP.ignoreEvents||fP.parentNode==fO.sizer&&fP!=fO.mover){return true}}}function cb(fX,fR,fO,fP){var fT=fX.display;if(!fO){var fS=M(fR);if(fS==fT.scrollbarH||fS==fT.scrollbarV||fS==fT.scrollbarFiller||fS==fT.gutterFiller){return null}}var fW,fU,fN=fT.lineSpace.getBoundingClientRect();try{fW=fR.clientX-fN.left;fU=fR.clientY-fN.top}catch(fR){return null}var fV=fo(fX,fW,fU),fY;if(fP&&fV.xRel==1&&(fY=eO(fX.doc,fV.line).text).length==fV.ch){var fQ=bJ(fY,fY.length,fX.options.tabSize)-fY.length;fV=X(fV.line,Math.max(0,Math.round((fW-eF(fX.display).left)/dh(fX.display))-fQ))}return fV}function d4(fP){if(aJ(this,fP)){return}var fN=this,fO=fN.display;fO.shift=fP.shiftKey;if(a1(fO,fP)){if(!cI){fO.scroller.draggable=false;setTimeout(function(){fO.scroller.draggable=true},100)}return}if(n(fN,fP)){return}var fQ=cb(fN,fP);window.focus();switch(fn(fP)){case 1:if(fQ){av(fN,fP,fQ)}else{if(M(fP)==fO.scroller){cs(fP)}}break;case 2:if(cI){fN.state.lastMiddleDown=+new Date}if(fQ){ft(fN.doc,fQ)}setTimeout(cj(ec,fN),20);cs(fP);break;case 3:if(fE){aw(fN,fP)}break}}var c3,cV;function av(fO,fS,fT){setTimeout(cj(t,fO),0);var fP=+new Date,fQ;if(cV&&cV.time>fP-400&&b3(cV.pos,fT)==0){fQ="triple"}else{if(c3&&c3.time>fP-400&&b3(c3.pos,fT)==0){fQ="double";cV={time:fP,pos:fT}}else{fQ="single";c3={time:fP,pos:fT}}}var fR=fO.doc.sel,fN=bV?fS.metaKey:fS.ctrlKey;if(fO.options.dragDrop&&eo&&!ai(fO)&&fQ=="single"&&fR.contains(fT)>-1&&fR.somethingSelected()){aU(fO,fS,fT,fN)}else{o(fO,fS,fT,fQ,fN)}}function aU(fP,fR,fS,fO){var fQ=fP.display;var fN=cK(fP,function(fT){if(cI){fQ.scroller.draggable=false}fP.state.draggingText=false;dO(document,"mouseup",fN);dO(fQ.scroller,"drop",fN);if(Math.abs(fR.clientX-fT.clientX)+Math.abs(fR.clientY-fT.clientY)<10){cs(fT);if(!fO){ft(fP.doc,fS)}ec(fP);if(dm&&m==9){setTimeout(function(){document.body.focus();ec(fP)},20)}}});if(cI){fQ.scroller.draggable=true}fP.state.draggingText=fN;if(fQ.scroller.dragDrop){fQ.scroller.dragDrop()}bN(document,"mouseup",fN);bN(fQ.scroller,"drop",fN)}function o(fQ,f4,fP,fN,fS){var f1=fQ.display,f6=fQ.doc;cs(f4);var fO,f5,fR=f6.sel;if(fS&&!f4.shiftKey){f5=f6.sel.contains(fP);if(f5>-1){fO=f6.sel.ranges[f5]}else{fO=new dA(fP,fP)}}else{fO=f6.sel.primary()}if(f4.altKey){fN="rect";if(!fS){fO=new dA(fP,fP)}fP=cb(fQ,f4,true,true);f5=-1}else{if(fN=="double"){var f2=at(fQ,fP);if(fQ.display.shift||f6.extend){fO=e5(f6,fO,f2.anchor,f2.head)}else{fO=f2}}else{if(fN=="triple"){var fV=new dA(X(fP.line,0),fj(f6,X(fP.line+1,0)));if(fQ.display.shift||f6.extend){fO=e5(f6,fO,fV.anchor,fV.head)}else{fO=fV}}else{fO=e5(f6,fO,fP)}}}if(!fS){f5=0;bK(f6,new fx([fO],0),N);fR=f6.sel}else{if(f5>-1){f(f6,f5,fO,N)}else{f5=f6.sel.ranges.length;bK(f6,ck(f6.sel.ranges.concat([fO]),f5),{scroll:false,origin:"*mouse"})}}var f0=fP;function fZ(gh){if(b3(f0,gh)==0){return}f0=gh;if(fN=="rect"){var f8=[],ge=fQ.options.tabSize;var f7=bJ(eO(f6,fP.line).text,fP.ch,ge);var gk=bJ(eO(f6,gh.line).text,gh.ch,ge);var f9=Math.min(f7,gk),gi=Math.max(f7,gk);for(var gl=Math.min(fP.line,gh.line),gb=Math.min(fQ.lastLine(),Math.max(fP.line,gh.line));gl<=gb;gl++){var gj=eO(f6,gl).text,ga=d1(gj,f9,ge);if(f9==gi){f8.push(new dA(X(gl,ga),X(gl,ga)))}else{if(gj.length>ga){f8.push(new dA(X(gl,ga),X(gl,d1(gj,gi,ge))))}}}if(!f8.length){f8.push(new dA(fP,fP))}bK(f6,ck(fR.ranges.slice(0,f5).concat(f8),f5),{origin:"*mouse",scroll:false});fQ.scrollIntoView(gh)}else{var gf=fO;var gc=gf.anchor,gg=gh;if(fN!="single"){if(fN=="double"){var gd=at(fQ,gh)}else{var gd=new dA(X(gh.line,0),fj(f6,X(gh.line+1,0)))}if(b3(gd.anchor,gc)>0){gg=gd.head;gc=an(gf.from(),gd.anchor)}else{gg=gd.anchor;gc=bo(gf.to(),gd.head)}}var f8=fR.ranges.slice(0);f8[f5]=new dA(fj(f6,gc),gg);bK(f6,ck(f8,f5),N)}}var fX=f1.wrapper.getBoundingClientRect();var fT=0;function f3(f9){var f7=++fT;var gb=cb(fQ,f9,true,fN=="rect");if(!gb){return}if(b3(gb,f0)!=0){t(fQ);fZ(gb);var ga=bU(f1,f6);if(gb.line>=ga.to||gb.line<ga.from){setTimeout(cK(fQ,function(){if(fT==f7){f3(f9)}}),150)}}else{var f8=f9.clientY<fX.top?-20:f9.clientY>fX.bottom?20:0;if(f8){setTimeout(cK(fQ,function(){if(fT!=f7){return}f1.scroller.scrollTop+=f8;f3(f9)}),50)}}}function fW(f7){fT=Infinity;cs(f7);ec(fQ);dO(document,"mousemove",fY);dO(document,"mouseup",fU);f6.history.lastSelOrigin=null}var fY=cK(fQ,function(f7){if(!fn(f7)){fW(f7)}else{f3(f7)}});var fU=cK(fQ,fW);bN(document,"mousemove",fY);bN(document,"mouseup",fU)}function fL(fY,fU,fW,fX,fQ){try{var fO=fU.clientX,fN=fU.clientY}catch(fU){return false}if(fO>=Math.floor(fY.display.gutters.getBoundingClientRect().right)){return false}if(fX){cs(fU)}var fV=fY.display;var fT=fV.lineDiv.getBoundingClientRect();if(fN>fT.bottom||!eR(fY,fW)){return bB(fU)}fN-=fT.top-fV.viewOffset;for(var fR=0;fR<fY.options.gutters.length;++fR){var fS=fV.gutters.childNodes[fR];if(fS&&fS.getBoundingClientRect().right>=fO){var fZ=bw(fY.doc,fN);var fP=fY.options.gutters[fR];fQ(fY,fW,fY,fZ,fP,fU);return bB(fU)}}}function n(fN,fO){return fL(fN,fO,"gutterClick",true,ad)}var af=0;function ba(fT){var fV=this;if(aJ(fV,fT)||a1(fV.display,fT)){return}cs(fT);if(dm){af=+new Date}var fU=cb(fV,fT,true),fN=fT.dataTransfer.files;if(!fU||ai(fV)){return}if(fN&&fN.length&&window.FileReader&&window.File){var fP=fN.length,fW=Array(fP),fO=0;var fR=function(fZ,fY){var fX=new FileReader;fX.onload=cK(fV,function(){fW[fY]=fX.result;if(++fO==fP){fU=fj(fV.doc,fU);var f0={from:fU,to:fU,text:aR(fW.join("\n")),origin:"paste"};a6(fV.doc,f0);eG(fV.doc,et(fU,cF(f0)))}});fX.readAsText(fZ)};for(var fS=0;fS<fP;++fS){fR(fN[fS],fS)}}else{if(fV.state.draggingText&&fV.doc.sel.contains(fU)>-1){fV.state.draggingText(fT);setTimeout(cj(ec,fV),20);return}try{var fW=fT.dataTransfer.getData("Text");if(fW){if(fV.state.draggingText&&!(bV?fT.metaKey:fT.ctrlKey)){var fQ=fV.listSelections()}d0(fV.doc,et(fU,fU));if(fQ){for(var fS=0;fS<fQ.length;++fS){aS(fV.doc,"",fQ[fS].anchor,fQ[fS].head,"drag")}}fV.replaceSelection(fW,"around","paste");ec(fV)}}catch(fT){}}}function R(fN,fP){if(dm&&(!fN.state.draggingText||+new Date-af<100)){d2(fP);return}if(aJ(fN,fP)||a1(fN.display,fP)){return}fP.dataTransfer.setData("Text",fN.getSelection());if(fP.dataTransfer.setDragImage&&!az){var fO=fw("img",null,null,"position: fixed; left: 0; top: 0;");fO.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";if(dE){fO.width=fO.height=1;fN.display.wrapper.appendChild(fO);fO._top=fO.offsetTop}fP.dataTransfer.setDragImage(fO,0,0);if(dE){fO.parentNode.removeChild(fO)}}}function O(fN,fO){if(Math.abs(fN.doc.scrollTop-fO)<2){return}fN.doc.scrollTop=fO;if(!cc){dn(fN,{top:fO})}if(fN.display.scroller.scrollTop!=fO){fN.display.scroller.scrollTop=fO}if(fN.display.scrollbarV.scrollTop!=fO){fN.display.scrollbarV.scrollTop=fO}if(cc){dn(fN)}dQ(fN,100)}function bu(fN,fP,fO){if(fO?fP==fN.doc.scrollLeft:Math.abs(fN.doc.scrollLeft-fP)<2){return}fP=Math.min(fP,fN.display.scroller.scrollWidth-fN.display.scroller.clientWidth);fN.doc.scrollLeft=fP;eh(fN);if(fN.display.scroller.scrollLeft!=fP){fN.display.scroller.scrollLeft=fP}if(fN.display.scrollbarH.scrollLeft!=fP){fN.display.scrollbarH.scrollLeft=fP}}var eV=0,b4=null;if(dm){b4=-0.53}else{if(cc){b4=15}else{if(cU){b4=-0.7}else{if(az){b4=-1/3}}}}function c(fV,fP){var fY=fP.wheelDeltaX,fX=fP.wheelDeltaY;if(fY==null&&fP.detail&&fP.axis==fP.HORIZONTAL_AXIS){fY=fP.detail}if(fX==null&&fP.detail&&fP.axis==fP.VERTICAL_AXIS){fX=fP.detail}else{if(fX==null){fX=fP.wheelDelta}}var fR=fV.display,fU=fR.scroller;if(!(fY&&fU.scrollWidth>fU.clientWidth||fX&&fU.scrollHeight>fU.clientHeight)){return}if(fX&&bV&&cI){outer:for(var fW=fP.target,fT=fR.view;fW!=fU;fW=fW.parentNode){for(var fO=0;fO<fT.length;fO++){if(fT[fO].node==fW){fV.display.currentWheelTarget=fW;break outer}}}}if(fY&&!cc&&!dE&&b4!=null){if(fX){O(fV,Math.max(0,Math.min(fU.scrollTop+fX*b4,fU.scrollHeight-fU.clientHeight)))}bu(fV,Math.max(0,Math.min(fU.scrollLeft+fY*b4,fU.scrollWidth-fU.clientWidth)));cs(fP);fR.wheelStartX=null;return}if(fX&&b4!=null){var fN=fX*b4;var fS=fV.doc.scrollTop,fQ=fS+fR.wrapper.clientHeight;if(fN<0){fS=Math.max(0,fS+fN-50)}else{fQ=Math.min(fV.doc.height,fQ+fN+50)}dn(fV,{top:fS,bottom:fQ})}if(eV<20){if(fR.wheelStartX==null){fR.wheelStartX=fU.scrollLeft;fR.wheelStartY=fU.scrollTop;fR.wheelDX=fY;fR.wheelDY=fX;setTimeout(function(){if(fR.wheelStartX==null){return}var fZ=fU.scrollLeft-fR.wheelStartX;var f1=fU.scrollTop-fR.wheelStartY;var f0=(f1&&fR.wheelDY&&f1/fR.wheelDY)||(fZ&&fR.wheelDX&&fZ/fR.wheelDX);fR.wheelStartX=fR.wheelStartY=null;if(!f0){return}b4=(b4*eV+f0)/(eV+1);++eV},200)}else{fR.wheelDX+=fY;fR.wheelDY+=fX}}}function fq(fO,fR,fN){if(typeof fR=="string"){fR=eg[fR];if(!fR){return false}}if(fO.display.pollingFast&&b5(fO)){fO.display.pollingFast=false}var fQ=fO.display.shift,fP=false;try{if(ai(fO)){fO.state.suppressEdits=true}if(fN){fO.display.shift=false}fP=fR(fO)!=bY}finally{fO.display.shift=fQ;fO.state.suppressEdits=false}return fP}function c8(fN){var fO=fN.state.keyMaps.slice(0);if(fN.options.extraKeys){fO.push(fN.options.extraKeys)}fO.push(fN.options.keyMap);return fO}var ao;function eS(fN,fT){var fO=fu(fN.options.keyMap),fR=fO.auto;clearTimeout(ao);if(fR&&!ef(fT)){ao=setTimeout(function(){if(fu(fN.options.keyMap)==fO){fN.options.keyMap=(fR.call?fR.call(null,fN):fR);fK(fN)}},50)}var fQ=e1(fT,true),fS=false;if(!fQ){return false}var fP=c8(fN);if(fT.shiftKey){fS=j("Shift-"+fQ,fP,function(fU){return fq(fN,fU,true)})||j(fQ,fP,function(fU){if(typeof fU=="string"?/^go[A-Z]/.test(fU):fU.motion){return fq(fN,fU)}})}else{fS=j(fQ,fP,function(fU){return fq(fN,fU)})}if(fS){cs(fT);q(fN);ad(fN,"keyHandled",fN,fQ,fT)}return fS}function dU(fN,fQ,fO){var fP=j("'"+fO+"'",c8(fN),function(fR){return fq(fN,fR,true)});if(fP){cs(fQ);q(fN);ad(fN,"keyHandled",fN,"'"+fO+"'",fQ)}return fP}var c2=null;function r(fQ){var fN=this;t(fN);if(aJ(fN,fQ)){return}if(dm&&m<11&&fQ.keyCode==27){fQ.returnValue=false}var fO=fQ.keyCode;fN.display.shift=fO==16||fQ.shiftKey;var fP=eS(fN,fQ);if(dE){c2=fP?fO:null;if(!fP&&fO==88&&!cS&&(bV?fQ.metaKey:fQ.ctrlKey)){fN.replaceSelection("",null,"cut")}}if(fO==18&&!/\bCodeMirror-crosshair\b/.test(fN.display.lineDiv.className)){ar(fN)}}function ar(fO){var fP=fO.display.lineDiv;fa(fP,"CodeMirror-crosshair");function fN(fQ){if(fQ.keyCode==18||!fQ.altKey){g(fP,"CodeMirror-crosshair");dO(document,"keyup",fN);dO(document,"mouseover",fN)}}bN(document,"keyup",fN);bN(document,"mouseover",fN)}function a8(fN){if(aJ(this,fN)){return}if(fN.keyCode==16){this.doc.sel.shift=false}}function cl(fR){var fN=this;if(aJ(fN,fR)||fR.ctrlKey||bV&&fR.metaKey){return}var fQ=fR.keyCode,fO=fR.charCode;if(dE&&fQ==c2){c2=null;cs(fR);return}if(((dE&&(!fR.which||fR.which<10))||a2)&&eS(fN,fR)){return}var fP=String.fromCharCode(fO==null?fQ:fO);if(dU(fN,fR,fP)){return}if(dm&&m>=9){fN.display.inputHasSelection=null}D(fN)}function co(fN){if(fN.options.readOnly=="nocursor"){return}if(!fN.state.focused){aA(fN,"focus",fN);fN.state.focused=true;fa(fN.display.wrapper,"CodeMirror-focused");if(!fN.curOp&&fN.display.selForContextMenu!=fN.doc.sel){eY(fN);if(cI){setTimeout(cj(eY,fN,true),0)}}}bd(fN);q(fN)}function aM(fN){if(fN.state.focused){aA(fN,"blur",fN);fN.state.focused=false;g(fN.display.wrapper,"CodeMirror-focused")}clearInterval(fN.display.blinker);setTimeout(function(){if(!fN.state.focused){fN.display.shift=false}},150)}function aw(fW,fR){if(aJ(fW,fR,"contextmenu")){return}var fT=fW.display;if(a1(fT,fR)||cZ(fW,fR)){return}var fV=cb(fW,fR),fN=fT.scroller.scrollTop;if(!fV||dE){return}var fP=fW.options.resetSelectionOnContextMenu;if(fP&&fW.doc.sel.contains(fV)==-1){cK(fW,bK)(fW.doc,et(fV),Z)}var fS=fT.input.style.cssText;fT.inputDiv.style.position="absolute";fT.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(fR.clientY-5)+"px; left: "+(fR.clientX-5)+"px; z-index: 1000; background: "+(dm?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";ec(fW);eY(fW);if(!fW.somethingSelected()){fT.input.value=fT.prevInput=" "}fT.selForContextMenu=fW.doc.sel;clearTimeout(fT.detectingSelectAll);function fQ(){if(fT.input.selectionStart!=null){var fX=fW.somethingSelected();var fY=fT.input.value="\u200b"+(fX?fT.input.value:"");fT.prevInput=fX?"":"\u200b";fT.input.selectionStart=1;fT.input.selectionEnd=fY.length;fT.selForContextMenu=fW.doc.sel}}function fU(){fT.inputDiv.style.position="relative";fT.input.style.cssText=fS;if(dm&&m<9){fT.scrollbarV.scrollTop=fT.scroller.scrollTop=fN}bd(fW);if(fT.input.selectionStart!=null){if(!dm||(dm&&m<9)){fQ()}var fX=0,fY=function(){if(fT.selForContextMenu==fW.doc.sel&&fT.input.selectionStart==0){cK(fW,eg.selectAll)(fW)}else{if(fX++<10){fT.detectingSelectAll=setTimeout(fY,500)}else{eY(fW)}}};fT.detectingSelectAll=setTimeout(fY,200)}}if(dm&&m>=9){fQ()}if(fE){d2(fR);var fO=function(){dO(window,"mouseup",fO);setTimeout(fU,20)};bN(window,"mouseup",fO)}else{setTimeout(fU,50)}}function cZ(fN,fO){if(!eR(fN,"gutterContextMenu")){return false}return fL(fN,fO,"gutterContextMenu",false,aA)}var cF=J.changeEnd=function(fN){if(!fN.text||fN.text.length==0){return fN.to}return X(fN.from.line+fN.text.length-1,fh(fN.text).length+(fN.text.length==1?fN.from.ch:0))};function bP(fQ,fP){if(b3(fQ,fP.from)<0){return fQ}if(b3(fQ,fP.to)<=0){return cF(fP)}var fN=fQ.line+fP.text.length-(fP.to.line-fP.from.line)-1,fO=fQ.ch;if(fQ.line==fP.to.line){fO+=cF(fP).ch-fP.to.ch}return X(fN,fO)}function eT(fQ,fR){var fO=[];for(var fP=0;fP<fQ.sel.ranges.length;fP++){var fN=fQ.sel.ranges[fP];fO.push(new dA(bP(fN.anchor,fR),bP(fN.head,fR)))}return ck(fO,fQ.sel.primIndex)}function bl(fP,fO,fN){if(fP.line==fO.line){return X(fN.line,fP.ch-fO.ch+fN.ch)}else{return X(fN.line+(fP.line-fO.line),fP.ch)}}function ae(fX,fU,fO){var fP=[];var fN=X(fX.first,0),fY=fN;for(var fR=0;fR<fU.length;fR++){var fT=fU[fR];var fW=bl(fT.from,fN,fY);var fV=bl(cF(fT),fN,fY);fN=fT.to;fY=fV;if(fO=="around"){var fS=fX.sel.ranges[fR],fQ=b3(fS.head,fS.anchor)<0;fP[fR]=new dA(fQ?fV:fW,fQ?fW:fV)}else{fP[fR]=new dA(fW,fW)}}return new fx(fP,fX.sel.primIndex)}function du(fO,fQ,fP){var fN={canceled:false,from:fQ.from,to:fQ.to,text:fQ.text,origin:fQ.origin,cancel:function(){this.canceled=true}};if(fP){fN.update=function(fU,fT,fS,fR){if(fU){this.from=fj(fO,fU)}if(fT){this.to=fj(fO,fT)}if(fS){this.text=fS}if(fR!==undefined){this.origin=fR}}}aA(fO,"beforeChange",fO,fN);if(fO.cm){aA(fO.cm,"beforeChange",fO.cm,fN)}if(fN.canceled){return null}return{from:fN.from,to:fN.to,text:fN.text,origin:fN.origin}}function a6(fQ,fR,fP){if(fQ.cm){if(!fQ.cm.curOp){return cK(fQ.cm,a6)(fQ,fR,fP)}if(fQ.cm.state.suppressEdits){return}}if(eR(fQ,"beforeChange")||fQ.cm&&eR(fQ.cm,"beforeChange")){fR=du(fQ,fR,true);if(!fR){return}}var fO=fH&&!fP&&ct(fQ,fR.from,fR.to);if(fO){for(var fN=fO.length-1;fN>=0;--fN){L(fQ,{from:fO[fN].from,to:fO[fN].to,text:fN?[""]:fR.text})}}else{L(fQ,fR)}}function L(fP,fQ){if(fQ.text.length==1&&fQ.text[0]==""&&b3(fQ.from,fQ.to)==0){return}var fO=eT(fP,fQ);fm(fP,fQ,fO,fP.cm?fP.cm.curOp.id:NaN);dP(fP,fQ,fO,dV(fP,fQ));var fN=[];dJ(fP,function(fS,fR){if(!fR&&c0(fN,fS.history)==-1){di(fS.history,fQ);fN.push(fS.history)}dP(fS,fQ,null,dV(fS,fQ))})}function bW(fY,fW,f0){if(fY.cm&&fY.cm.state.suppressEdits){return}var fV=fY.history,fP,fR=fY.sel;var fN=fW=="undo"?fV.done:fV.undone,fZ=fW=="undo"?fV.undone:fV.done;for(var fS=0;fS<fN.length;fS++){fP=fN[fS];if(f0?fP.ranges&&!fP.equals(fY.sel):!fP.ranges){break}}if(fS==fN.length){return}fV.lastOrigin=fV.lastSelOrigin=null;for(;;){fP=fN.pop();if(fP.ranges){cy(fP,fZ);if(f0&&!fP.equals(fY.sel)){bK(fY,fP,{clearRedo:false});return}fR=fP}else{break}}var fU=[];cy(fR,fZ);fZ.push({changes:fU,generation:fV.generation});fV.generation=fP.generation||++fV.maxGeneration;var fQ=eR(fY,"beforeChange")||fY.cm&&eR(fY.cm,"beforeChange");for(var fS=fP.changes.length-1;fS>=0;--fS){var fX=fP.changes[fS];fX.origin=fW;if(fQ&&!du(fY,fX,false)){fN.length=0;return}fU.push(c9(fY,fX));var fO=fS?eT(fY,fX,null):fh(fN);dP(fY,fX,fO,dL(fY,fX));if(!fS&&fY.cm){fY.cm.scrollIntoView(fX)}var fT=[];dJ(fY,function(f2,f1){if(!f1&&c0(fT,f2.history)==-1){di(f2.history,fX);fT.push(f2.history)}dP(f2,fX,null,dL(f2,fX))})}}function eW(fO,fQ){if(fQ==0){return}fO.first+=fQ;fO.sel=new fx(bI(fO.sel.ranges,function(fR){return new dA(X(fR.anchor.line+fQ,fR.anchor.ch),X(fR.head.line+fQ,fR.head.ch))}),fO.sel.primIndex);if(fO.cm){ag(fO.cm,fO.first,fO.first-fQ,fQ);for(var fP=fO.cm.display,fN=fP.viewFrom;fN<fP.viewTo;fN++){S(fO.cm,fN,"gutter")}}}function dP(fR,fS,fQ,fO){if(fR.cm&&!fR.cm.curOp){return cK(fR.cm,dP)(fR,fS,fQ,fO)}if(fS.to.line<fR.first){eW(fR,fS.text.length-1-(fS.to.line-fS.from.line));return}if(fS.from.line>fR.lastLine()){return}if(fS.from.line<fR.first){var fN=fS.text.length-1-(fR.first-fS.from.line);eW(fR,fN);fS={from:X(fR.first,0),to:X(fS.to.line+fN,fS.to.ch),text:[fh(fS.text)],origin:fS.origin}}var fP=fR.lastLine();if(fS.to.line>fP){fS={from:fS.from,to:X(fP,eO(fR,fP).text.length),text:[fS.text[0]],origin:fS.origin}}fS.removed=fy(fR,fS.from,fS.to);if(!fQ){fQ=eT(fR,fS,null)}if(fR.cm){aE(fR.cm,fS,fO)}else{e8(fR,fS,fO)}d0(fR,fQ,Z)}function aE(fY,fU,fS){var fX=fY.doc,fT=fY.display,fV=fU.from,fW=fU.to;var fN=false,fR=fV.line;if(!fY.options.lineWrapping){fR=bD(A(eO(fX,fV.line)));fX.iter(fR,fW.line+1,function(f0){if(f0==fT.maxLine){fN=true;return true}})}if(fX.sel.contains(fU.from,fU.to)>-1){W(fY)}e8(fX,fU,fS,a4(fY));if(!fY.options.lineWrapping){fX.iter(fR,fV.line+fU.text.length,function(f1){var f0=dX(f1);if(f0>fT.maxLineLength){fT.maxLine=f1;fT.maxLineLength=f0;fT.maxLineChanged=true;fN=false}});if(fN){fY.curOp.updateMaxLine=true}}fX.frontier=Math.min(fX.frontier,fV.line);dQ(fY,400);var fZ=fU.text.length-(fW.line-fV.line)-1;if(fV.line==fW.line&&fU.text.length==1&&!dv(fY.doc,fU)){S(fY,fV.line,"text")}else{ag(fY,fV.line,fW.line+1,fZ)}var fP=eR(fY,"changes"),fQ=eR(fY,"change");if(fQ||fP){var fO={from:fV,to:fW,text:fU.text,removed:fU.removed,origin:fU.origin};if(fQ){ad(fY,"change",fY,fO)}if(fP){(fY.curOp.changeObjs||(fY.curOp.changeObjs=[])).push(fO)}}fY.display.selForContextMenu=null}function aS(fQ,fP,fS,fR,fN){if(!fR){fR=fS}if(b3(fR,fS)<0){var fO=fR;fR=fS;fS=fO}if(typeof fP=="string"){fP=aR(fP)}a6(fQ,{from:fS,to:fR,text:fP,origin:fN})}function dI(fO,fR){var fS=fO.display,fP=fS.sizer.getBoundingClientRect(),fN=null;if(fR.top+fP.top<0){fN=true}else{if(fR.bottom+fP.top>(window.innerHeight||document.documentElement.clientHeight)){fN=false}}if(fN!=null&&!e4){var fQ=fw("div","\u200b",null,"position: absolute; top: "+(fR.top-fS.viewOffset-eH(fO.display))+"px; height: "+(fR.bottom-fR.top+bb)+"px; left: "+fR.left+"px; width: 2px;");fO.display.lineSpace.appendChild(fQ);fQ.scrollIntoView(fN);fO.display.lineSpace.removeChild(fQ)}}function F(fW,fU,fR,fQ){if(fQ==null){fQ=0}for(;;){var fS=false,fV=dw(fW,fU);var fN=!fR||fR==fU?fV:dw(fW,fR);var fP=I(fW,Math.min(fV.left,fN.left),Math.min(fV.top,fN.top)-fQ,Math.max(fV.left,fN.left),Math.max(fV.bottom,fN.bottom)+fQ);var fT=fW.doc.scrollTop,fO=fW.doc.scrollLeft;if(fP.scrollTop!=null){O(fW,fP.scrollTop);if(Math.abs(fW.doc.scrollTop-fT)>1){fS=true}}if(fP.scrollLeft!=null){bu(fW,fP.scrollLeft);if(Math.abs(fW.doc.scrollLeft-fO)>1){fS=true}}if(!fS){return fV}}}function G(fN,fP,fR,fO,fQ){var fS=I(fN,fP,fR,fO,fQ);if(fS.scrollTop!=null){O(fN,fS.scrollTop)}if(fS.scrollLeft!=null){bu(fN,fS.scrollLeft)}}function I(fT,f1,fQ,f0,fP){var fY=fT.display,fX=aO(fT.display);if(fQ<0){fQ=0}var fW=fT.curOp&&fT.curOp.scrollTop!=null?fT.curOp.scrollTop:fY.scroller.scrollTop;var fO=fY.scroller.clientHeight-bb,fV={};var f3=fT.doc.height+by(fY);var f4=fQ<fX,fZ=fP>f3-fX;if(fQ<fW){fV.scrollTop=f4?0:fQ}else{if(fP>fW+fO){var fU=Math.min(fQ,(fZ?f3:fP)-fO);if(fU!=fW){fV.scrollTop=fU}}}var fN=fT.curOp&&fT.curOp.scrollLeft!=null?fT.curOp.scrollLeft:fY.scroller.scrollLeft;var fS=fY.scroller.clientWidth-bb;f1+=fY.gutters.offsetWidth;f0+=fY.gutters.offsetWidth;var fR=fY.gutters.offsetWidth;var f2=f1<fR+10;if(f1<fN+fR||f2){if(f2){f1=0}fV.scrollLeft=Math.max(0,f1-10-fR)}else{if(f0>fS+fN-3){fV.scrollLeft=f0+10-fS}}return fV}function cw(fN,fP,fO){if(fP!=null||fO!=null){fc(fN)}if(fP!=null){fN.curOp.scrollLeft=(fN.curOp.scrollLeft==null?fN.doc.scrollLeft:fN.curOp.scrollLeft)+fP}if(fO!=null){fN.curOp.scrollTop=(fN.curOp.scrollTop==null?fN.doc.scrollTop:fN.curOp.scrollTop)+fO}}function fg(fN){fc(fN);var fO=fN.getCursor(),fQ=fO,fP=fO;if(!fN.options.lineWrapping){fQ=fO.ch?X(fO.line,fO.ch-1):fO;fP=X(fO.line,fO.ch+1)}fN.curOp.scrollToPos={from:fQ,to:fP,margin:fN.options.cursorScrollMargin,isCursor:true}}function fc(fN){var fP=fN.curOp.scrollToPos;if(fP){fN.curOp.scrollToPos=null;var fR=dl(fN,fP.from),fQ=dl(fN,fP.to);var fO=I(fN,Math.min(fR.left,fQ.left),Math.min(fR.top,fQ.top)-fP.margin,Math.max(fR.right,fQ.right),Math.max(fR.bottom,fQ.bottom)+fP.margin);fN.scrollTo(fO.scrollLeft,fO.scrollTop)}}function ac(f0,fQ,fZ,fP){var fY=f0.doc,fO;if(fZ==null){fZ="add"}if(fZ=="smart"){if(!f0.doc.mode.indent){fZ="prev"}else{fO=df(f0,fQ)}}var fU=f0.options.tabSize;var f1=eO(fY,fQ),fT=bJ(f1.text,null,fU);if(f1.stateAfter){f1.stateAfter=null}var fN=f1.text.match(/^\s*/)[0],fW;if(!fP&&!/\S/.test(f1.text)){fW=0;fZ="not"}else{if(fZ=="smart"){fW=f0.doc.mode.indent(fO,f1.text.slice(fN.length),f1.text);if(fW==bY){if(!fP){return}fZ="prev"}}}if(fZ=="prev"){if(fQ>fY.first){fW=bJ(eO(fY,fQ-1).text,null,fU)}else{fW=0}}else{if(fZ=="add"){fW=fT+f0.options.indentUnit}else{if(fZ=="subtract"){fW=fT-f0.options.indentUnit}else{if(typeof fZ=="number"){fW=fT+fZ}}}}fW=Math.max(0,fW);var fX="",fV=0;if(f0.options.indentWithTabs){for(var fR=Math.floor(fW/fU);fR;--fR){fV+=fU;fX+="\t"}}if(fV<fW){fX+=cd(fW-fV)}if(fX!=fN){aS(f0.doc,fX,X(fQ,0),X(fQ,fN.length),"+input")}else{for(var fR=0;fR<fY.sel.ranges.length;fR++){var fS=fY.sel.ranges[fR];if(fS.head.line==fQ&&fS.head.ch<fN.length){var fV=X(fQ,fN.length);f(fY,fR,new dA(fV,fV));break}}}f1.stateAfter=null}function ea(fQ,fP,fN,fS){var fR=fP,fO=fP;if(typeof fP=="number"){fO=eO(fQ,cN(fQ,fP))}else{fR=bD(fP)}if(fR==null){return null}if(fS(fO,fR)&&fQ.cm){S(fQ.cm,fR,fN)}return fO}function ez(fN,fT){var fO=fN.doc.sel.ranges,fR=[];for(var fQ=0;fQ<fO.length;fQ++){var fP=fT(fO[fQ]);while(fR.length&&b3(fP.from,fh(fR).to)<=0){var fS=fR.pop();if(b3(fS.from,fP.from)<0){fP.from=fS.from;break}}fR.push(fP)}cx(fN,function(){for(var fU=fR.length-1;fU>=0;fU--){aS(fN.doc,"",fR[fU].from,fR[fU].to,"+delete")}fg(fN)})}function bn(f5,fR,fZ,fY,fT){var fW=fR.line,fX=fR.ch,f4=fZ;var fO=eO(f5,fW);var f2=true;function f3(){var f6=fW+fZ;if(f6<f5.first||f6>=f5.first+f5.size){return(f2=false)}fW=f6;return fO=eO(f5,f6)}function f1(f7){var f6=(fT?w:ah)(fO,fX,fZ,true);if(f6==null){if(!f7&&f3()){if(fT){fX=(fZ<0?cD:cr)(fO)}else{fX=fZ<0?fO.text.length:0}}else{return(f2=false)}}else{fX=f6}return true}if(fY=="char"){f1()}else{if(fY=="column"){f1(true)}else{if(fY=="word"||fY=="group"){var f0=null,fU=fY=="group";var fN=f5.cm&&f5.cm.getHelper(fR,"wordChars");for(var fS=true;;fS=false){if(fZ<0&&!f1(!fS)){break}var fP=fO.text.charAt(fX)||"\n";var fQ=cn(fP,fN)?"w":fU&&fP=="\n"?"n":!fU||/\s/.test(fP)?null:"p";if(fU&&!fS&&!fQ){fQ="s"}if(f0&&f0!=fQ){if(fZ<0){fZ=1;f1()}break}if(fQ){f0=fQ}if(fZ>0&&!f1(!fS)){break}}}}}var fV=bL(f5,X(fW,fX),f4,true);if(!f2){fV.hitSide=true}return fV}function bh(fV,fQ,fN,fU){var fT=fV.doc,fS=fQ.left,fR;if(fU=="page"){var fP=Math.min(fV.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);fR=fQ.top+fN*(fP-(fN<0?1.5:0.5)*aO(fV.display))}else{if(fU=="line"){fR=fN>0?fQ.bottom+3:fQ.top-3}}for(;;){var fO=fo(fV,fS,fR);if(!fO.outside){break}if(fN<0?fR<=0:fR>=fT.height){fO.hitSide=true;break}fR+=fN*5}return fO}function at(fT,fR){var fS=fT.doc,fU=eO(fS,fR.line).text;var fO=fR.ch,fQ=fR.ch;if(fU){var fP=fT.getHelper(fR,"wordChars");if((fR.xRel<0||fQ==fU.length)&&fO){--fO}else{++fQ}var fV=fU.charAt(fO);var fN=cn(fV,fP)?function(fW){return cn(fW,fP)}:/\s/.test(fV)?function(fW){return/\s/.test(fW)}:function(fW){return !/\s/.test(fW)&&!cn(fW)};while(fO>0&&fN(fU.charAt(fO-1))){--fO}while(fQ<fU.length&&fN(fU.charAt(fQ))){++fQ}}return new dA(X(fR.line,fO),X(fR.line,fQ))}J.prototype={constructor:J,focus:function(){window.focus();ec(this);D(this)},setOption:function(fP,fQ){var fO=this.options,fN=fO[fP];if(fO[fP]==fQ&&fP!="mode"){return}fO[fP]=fQ;if(a5.hasOwnProperty(fP)){cK(this,a5[fP])(this,fQ,fN)}},getOption:function(fN){return this.options[fN]},getDoc:function(){return this.doc},addKeyMap:function(fO,fN){this.state.keyMaps[fN?"push":"unshift"](fO)},removeKeyMap:function(fO){var fP=this.state.keyMaps;for(var fN=0;fN<fP.length;++fN){if(fP[fN]==fO||(typeof fP[fN]!="string"&&fP[fN].name==fO)){fP.splice(fN,1);return true}}},addOverlay:cQ(function(fN,fO){var fP=fN.token?fN:J.getMode(this.options,fN);if(fP.startState){throw new Error("Overlays may not be stateful.")}this.state.overlays.push({mode:fP,modeSpec:fN,opaque:fO&&fO.opaque});this.state.modeGen++;ag(this)}),removeOverlay:cQ(function(fN){var fP=this.state.overlays;for(var fO=0;fO<fP.length;++fO){var fQ=fP[fO].modeSpec;if(fQ==fN||typeof fN=="string"&&fQ.name==fN){fP.splice(fO,1);this.state.modeGen++;ag(this);return}}}),indentLine:cQ(function(fP,fN,fO){if(typeof fN!="string"&&typeof fN!="number"){if(fN==null){fN=this.options.smartIndent?"smart":"prev"}else{fN=fN?"add":"subtract"}}if(bX(this.doc,fP)){ac(this,fP,fN,fO)}}),indentSelection:cQ(function(fS){var fO=this.doc.sel.ranges,fN=-1;for(var fR=0;fR<fO.length;fR++){var fP=fO[fR];if(!fP.empty()){var fU=Math.max(fN,fP.from().line);var fT=fP.to();fN=Math.min(this.lastLine(),fT.line-(fT.ch?0:1))+1;for(var fQ=fU;fQ<fN;++fQ){ac(this,fQ,fS)}}else{if(fP.head.line>fN){ac(this,fP.head.line,fS,true);fN=fP.head.line;if(fR==this.doc.sel.primIndex){fg(this)}}}}}),getTokenAt:function(fU,fO){var fR=this.doc;fU=fj(fR,fU);var fQ=df(this,fU.line,fO),fT=this.doc.mode;var fN=eO(fR,fU.line);var fS=new ev(fN.text,this.options.tabSize);while(fS.pos<fU.ch&&!fS.eol()){fS.start=fS.pos;var fP=ee(fT,fS,fQ)}return{start:fS.start,end:fS.pos,string:fS.current(),type:fP||null,state:fQ}},getTokenTypeAt:function(fU){fU=fj(this.doc,fU);var fQ=cP(this,eO(this.doc,fU.line));var fS=0,fT=(fQ.length-1)/2,fP=fU.ch;var fO;if(fP==0){fO=fQ[2]}else{for(;;){var fN=(fS+fT)>>1;if((fN?fQ[fN*2-1]:0)>=fP){fT=fN}else{if(fQ[fN*2+1]<fP){fS=fN+1}else{fO=fQ[fN*2+2];break}}}}var fR=fO?fO.indexOf("cm-overlay "):-1;return fR<0?fO:fR==0?null:fO.slice(0,fR-1)},getModeAt:function(fO){var fN=this.doc.mode;if(!fN.innerMode){return fN}return J.innerMode(fN,this.getTokenAt(fO).state).mode},getHelper:function(fO,fN){return this.getHelpers(fO,fN)[0]},getHelpers:function(fU,fP){var fQ=[];if(!eX.hasOwnProperty(fP)){return eX}var fN=eX[fP],fT=this.getModeAt(fU);if(typeof fT[fP]=="string"){if(fN[fT[fP]]){fQ.push(fN[fT[fP]])}}else{if(fT[fP]){for(var fO=0;fO<fT[fP].length;fO++){var fS=fN[fT[fP][fO]];if(fS){fQ.push(fS)}}}else{if(fT.helperType&&fN[fT.helperType]){fQ.push(fN[fT.helperType])}else{if(fN[fT.name]){fQ.push(fN[fT.name])}}}}for(var fO=0;fO<fN._global.length;fO++){var fR=fN._global[fO];if(fR.pred(fT,this)&&c0(fQ,fR.val)==-1){fQ.push(fR.val)}}return fQ},getStateAfter:function(fO,fN){var fP=this.doc;fO=cN(fP,fO==null?fP.first+fP.size-1:fO);return df(this,fO+1,fN)},cursorCoords:function(fQ,fO){var fP,fN=this.doc.sel.primary();if(fQ==null){fP=fN.head}else{if(typeof fQ=="object"){fP=fj(this.doc,fQ)}else{fP=fQ?fN.from():fN.to()}}return dw(this,fP,fO||"page")},charCoords:function(fO,fN){return cv(this,fj(this.doc,fO),fN||"page")},coordsChar:function(fN,fO){fN=fJ(this,fN,fO||"page");return fo(this,fN.left,fN.top)},lineAtHeight:function(fN,fO){fN=fJ(this,{top:fN,left:0},fO||"page").top;return bw(this.doc,fN+this.display.viewOffset)},heightAtLine:function(fO,fR){var fN=false,fQ=this.doc.first+this.doc.size-1;if(fO<this.doc.first){fO=this.doc.first}else{if(fO>fQ){fO=fQ;fN=true}}var fP=eO(this.doc,fO);return es(this,fP,{top:0,left:0},fR||"page").top+(fN?this.doc.height-bC(fP):0)},defaultTextHeight:function(){return aO(this.display)},defaultCharWidth:function(){return dh(this.display)},setGutterMarker:cQ(function(fN,fO,fP){return ea(this.doc,fN,"gutter",function(fQ){var fR=fQ.gutterMarkers||(fQ.gutterMarkers={});fR[fO]=fP;if(!fP&&ew(fR)){fQ.gutterMarkers=null}return true})}),clearGutter:cQ(function(fP){var fN=this,fQ=fN.doc,fO=fQ.first;fQ.iter(function(fR){if(fR.gutterMarkers&&fR.gutterMarkers[fP]){fR.gutterMarkers[fP]=null;S(fN,fO,"gutter");if(ew(fR.gutterMarkers)){fR.gutterMarkers=null}}++fO})}),addLineWidget:cQ(function(fP,fO,fN){return bx(this,fP,fO,fN)}),removeLineWidget:function(fN){fN.clear()},lineInfo:function(fN){if(typeof fN=="number"){if(!bX(this.doc,fN)){return null}var fO=fN;fN=eO(this.doc,fN);if(!fN){return null}}else{var fO=bD(fN);if(fO==null){return null}}return{line:fO,handle:fN,text:fN.text,gutterMarkers:fN.gutterMarkers,textClass:fN.textClass,bgClass:fN.bgClass,wrapClass:fN.wrapClass,widgets:fN.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(fS,fP,fU,fQ,fW){var fR=this.display;fS=dw(this,fj(this.doc,fS));var fT=fS.bottom,fO=fS.left;fP.style.position="absolute";fR.sizer.appendChild(fP);if(fQ=="over"){fT=fS.top}else{if(fQ=="above"||fQ=="near"){var fN=Math.max(fR.wrapper.clientHeight,this.doc.height),fV=Math.max(fR.sizer.clientWidth,fR.lineSpace.clientWidth);if((fQ=="above"||fS.bottom+fP.offsetHeight>fN)&&fS.top>fP.offsetHeight){fT=fS.top-fP.offsetHeight}else{if(fS.bottom+fP.offsetHeight<=fN){fT=fS.bottom}}if(fO+fP.offsetWidth>fV){fO=fV-fP.offsetWidth}}}fP.style.top=fT+"px";fP.style.left=fP.style.right="";if(fW=="right"){fO=fR.sizer.clientWidth-fP.offsetWidth;fP.style.right="0px"}else{if(fW=="left"){fO=0}else{if(fW=="middle"){fO=(fR.sizer.clientWidth-fP.offsetWidth)/2}}fP.style.left=fO+"px"}if(fU){G(this,fO,fT,fO+fP.offsetWidth,fT+fP.offsetHeight)}},triggerOnKeyDown:cQ(r),triggerOnKeyPress:cQ(cl),triggerOnKeyUp:cQ(a8),execCommand:function(fN){if(eg.hasOwnProperty(fN)){return eg[fN](this)}},findPosH:function(fT,fQ,fR,fO){var fN=1;if(fQ<0){fN=-1;fQ=-fQ}for(var fP=0,fS=fj(this.doc,fT);fP<fQ;++fP){fS=bn(this.doc,fS,fN,fR,fO);if(fS.hitSide){break}}return fS},moveH:cQ(function(fO,fP){var fN=this;fN.extendSelectionsBy(function(fQ){if(fN.display.shift||fN.doc.extend||fQ.empty()){return bn(fN.doc,fQ.head,fO,fP,fN.options.rtlMoveVisually)}else{return fO<0?fQ.from():fQ.to()}},cE)}),deleteH:cQ(function(fN,fO){var fP=this.doc.sel,fQ=this.doc;if(fP.somethingSelected()){fQ.replaceSelection("",null,"+delete")}else{ez(this,function(fS){var fR=bn(fQ,fS.head,fN,fO,false);return fN<0?{from:fR,to:fS.head}:{from:fS.head,to:fR}})}}),findPosV:function(fS,fP,fT,fV){var fN=1,fR=fV;if(fP<0){fN=-1;fP=-fP}for(var fO=0,fU=fj(this.doc,fS);fO<fP;++fO){var fQ=dw(this,fU,"div");if(fR==null){fR=fQ.left}else{fQ.left=fR}fU=bh(this,fQ,fN,fT);if(fU.hitSide){break}}return fU},moveV:cQ(function(fO,fQ){var fN=this,fS=this.doc,fR=[];var fT=!fN.display.shift&&!fS.extend&&fS.sel.somethingSelected();fS.extendSelectionsBy(function(fU){if(fT){return fO<0?fU.from():fU.to()}var fW=dw(fN,fU.head,"div");if(fU.goalColumn!=null){fW.left=fU.goalColumn}fR.push(fW.left);var fV=bh(fN,fW,fO,fQ);if(fQ=="page"&&fU==fS.sel.primary()){cw(fN,null,cv(fN,fV,"div").top-fW.top)}return fV},cE);if(fR.length){for(var fP=0;fP<fS.sel.ranges.length;fP++){fS.sel.ranges[fP].goalColumn=fR[fP]}}}),toggleOverwrite:function(fN){if(fN!=null&&fN==this.state.overwrite){return}if(this.state.overwrite=!this.state.overwrite){fa(this.display.cursorDiv,"CodeMirror-overwrite")}else{g(this.display.cursorDiv,"CodeMirror-overwrite")}aA(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return dr()==this.display.input},scrollTo:cQ(function(fN,fO){if(fN!=null||fO!=null){fc(this)}if(fN!=null){this.curOp.scrollLeft=fN}if(fO!=null){this.curOp.scrollTop=fO}}),getScrollInfo:function(){var fN=this.display.scroller,fO=bb;return{left:fN.scrollLeft,top:fN.scrollTop,height:fN.scrollHeight-fO,width:fN.scrollWidth-fO,clientHeight:fN.clientHeight-fO,clientWidth:fN.clientWidth-fO}},scrollIntoView:cQ(function(fO,fP){if(fO==null){fO={from:this.doc.sel.primary().head,to:null};if(fP==null){fP=this.options.cursorScrollMargin}}else{if(typeof fO=="number"){fO={from:X(fO,0),to:null}}else{if(fO.from==null){fO={from:fO,to:null}}}}if(!fO.to){fO.to=fO.from}fO.margin=fP||0;if(fO.from.line!=null){fc(this);this.curOp.scrollToPos=fO}else{var fN=I(this,Math.min(fO.from.left,fO.to.left),Math.min(fO.from.top,fO.to.top)-fO.margin,Math.max(fO.from.right,fO.to.right),Math.max(fO.from.bottom,fO.to.bottom)+fO.margin);this.scrollTo(fN.scrollLeft,fN.scrollTop)}}),setSize:cQ(function(fQ,fO){var fN=this;function fP(fS){return typeof fS=="number"||/^\d+$/.test(String(fS))?fS+"px":fS}if(fQ!=null){fN.display.wrapper.style.width=fP(fQ)}if(fO!=null){fN.display.wrapper.style.height=fP(fO)}if(fN.options.lineWrapping){aG(this)}var fR=fN.display.viewFrom;fN.doc.iter(fR,fN.display.viewTo,function(fS){if(fS.widgets){for(var fT=0;fT<fS.widgets.length;fT++){if(fS.widgets[fT].noHScroll){S(fN,fR,"widget");break}}}++fR});fN.curOp.forceUpdate=true;aA(fN,"refresh",this)}),operation:function(fN){return cx(this,fN)},refresh:cQ(function(){var fN=this.display.cachedTextHeight;ag(this);this.curOp.forceUpdate=true;aj(this);this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop);cM(this);if(fN==null||Math.abs(fN-aO(this.display))>0.5){Y(this)}aA(this,"refresh",this)}),swapDoc:cQ(function(fO){var fN=this.doc;fN.cm=null;dM(this,fO);aj(this);eY(this);this.scrollTo(fO.scrollLeft,fO.scrollTop);ad(this,"swapDoc",this,fN);return fN}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};bp(J);var eE=J.defaults={};var a5=J.optionHandlers={};function u(fN,fQ,fP,fO){J.defaults[fN]=fQ;if(fP){a5[fN]=fO?function(fR,fT,fS){if(fS!=b0){fP(fR,fT,fS)}}:fP}}var b0=J.Init={toString:function(){return"CodeMirror.Init"}};u("value","",function(fN,fO){fN.setValue(fO)},true);u("mode",null,function(fN,fO){fN.doc.modeOption=fO;bi(fN)},true);u("indentUnit",2,bi,true);u("indentWithTabs",false);u("smartIndent",true);u("tabSize",4,function(fN){dW(fN);aj(fN);ag(fN)},true);u("specialChars",/[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\ufeff]/g,function(fN,fO){fN.options.specialChars=new RegExp(fO.source+(fO.test("\t")?"":"|\t"),"g");fN.refresh()},true);u("specialCharPlaceholder",eM,function(fN){fN.refresh()},true);u("electricChars",true);u("rtlMoveVisually",!aH);u("wholeLineUpdateBefore",true);u("theme","default",function(fN){cz(fN);da(fN)},true);u("keyMap","default",fK);u("extraKeys",null);u("lineWrapping",false,ej,true);u("gutters",[],function(fN){b2(fN.options);da(fN)},true);u("fixedGutter",true,function(fN,fO){fN.display.gutters.style.left=fO?dz(fN.display)+"px":"0";fN.refresh()},true);u("coverGutterNextToScrollbar",false,eA,true);u("lineNumbers",false,function(fN){b2(fN.options);da(fN)},true);u("firstLineNumber",1,da,true);u("lineNumberFormatter",function(fN){return fN},da,true);u("showCursorWhenSelecting",false,bs,true);u("resetSelectionOnContextMenu",true);u("readOnly",false,function(fN,fO){if(fO=="nocursor"){aM(fN);fN.display.input.blur();fN.display.disabled=true}else{fN.display.disabled=false;if(!fO){eY(fN)}}});u("disableInput",false,function(fN,fO){if(!fO){eY(fN)}},true);u("dragDrop",true);u("cursorBlinkRate",530);u("cursorScrollMargin",0);u("cursorHeight",1,bs,true);u("singleCursorHeightPerLine",true,bs,true);u("workTime",100);u("workDelay",100);u("flattenSpans",true,dW,true);u("addModeClass",false,dW,true);u("pollInterval",100);u("undoDepth",200,function(fN,fO){fN.doc.history.undoDepth=fO});u("historyEventDelay",1250);u("viewportMargin",10,function(fN){fN.refresh()},true);u("maxHighlightLength",10000,dW,true);u("moveInputWithCursor",true,function(fN,fO){if(!fO){fN.display.inputDiv.style.top=fN.display.inputDiv.style.left=0}});u("tabindex",null,function(fN,fO){fN.display.input.tabIndex=fO||""});u("autofocus",null);var c7=J.modes={},aK=J.mimeModes={};J.defineMode=function(fN,fP){if(!J.defaults.mode&&fN!="null"){J.defaults.mode=fN}if(arguments.length>2){fP.dependencies=[];for(var fO=2;fO<arguments.length;++fO){fP.dependencies.push(arguments[fO])}}c7[fN]=fP};J.defineMIME=function(fO,fN){aK[fO]=fN};J.resolveMode=function(fN){if(typeof fN=="string"&&aK.hasOwnProperty(fN)){fN=aK[fN]}else{if(fN&&typeof fN.name=="string"&&aK.hasOwnProperty(fN.name)){var fO=aK[fN.name];if(typeof fO=="string"){fO={name:fO}}fN=b8(fO,fN);fN.name=fO.name}else{if(typeof fN=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(fN)){return J.resolveMode("application/xml")}}}if(typeof fN=="string"){return{name:fN}}else{return fN||{name:"null"}}};J.getMode=function(fO,fN){var fN=J.resolveMode(fN);var fQ=c7[fN.name];if(!fQ){return J.getMode(fO,"text/plain")}var fR=fQ(fO,fN);if(c4.hasOwnProperty(fN.name)){var fP=c4[fN.name];for(var fS in fP){if(!fP.hasOwnProperty(fS)){continue}if(fR.hasOwnProperty(fS)){fR["_"+fS]=fR[fS]}fR[fS]=fP[fS]}}fR.name=fN.name;if(fN.helperType){fR.helperType=fN.helperType}if(fN.modeProps){for(var fS in fN.modeProps){fR[fS]=fN.modeProps[fS]}}return fR};J.defineMode("null",function(){return{token:function(fN){fN.skipToEnd()}}});J.defineMIME("text/plain","null");var c4=J.modeExtensions={};J.extendMode=function(fP,fO){var fN=c4.hasOwnProperty(fP)?c4[fP]:(c4[fP]={});aF(fO,fN)};J.defineExtension=function(fN,fO){J.prototype[fN]=fO};J.defineDocExtension=function(fN,fO){ap.prototype[fN]=fO};J.defineOption=u;var aZ=[];J.defineInitHook=function(fN){aZ.push(fN)};var eX=J.helpers={};J.registerHelper=function(fO,fN,fP){if(!eX.hasOwnProperty(fO)){eX[fO]=J[fO]={_global:[]}}eX[fO][fN]=fP};J.registerGlobalHelper=function(fP,fO,fN,fQ){J.registerHelper(fP,fO,fQ);eX[fP]._global.push({pred:fN,val:fQ})};var bS=J.copyState=function(fQ,fN){if(fN===true){return fN}if(fQ.copyState){return fQ.copyState(fN)}var fP={};for(var fR in fN){var fO=fN[fR];if(fO instanceof Array){fO=fO.concat([])}fP[fR]=fO}return fP};var bQ=J.startState=function(fP,fO,fN){return fP.startState?fP.startState(fO,fN):true};J.innerMode=function(fP,fN){while(fP.innerMode){var fO=fP.innerMode(fN);if(!fO||fO.mode==fP){break}fN=fO.state;fP=fO.mode}return fO||{mode:fP,state:fN}};var eg=J.commands={selectAll:function(fN){fN.setSelection(X(fN.firstLine(),0),X(fN.lastLine()),Z)},singleSelection:function(fN){fN.setSelection(fN.getCursor("anchor"),fN.getCursor("head"),Z)},killLine:function(fN){ez(fN,function(fP){if(fP.empty()){var fO=eO(fN.doc,fP.head.line).text.length;if(fP.head.ch==fO&&fP.head.line<fN.lastLine()){return{from:fP.head,to:X(fP.head.line+1,0)}}else{return{from:fP.head,to:X(fP.head.line,fO)}}}else{return{from:fP.from(),to:fP.to()}}})},deleteLine:function(fN){ez(fN,function(fO){return{from:X(fO.from().line,0),to:fj(fN.doc,X(fO.to().line+1,0))}})},delLineLeft:function(fN){ez(fN,function(fO){return{from:X(fO.from().line,0),to:fO.from()}})},undo:function(fN){fN.undo()},redo:function(fN){fN.redo()},undoSelection:function(fN){fN.undoSelection()},redoSelection:function(fN){fN.redoSelection()},goDocStart:function(fN){fN.extendSelection(X(fN.firstLine(),0))},goDocEnd:function(fN){fN.extendSelection(X(fN.lastLine()))},goLineStart:function(fN){fN.extendSelectionsBy(function(fO){return bk(fN,fO.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(fN){fN.extendSelectionsBy(function(fQ){var fT=bk(fN,fQ.head.line);var fP=fN.getLineHandle(fT.line);var fO=a(fP);if(!fO||fO[0].level==0){var fS=Math.max(0,fP.text.search(/\S/));var fR=fQ.head.line==fT.line&&fQ.head.ch<=fS&&fQ.head.ch;return X(fT.line,fR?0:fS)}return fT},{origin:"+move",bias:1})},goLineEnd:function(fN){fN.extendSelectionsBy(function(fO){return ds(fN,fO.head.line)},{origin:"+move",bias:-1})},goLineRight:function(fN){fN.extendSelectionsBy(function(fO){var fP=fN.charCoords(fO.head,"div").top+5;return fN.coordsChar({left:fN.display.lineDiv.offsetWidth+100,top:fP},"div")},cE)},goLineLeft:function(fN){fN.extendSelectionsBy(function(fO){var fP=fN.charCoords(fO.head,"div").top+5;return fN.coordsChar({left:0,top:fP},"div")},cE)},goLineUp:function(fN){fN.moveV(-1,"line")},goLineDown:function(fN){fN.moveV(1,"line")},goPageUp:function(fN){fN.moveV(-1,"page")},goPageDown:function(fN){fN.moveV(1,"page")},goCharLeft:function(fN){fN.moveH(-1,"char")},goCharRight:function(fN){fN.moveH(1,"char")},goColumnLeft:function(fN){fN.moveH(-1,"column")},goColumnRight:function(fN){fN.moveH(1,"column")},goWordLeft:function(fN){fN.moveH(-1,"word")},goGroupRight:function(fN){fN.moveH(1,"group")},goGroupLeft:function(fN){fN.moveH(-1,"group")},goWordRight:function(fN){fN.moveH(1,"word")},delCharBefore:function(fN){fN.deleteH(-1,"char")},delCharAfter:function(fN){fN.deleteH(1,"char")},delWordBefore:function(fN){fN.deleteH(-1,"word")},delWordAfter:function(fN){fN.deleteH(1,"word")},delGroupBefore:function(fN){fN.deleteH(-1,"group")},delGroupAfter:function(fN){fN.deleteH(1,"group")},indentAuto:function(fN){fN.indentSelection("smart")},indentMore:function(fN){fN.indentSelection("add")},indentLess:function(fN){fN.indentSelection("subtract")},insertTab:function(fN){fN.replaceSelection("\t")},insertSoftTab:function(fN){var fP=[],fO=fN.listSelections(),fS=fN.options.tabSize;for(var fR=0;fR<fO.length;fR++){var fT=fO[fR].from();var fQ=bJ(fN.getLine(fT.line),fT.ch,fS);fP.push(new Array(fS-fQ%fS+1).join(" "))}fN.replaceSelections(fP)},defaultTab:function(fN){if(fN.somethingSelected()){fN.indentSelection("add")}else{fN.execCommand("insertTab")}},transposeChars:function(fN){cx(fN,function(){var fQ=fN.listSelections(),fP=[];for(var fR=0;fR<fQ.length;fR++){var fT=fQ[fR].head,fO=eO(fN.doc,fT.line).text;if(fO){if(fT.ch==fO.length){fT=new X(fT.line,fT.ch-1)}if(fT.ch>0){fT=new X(fT.line,fT.ch+1);fN.replaceRange(fO.charAt(fT.ch-1)+fO.charAt(fT.ch-2),X(fT.line,fT.ch-2),fT,"+transpose")}else{if(fT.line>fN.doc.first){var fS=eO(fN.doc,fT.line-1).text;if(fS){fN.replaceRange(fO.charAt(0)+"\n"+fS.charAt(fS.length-1),X(fT.line-1,fS.length-1),X(fT.line,1),"+transpose")}}}}fP.push(new dA(fT,fT))}fN.setSelections(fP)})},newlineAndIndent:function(fN){cx(fN,function(){var fO=fN.listSelections().length;for(var fQ=0;fQ<fO;fQ++){var fP=fN.listSelections()[fQ];fN.replaceRange("\n",fP.anchor,fP.head,"+input");fN.indentLine(fP.from().line+1,null,true);fg(fN)}})},toggleOverwrite:function(fN){fN.toggleOverwrite()}};var eJ=J.keyMap={};eJ.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"};eJ.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-A":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"};eJ.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delLineLeft","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection",fallthrough:["basic","emacsy"]};eJ.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};eJ["default"]=bV?eJ.macDefault:eJ.pcDefault;function fu(fN){if(typeof fN=="string"){return eJ[fN]}else{return fN}}var j=J.lookupKey=function(fO,fS,fQ){function fR(fX){fX=fu(fX);var fW=fX[fO];if(fW===false){return"stop"}if(fW!=null&&fQ(fW)){return true}if(fX.nofallthrough){return"stop"}var fV=fX.fallthrough;if(fV==null){return false}if(Object.prototype.toString.call(fV)!="[object Array]"){return fR(fV)}for(var fU=0;fU<fV.length;++fU){var fT=fR(fV[fU]);if(fT){return fT}}return false}for(var fP=0;fP<fS.length;++fP){var fN=fR(fS[fP]);if(fN){return fN!="stop"}}};var ef=J.isModifierKey=function(fO){var fN=eP[fO.keyCode];return fN=="Ctrl"||fN=="Alt"||fN=="Shift"||fN=="Mod"};var e1=J.keyName=function(fO,fP){if(dE&&fO.keyCode==34&&fO["char"]){return false}var fN=eP[fO.keyCode];if(fN==null||fO.altGraphKey){return false}if(fO.altKey){fN="Alt-"+fN}if(bG?fO.metaKey:fO.ctrlKey){fN="Ctrl-"+fN}if(bG?fO.ctrlKey:fO.metaKey){fN="Cmd-"+fN}if(!fP&&fO.shiftKey){fN="Shift-"+fN}return fN};J.fromTextArea=function(fU,fV){if(!fV){fV={}}fV.value=fU.value;if(!fV.tabindex&&fU.tabindex){fV.tabindex=fU.tabindex}if(!fV.placeholder&&fU.placeholder){fV.placeholder=fU.placeholder}if(fV.autofocus==null){var fN=dr();fV.autofocus=fN==fU||fU.getAttribute("autofocus")!=null&&fN==document.body}function fR(){fU.value=fT.getValue()}if(fU.form){bN(fU.form,"submit",fR);if(!fV.leaveSubmitMethodAlone){var fO=fU.form,fS=fO.submit;try{var fQ=fO.submit=function(){fR();fO.submit=fS;fO.submit();fO.submit=fQ}}catch(fP){}}}fU.style.display="none";var fT=J(function(fW){fU.parentNode.insertBefore(fW,fU.nextSibling)},fV);fT.save=fR;fT.getTextArea=function(){return fU};fT.toTextArea=function(){fR();fU.parentNode.removeChild(fT.getWrapperElement());fU.style.display="";if(fU.form){dO(fU.form,"submit",fR);if(typeof fU.form.submit=="function"){fU.form.submit=fS}}};return fT};var ev=J.StringStream=function(fN,fO){this.pos=this.start=0;this.string=fN;this.tabSize=fO||8;this.lastColumnPos=this.lastColumnValue=0;this.lineStart=0};ev.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||undefined},next:function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}},eat:function(fN){var fP=this.string.charAt(this.pos);if(typeof fN=="string"){var fO=fP==fN}else{var fO=fP&&(fN.test?fN.test(fP):fN(fP))}if(fO){++this.pos;return fP}},eatWhile:function(fN){var fO=this.pos;while(this.eat(fN)){}return this.pos>fO},eatSpace:function(){var fN=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this.pos}return this.pos>fN},skipToEnd:function(){this.pos=this.string.length},skipTo:function(fN){var fO=this.string.indexOf(fN,this.pos);if(fO>-1){this.pos=fO;return true}},backUp:function(fN){this.pos-=fN},column:function(){if(this.lastColumnPos<this.start){this.lastColumnValue=bJ(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);this.lastColumnPos=this.start}return this.lastColumnValue-(this.lineStart?bJ(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return bJ(this.string,null,this.tabSize)-(this.lineStart?bJ(this.string,this.lineStart,this.tabSize):0)},match:function(fR,fO,fN){if(typeof fR=="string"){var fS=function(fT){return fN?fT.toLowerCase():fT};var fQ=this.string.substr(this.pos,fR.length);if(fS(fQ)==fS(fR)){if(fO!==false){this.pos+=fR.length}return true}}else{var fP=this.string.slice(this.pos).match(fR);if(fP&&fP.index>0){return null}if(fP&&fO!==false){this.pos+=fP[0].length}return fP}},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(fO,fN){this.lineStart+=fO;try{return fN()}finally{this.lineStart-=fO}}};var Q=J.TextMarker=function(fO,fN){this.lines=[];this.type=fN;this.doc=fO};bp(Q);Q.prototype.clear=function(){if(this.explicitlyCleared){return}var fU=this.doc.cm,fO=fU&&!fU.curOp;if(fO){cu(fU)}if(eR(this,"clear")){var fV=this.find();if(fV){ad(this,"clear",fV.from,fV.to)}}var fP=null,fS=null;for(var fQ=0;fQ<this.lines.length;++fQ){var fW=this.lines[fQ];var fT=eI(fW.markedSpans,this);if(fU&&!this.collapsed){S(fU,bD(fW),"text")}else{if(fU){if(fT.to!=null){fS=bD(fW)}if(fT.from!=null){fP=bD(fW)}}}fW.markedSpans=ek(fW.markedSpans,fT);if(fT.from==null&&this.collapsed&&!e6(this.doc,fW)&&fU){fA(fW,aO(fU.display))}}if(fU&&this.collapsed&&!fU.options.lineWrapping){for(var fQ=0;fQ<this.lines.length;++fQ){var fN=A(this.lines[fQ]),fR=dX(fN);if(fR>fU.display.maxLineLength){fU.display.maxLine=fN;fU.display.maxLineLength=fR;fU.display.maxLineChanged=true}}}if(fP!=null&&fU&&this.collapsed){ag(fU,fP,fS+1)}this.lines.length=0;this.explicitlyCleared=true;if(this.atomic&&this.doc.cantEdit){this.doc.cantEdit=false;if(fU){d9(fU.doc)}}if(fU){ad(fU,"markerCleared",fU,this)}if(fO){ak(fU)}if(this.parent){this.parent.clear()}};Q.prototype.find=function(fQ,fO){if(fQ==null&&this.type=="bookmark"){fQ=1}var fT,fS;for(var fP=0;fP<this.lines.length;++fP){var fN=this.lines[fP];var fR=eI(fN.markedSpans,this);if(fR.from!=null){fT=X(fO?fN:bD(fN),fR.from);if(fQ==-1){return fT}}if(fR.to!=null){fS=X(fO?fN:bD(fN),fR.to);if(fQ==1){return fS}}}return fT&&{from:fT,to:fS}};Q.prototype.changed=function(){var fP=this.find(-1,true),fO=this,fN=this.doc.cm;if(!fP||!fN){return}cx(fN,function(){var fR=fP.line,fS=bD(fP.line);var fQ=eK(fN,fS);if(fQ){aq(fQ);fN.curOp.selectionChanged=fN.curOp.forceUpdate=true}fN.curOp.updateMaxLine=true;if(!e6(fO.doc,fR)&&fO.height!=null){var fU=fO.height;fO.height=null;var fT=cG(fO)-fU;if(fT){fA(fR,fR.height+fT)}}})};Q.prototype.attachLine=function(fN){if(!this.lines.length&&this.doc.cm){var fO=this.doc.cm.curOp;if(!fO.maybeHiddenMarkers||c0(fO.maybeHiddenMarkers,this)==-1){(fO.maybeUnhiddenMarkers||(fO.maybeUnhiddenMarkers=[])).push(this)}}this.lines.push(fN)};Q.prototype.detachLine=function(fN){this.lines.splice(c0(this.lines,fN),1);if(!this.lines.length&&this.doc.cm){var fO=this.doc.cm.curOp;(fO.maybeHiddenMarkers||(fO.maybeHiddenMarkers=[])).push(this)}};var aW=0;function ei(fV,fT,fU,fX,fR){if(fX&&fX.shared){return P(fV,fT,fU,fX,fR)}if(fV.cm&&!fV.cm.curOp){return cK(fV.cm,ei)(fV,fT,fU,fX,fR)}var fQ=new Q(fV,fR),fW=b3(fT,fU);if(fX){aF(fX,fQ,false)}if(fW>0||fW==0&&fQ.clearWhenEmpty!==false){return fQ}if(fQ.replacedWith){fQ.collapsed=true;fQ.widgetNode=fw("span",[fQ.replacedWith],"CodeMirror-widget");if(!fX.handleMouseEvents){fQ.widgetNode.ignoreEvents=true}if(fX.insertLeft){fQ.widgetNode.insertLeft=true}}if(fQ.collapsed){if(B(fV,fT.line,fT,fU,fQ)||fT.line!=fU.line&&B(fV,fU.line,fT,fU,fQ)){throw new Error("Inserting collapsed marker partially overlapping an existing one")}aY=true}if(fQ.addToHistory){fm(fV,{from:fT,to:fU,origin:"markText"},fV.sel,NaN)}var fO=fT.line,fS=fV.cm,fN;fV.iter(fO,fU.line+1,function(fY){if(fS&&fQ.collapsed&&!fS.options.lineWrapping&&A(fY)==fS.display.maxLine){fN=true}if(fQ.collapsed&&fO!=fT.line){fA(fY,0)}b1(fY,new dT(fQ,fO==fT.line?fT.ch:null,fO==fU.line?fU.ch:null));++fO});if(fQ.collapsed){fV.iter(fT.line,fU.line+1,function(fY){if(e6(fV,fY)){fA(fY,0)}})}if(fQ.clearOnEnter){bN(fQ,"beforeCursorEnter",function(){fQ.clear()})}if(fQ.readOnly){fH=true;if(fV.history.done.length||fV.history.undone.length){fV.clearHistory()}}if(fQ.collapsed){fQ.id=++aW;fQ.atomic=true}if(fS){if(fN){fS.curOp.updateMaxLine=true}if(fQ.collapsed){ag(fS,fT.line,fU.line+1)}else{if(fQ.className||fQ.title||fQ.startStyle||fQ.endStyle){for(var fP=fT.line;fP<=fU.line;fP++){S(fS,fP,"text")}}}if(fQ.atomic){d9(fS.doc)}ad(fS,"markerAdded",fS,fQ)}return fQ}var z=J.SharedTextMarker=function(fP,fO){this.markers=fP;this.primary=fO;for(var fN=0;fN<fP.length;++fN){fP[fN].parent=this}};bp(z);z.prototype.clear=function(){if(this.explicitlyCleared){return}this.explicitlyCleared=true;for(var fN=0;fN<this.markers.length;++fN){this.markers[fN].clear()}ad(this,"clear")};z.prototype.find=function(fO,fN){return this.primary.find(fO,fN)};function P(fR,fU,fT,fN,fP){fN=aF(fN);fN.shared=false;var fS=[ei(fR,fU,fT,fN,fP)],fO=fS[0];var fQ=fN.widgetNode;dJ(fR,function(fW){if(fQ){fN.widgetNode=fQ.cloneNode(true)}fS.push(ei(fW,fj(fW,fU),fj(fW,fT),fN,fP));for(var fV=0;fV<fW.linked.length;++fV){if(fW.linked[fV].isParent){return}}fO=fh(fS)});return new z(fS,fO)}function er(fN){return fN.findMarks(X(fN.first,0),fN.clipPos(X(fN.lastLine())),function(fO){return fO.parent})}function dj(fS,fT){for(var fQ=0;fQ<fT.length;fQ++){var fO=fT[fQ],fU=fO.find();var fN=fS.clipPos(fU.from),fR=fS.clipPos(fU.to);if(b3(fN,fR)){var fP=ei(fS,fN,fR,fO.primary,fO.primary.type);fO.markers.push(fP);fP.parent=fO}}}function dZ(fQ){for(var fP=0;fP<fQ.length;fP++){var fN=fQ[fP],fS=[fN.primary.doc];dJ(fN.primary.doc,function(fT){fS.push(fT)});for(var fO=0;fO<fN.markers.length;fO++){var fR=fN.markers[fO];if(c0(fS,fR.doc)==-1){fR.parent=null;fN.markers.splice(fO--,1)}}}}function dT(fN,fP,fO){this.marker=fN;this.from=fP;this.to=fO}function eI(fP,fN){if(fP){for(var fO=0;fO<fP.length;++fO){var fQ=fP[fO];if(fQ.marker==fN){return fQ}}}}function ek(fO,fP){for(var fQ,fN=0;fN<fO.length;++fN){if(fO[fN]!=fP){(fQ||(fQ=[])).push(fO[fN])}}return fQ}function b1(fN,fO){fN.markedSpans=fN.markedSpans?fN.markedSpans.concat([fO]):[fO];fO.marker.attachLine(fN)}function aI(fO,fP,fT){if(fO){for(var fR=0,fU;fR<fO.length;++fR){var fV=fO[fR],fS=fV.marker;var fN=fV.from==null||(fS.inclusiveLeft?fV.from<=fP:fV.from<fP);if(fN||fV.from==fP&&fS.type=="bookmark"&&(!fT||!fV.marker.insertLeft)){var fQ=fV.to==null||(fS.inclusiveRight?fV.to>=fP:fV.to>fP);(fU||(fU=[])).push(new dT(fS,fV.from,fQ?null:fV.to))}}}return fU}function ay(fO,fQ,fT){if(fO){for(var fR=0,fU;fR<fO.length;++fR){var fV=fO[fR],fS=fV.marker;var fP=fV.to==null||(fS.inclusiveRight?fV.to>=fQ:fV.to>fQ);if(fP||fV.from==fQ&&fS.type=="bookmark"&&(!fT||fV.marker.insertLeft)){var fN=fV.from==null||(fS.inclusiveLeft?fV.from<=fQ:fV.from<fQ);(fU||(fU=[])).push(new dT(fS,fN?null:fV.from-fQ,fV.to==null?null:fV.to-fQ))}}}return fU}function dV(fZ,fW){var fV=bX(fZ,fW.from.line)&&eO(fZ,fW.from.line).markedSpans;var f2=bX(fZ,fW.to.line)&&eO(fZ,fW.to.line).markedSpans;if(!fV&&!f2){return null}var fO=fW.from.ch,fR=fW.to.ch,fU=b3(fW.from,fW.to)==0;var fT=aI(fV,fO,fU);var f1=ay(f2,fR,fU);var f0=fW.text.length==1,fP=fh(fW.text).length+(f0?fO:0);if(fT){for(var fQ=0;fQ<fT.length;++fQ){var fY=fT[fQ];if(fY.to==null){var f3=eI(f1,fY.marker);if(!f3){fY.to=fO}else{if(f0){fY.to=f3.to==null?null:f3.to+fP}}}}}if(f1){for(var fQ=0;fQ<f1.length;++fQ){var fY=f1[fQ];if(fY.to!=null){fY.to+=fP}if(fY.from==null){var f3=eI(fT,fY.marker);if(!f3){fY.from=fP;if(f0){(fT||(fT=[])).push(fY)}}}else{fY.from+=fP;if(f0){(fT||(fT=[])).push(fY)}}}}if(fT){fT=s(fT)}if(f1&&f1!=fT){f1=s(f1)}var fS=[fT];if(!f0){var fX=fW.text.length-2,fN;if(fX>0&&fT){for(var fQ=0;fQ<fT.length;++fQ){if(fT[fQ].to==null){(fN||(fN=[])).push(new dT(fT[fQ].marker,null,null))}}}for(var fQ=0;fQ<fX;++fQ){fS.push(fN)}fS.push(f1)}return fS}function s(fO){for(var fN=0;fN<fO.length;++fN){var fP=fO[fN];if(fP.from!=null&&fP.from==fP.to&&fP.marker.clearWhenEmpty!==false){fO.splice(fN--,1)}}if(!fO.length){return null}return fO}function dL(fV,fT){var fN=bT(fV,fT);var fW=dV(fV,fT);if(!fN){return fW}if(!fW){return fN}for(var fQ=0;fQ<fN.length;++fQ){var fR=fN[fQ],fS=fW[fQ];if(fR&&fS){spans:for(var fP=0;fP<fS.length;++fP){var fU=fS[fP];for(var fO=0;fO<fR.length;++fO){if(fR[fO].marker==fU.marker){continue spans}}fR.push(fU)}}else{if(fS){fN[fQ]=fS}}}return fN}function ct(fZ,fX,fY){var fR=null;fZ.iter(fX.line,fY.line+1,function(f0){if(f0.markedSpans){for(var f1=0;f1<f0.markedSpans.length;++f1){var f2=f0.markedSpans[f1].marker;if(f2.readOnly&&(!fR||c0(fR,f2)==-1)){(fR||(fR=[])).push(f2)}}}});if(!fR){return null}var fS=[{from:fX,to:fY}];for(var fT=0;fT<fR.length;++fT){var fU=fR[fT],fP=fU.find(0);for(var fQ=0;fQ<fS.length;++fQ){var fO=fS[fQ];if(b3(fO.to,fP.from)<0||b3(fO.from,fP.to)>0){continue}var fW=[fQ,1],fN=b3(fO.from,fP.from),fV=b3(fO.to,fP.to);if(fN<0||!fU.inclusiveLeft&&!fN){fW.push({from:fO.from,to:fP.from})}if(fV>0||!fU.inclusiveRight&&!fV){fW.push({from:fP.to,to:fO.to})}fS.splice.apply(fS,fW);fQ+=fW.length-1}}return fS}function fD(fN){var fP=fN.markedSpans;if(!fP){return}for(var fO=0;fO<fP.length;++fO){fP[fO].marker.detachLine(fN)}fN.markedSpans=null}function cL(fN,fP){if(!fP){return}for(var fO=0;fO<fP.length;++fO){fP[fO].marker.attachLine(fN)}fN.markedSpans=fP}function x(fN){return fN.inclusiveLeft?-1:0}function bM(fN){return fN.inclusiveRight?1:0}function dt(fQ,fO){var fS=fQ.lines.length-fO.lines.length;if(fS!=0){return fS}var fP=fQ.find(),fT=fO.find();var fN=b3(fP.from,fT.from)||x(fQ)-x(fO);if(fN){return -fN}var fR=b3(fP.to,fT.to)||bM(fQ)-bM(fO);if(fR){return fR}return fO.id-fQ.id}function aX(fO,fS){var fN=aY&&fO.markedSpans,fR;if(fN){for(var fQ,fP=0;fP<fN.length;++fP){fQ=fN[fP];if(fQ.marker.collapsed&&(fS?fQ.from:fQ.to)==null&&(!fR||dt(fR,fQ.marker)<0)){fR=fQ.marker}}}return fR}function eq(fN){return aX(fN,true)}function d6(fN){return aX(fN,false)}function B(fV,fP,fT,fU,fR){var fY=eO(fV,fP);var fN=aY&&fY.markedSpans;if(fN){for(var fQ=0;fQ<fN.length;++fQ){var fO=fN[fQ];if(!fO.marker.collapsed){continue}var fX=fO.marker.find(0);var fW=b3(fX.from,fT)||x(fO.marker)-x(fR);var fS=b3(fX.to,fU)||bM(fO.marker)-bM(fR);if(fW>=0&&fS<=0||fW<=0&&fS>=0){continue}if(fW<=0&&(b3(fX.to,fT)>0||(fO.marker.inclusiveRight&&fR.inclusiveLeft))||fW>=0&&(b3(fX.from,fU)<0||(fO.marker.inclusiveLeft&&fR.inclusiveRight))){return true}}}}function A(fO){var fN;while(fN=eq(fO)){fO=fN.find(-1,true).line}return fO}function i(fP){var fN,fO;while(fN=d6(fP)){fP=fN.find(1,true).line;(fO||(fO=[])).push(fP)}return fO}function aN(fQ,fO){var fN=eO(fQ,fO),fP=A(fN);if(fN==fP){return fO}return bD(fP)}function dF(fQ,fP){if(fP>fQ.lastLine()){return fP}var fO=eO(fQ,fP),fN;if(!e6(fQ,fO)){return fP}while(fN=d6(fO)){fO=fN.find(1,true).line}return bD(fO)+1}function e6(fR,fO){var fN=aY&&fO.markedSpans;if(fN){for(var fQ,fP=0;fP<fN.length;++fP){fQ=fN[fP];if(!fQ.marker.collapsed){continue}if(fQ.from==null){return true}if(fQ.marker.widgetNode){continue}if(fQ.from==0&&fQ.marker.inclusiveLeft&&U(fR,fO,fQ)){return true}}}}function U(fS,fO,fQ){if(fQ.to==null){var fN=fQ.marker.find(1,true);return U(fS,fN.line,eI(fN.line.markedSpans,fQ.marker))}if(fQ.marker.inclusiveRight&&fQ.to==fO.text.length){return true}for(var fR,fP=0;fP<fO.markedSpans.length;++fP){fR=fO.markedSpans[fP];if(fR.marker.collapsed&&!fR.marker.widgetNode&&fR.from==fQ.to&&(fR.to==null||fR.to!=fQ.from)&&(fR.marker.inclusiveLeft||fQ.marker.inclusiveRight)&&U(fS,fO,fR)){return true}}}var dg=J.LineWidget=function(fN,fQ,fO){if(fO){for(var fP in fO){if(fO.hasOwnProperty(fP)){this[fP]=fO[fP]}}}this.cm=fN;this.node=fQ};bp(dg);function dC(fN,fO,fP){if(bC(fO)<((fN.curOp&&fN.curOp.scrollTop)||fN.doc.scrollTop)){cw(fN,null,fP)}}dg.prototype.clear=function(){var fO=this.cm,fQ=this.line.widgets,fP=this.line,fS=bD(fP);if(fS==null||!fQ){return}for(var fR=0;fR<fQ.length;++fR){if(fQ[fR]==this){fQ.splice(fR--,1)}}if(!fQ.length){fP.widgets=null}var fN=cG(this);cx(fO,function(){dC(fO,fP,-fN);S(fO,fS,"widget");fA(fP,Math.max(0,fP.height-fN))})};dg.prototype.changed=function(){var fO=this.height,fN=this.cm,fP=this.line;this.height=null;var fQ=cG(this)-fO;if(!fQ){return}cx(fN,function(){fN.curOp.forceUpdate=true;dC(fN,fP,fQ);fA(fP,fP.height+fQ)})};function cG(fO){if(fO.height!=null){return fO.height}if(!fF(document.body,fO.node)){var fN="position: relative;";if(fO.coverGutter){fN+="margin-left: -"+fO.cm.getGutterElement().offsetWidth+"px;"}bH(fO.cm.display.measure,fw("div",[fO.node],null,fN))}return fO.height=fO.node.offsetHeight}function bx(fN,fR,fP,fO){var fQ=new dg(fN,fP,fO);if(fQ.noHScroll){fN.display.alignWidgets=true}ea(fN.doc,fR,"widget",function(fT){var fU=fT.widgets||(fT.widgets=[]);if(fQ.insertAt==null){fU.push(fQ)}else{fU.splice(Math.min(fU.length-1,Math.max(0,fQ.insertAt)),0,fQ)}fQ.line=fT;if(!e6(fN.doc,fT)){var fS=bC(fT)<fN.doc.scrollTop;fA(fT,fT.height+cG(fQ));if(fS){cw(fN,null,fQ.height)}fN.curOp.forceUpdate=true}return true});return fQ}var fC=J.Line=function(fP,fO,fN){this.text=fP;cL(this,fO);this.height=fN?fN(this):1};bp(fC);fC.prototype.lineNo=function(){return bD(this)};function dY(fO,fR,fP,fN){fO.text=fR;if(fO.stateAfter){fO.stateAfter=null}if(fO.styles){fO.styles=null}if(fO.order!=null){fO.order=null}fD(fO);cL(fO,fP);var fQ=fN?fN(fO):1;if(fQ!=fO.height){fA(fO,fQ)}}function br(fN){fN.parent=null;fD(fN)}function c1(fP,fO){if(fP){for(;;){var fN=fP.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!fN){break}fP=fP.slice(0,fN.index)+fP.slice(fN.index+fN[0].length);var fQ=fN[1]?"bgClass":"textClass";if(fO[fQ]==null){fO[fQ]=fN[2]}else{if(!(new RegExp("(?:^|s)"+fN[2]+"(?:$|s)")).test(fO[fQ])){fO[fQ]+=" "+fN[2]}}}}return fP}function e0(fP,fO){if(fP.blankLine){return fP.blankLine(fO)}if(!fP.innerMode){return}var fN=J.innerMode(fP,fO);if(fN.mode.blankLine){return fN.mode.blankLine(fN.state)}}function ee(fR,fQ,fP){for(var fN=0;fN<10;fN++){var fO=fR.token(fQ,fP);if(fQ.pos>fQ.start){return fO}}throw new Error("Mode "+fR.name+" failed to advance stream.")}function y(fX,fZ,fS,fO,fT,fQ,fR){var fP=fS.flattenSpans;if(fP==null){fP=fX.options.flattenSpans}var fV=0,fU=null;var fY=new ev(fZ,fX.options.tabSize),fN;if(fZ==""){c1(e0(fS,fO),fQ)}while(!fY.eol()){if(fY.pos>fX.options.maxHighlightLength){fP=false;if(fR){db(fX,fZ,fO,fY.pos)}fY.pos=fZ.length;fN=null}else{fN=c1(ee(fS,fY,fO),fQ)}if(fX.options.addModeClass){var f0=J.innerMode(fS,fO).mode.name;if(f0){fN="m-"+(fN?f0+" "+fN:f0)}}if(!fP||fU!=fN){if(fV<fY.start){fT(fY.start,fU)}fV=fY.start;fU=fN}fY.start=fY.pos}while(fV<fY.pos){var fW=Math.min(fY.pos,fV+50000);fT(fW,fU);fV=fW}}function e9(fU,fW,fN,fR){var fV=[fU.state.modeGen],fQ={};y(fU,fW.text,fU.doc.mode,fN,function(fX,fY){fV.push(fX,fY)},fQ,fR);for(var fO=0;fO<fU.state.overlays.length;++fO){var fS=fU.state.overlays[fO],fT=1,fP=0;y(fU,fW.text,fS.mode,true,function(fX,fZ){var f1=fT;while(fP<fX){var fY=fV[fT];if(fY>fX){fV.splice(fT,1,fX,fV[fT+1],fY)}fT+=2;fP=Math.min(fX,fY)}if(!fZ){return}if(fS.opaque){fV.splice(f1,fT-f1,fX,"cm-overlay "+fZ);fT=f1+2}else{for(;f1<fT;f1+=2){var f0=fV[f1+1];fV[f1+1]=(f0?f0+" ":"")+"cm-overlay "+fZ}}},fQ)}return{styles:fV,classes:fQ.bgClass||fQ.textClass?fQ:null}}function cP(fO,fP){if(!fP.styles||fP.styles[0]!=fO.state.modeGen){var fN=e9(fO,fP,fP.stateAfter=df(fO,bD(fP)));fP.styles=fN.styles;if(fN.classes){fP.styleClasses=fN.classes}else{if(fP.styleClasses){fP.styleClasses=null}}}return fP.styles}function db(fN,fS,fP,fO){var fR=fN.doc.mode;var fQ=new ev(fS,fN.options.tabSize);fQ.start=fQ.pos=fO||0;if(fS==""){e0(fR,fP)}while(!fQ.eol()&&fQ.pos<=fN.options.maxHighlightLength){ee(fR,fQ,fP);fQ.start=fQ.pos}}var dy={},bR={};function ey(fP,fO){if(!fP||/^\s*$/.test(fP)){return null}var fN=fO.addModeClass?bR:dy;return fN[fP]||(fN[fP]=fP.replace(/\S+/g,"cm-$&"))}function eu(fO,fS){var fT=fw("span",null,null,cI?"padding-right: .1px":null);var fQ={pre:fw("pre",[fT]),content:fT,col:0,pos:0,cm:fO};fS.measure={};for(var fR=0;fR<=(fS.rest?fS.rest.length:0);fR++){var fP=fR?fS.rest[fR-1]:fS.line,fN;fQ.pos=0;fQ.addToken=v;if((dm||cI)&&fO.getOption("lineWrapping")){fQ.addToken=ff(fQ.addToken)}if(bE(fO.display.measure)&&(fN=a(fP))){fQ.addToken=V(fQ.addToken,fN)}fQ.map=[];bg(fP,fQ,cP(fO,fP));if(fP.styleClasses){if(fP.styleClasses.bgClass){fQ.bgClass=fr(fP.styleClasses.bgClass,fQ.bgClass||"")}if(fP.styleClasses.textClass){fQ.textClass=fr(fP.styleClasses.textClass,fQ.textClass||"")}}if(fQ.map.length==0){fQ.map.push(0,0,fQ.content.appendChild(be(fO.display.measure)))}if(fR==0){fS.measure.map=fQ.map;fS.measure.cache={}}else{(fS.measure.maps||(fS.measure.maps=[])).push(fQ.map);(fS.measure.caches||(fS.measure.caches=[])).push({})}}aA(fO,"renderLine",fO,fS.line,fQ.pre);if(fQ.pre.className){fQ.textClass=fr(fQ.pre.className,fQ.textClass||"")}return fQ}function eM(fO){var fN=fw("span","\u2022","cm-invalidchar");fN.title="\\u"+fO.charCodeAt(0).toString(16);return fN}function v(fS,f2,fN,fQ,f3,f1){if(!f2){return}var fX=fS.cm.options.specialChars,fW=false;if(!fX.test(f2)){fS.col+=f2.length;var fV=document.createTextNode(f2);fS.map.push(fS.pos,fS.pos+f2.length,fV);if(dm&&m<9){fW=true}fS.pos+=f2.length}else{var fV=document.createDocumentFragment(),fZ=0;while(true){fX.lastIndex=fZ;var fO=fX.exec(f2);var fU=fO?fO.index-fZ:f2.length-fZ;if(fU){var fR=document.createTextNode(f2.slice(fZ,fZ+fU));if(dm&&m<9){fV.appendChild(fw("span",[fR]))}else{fV.appendChild(fR)}fS.map.push(fS.pos,fS.pos+fU,fR);fS.col+=fU;fS.pos+=fU}if(!fO){break}fZ+=fU+1;if(fO[0]=="\t"){var fT=fS.cm.options.tabSize,fY=fT-fS.col%fT;var fR=fV.appendChild(fw("span",cd(fY),"cm-tab"));fS.col+=fY}else{var fR=fS.cm.options.specialCharPlaceholder(fO[0]);if(dm&&m<9){fV.appendChild(fw("span",[fR]))}else{fV.appendChild(fR)}fS.col+=1}fS.map.push(fS.pos,fS.pos+1,fR);fS.pos++}}if(fN||fQ||f3||fW){var f0=fN||"";if(fQ){f0+=fQ}if(f3){f0+=f3}var fP=fw("span",[fV],f0);if(f1){fP.title=f1}return fS.content.appendChild(fP)}fS.content.appendChild(fV)}function ff(fN){function fO(fP){var fQ=" ";for(var fR=0;fR<fP.length-2;++fR){fQ+=fR%2?" ":"\u00a0"}fQ+=" ";return fQ}return function(fQ,fU,fR,fP,fT,fS){fN(fQ,fU.replace(/ {3,}/g,fO),fR,fP,fT,fS)}}function V(fO,fN){return function(fV,fX,fP,fT,fY,fW){fP=fP?fP+" cm-force-border":"cm-force-border";var fQ=fV.pos,fS=fQ+fX.length;for(;;){for(var fU=0;fU<fN.length;fU++){var fR=fN[fU];if(fR.to>fQ&&fR.from<=fQ){break}}if(fR.to>=fS){return fO(fV,fX,fP,fT,fY,fW)}fO(fV,fX.slice(0,fR.to-fQ),fP,fT,null,fW);fT=null;fX=fX.slice(fR.to-fQ);fQ=fR.to}}}function ab(fO,fQ,fN,fP){var fR=!fP&&fN.widgetNode;if(fR){fO.map.push(fO.pos,fO.pos+fQ,fR);fO.content.appendChild(fR)}fO.pos+=fQ}function bg(fW,f2,fV){var fS=fW.markedSpans,fU=fW.text,f0=0;if(!fS){for(var f5=1;f5<fV.length;f5+=2){f2.addToken(f2,fU.slice(f0,f0=fV[f5]),ey(fV[f5+1],f2.cm.options))}return}var f6=fU.length,fR=0,f5=1,fY="",f7;var f9=0,fN,f8,fZ,ga,fP;for(;;){if(f9==fR){fN=f8=fZ=ga="";fP=null;f9=Infinity;var fT=[];for(var f3=0;f3<fS.length;++f3){var f4=fS[f3],f1=f4.marker;if(f4.from<=fR&&(f4.to==null||f4.to>fR)){if(f4.to!=null&&f9>f4.to){f9=f4.to;f8=""}if(f1.className){fN+=" "+f1.className}if(f1.startStyle&&f4.from==fR){fZ+=" "+f1.startStyle}if(f1.endStyle&&f4.to==f9){f8+=" "+f1.endStyle}if(f1.title&&!ga){ga=f1.title}if(f1.collapsed&&(!fP||dt(fP.marker,f1)<0)){fP=f4}}else{if(f4.from>fR&&f9>f4.from){f9=f4.from}}if(f1.type=="bookmark"&&f4.from==fR&&f1.widgetNode){fT.push(f1)}}if(fP&&(fP.from||0)==fR){ab(f2,(fP.to==null?f6+1:fP.to)-fR,fP.marker,fP.from==null);if(fP.to==null){return}}if(!fP&&fT.length){for(var f3=0;f3<fT.length;++f3){ab(f2,0,fT[f3])}}}if(fR>=f6){break}var fX=Math.min(f6,f9);while(true){if(fY){var fO=fR+fY.length;if(!fP){var fQ=fO>fX?fY.slice(0,fX-fR):fY;f2.addToken(f2,fQ,f7?f7+fN:fN,fZ,fR+fQ.length==f9?f8:"",ga)}if(fO>=fX){fY=fY.slice(fX-fR);fR=fX;break}fR=fO;fZ=""}fY=fU.slice(f0,f0=fV[f5++]);f7=ey(fV[f5++],f2.cm.options)}}}function dv(fN,fO){return fO.from.ch==0&&fO.to.ch==0&&fh(fO.text)==""&&(!fN.cm||fN.cm.options.wholeLineUpdateBefore)}function e8(f0,fV,fN,fR){function f1(f3){return fN?fN[f3]:null}function fO(f3,f5,f4){dY(f3,f5,f4,fR);ad(f3,"change",f3,fV)}var fY=fV.from,fZ=fV.to,f2=fV.text;var fW=eO(f0,fY.line),fX=eO(f0,fZ.line);var fU=fh(f2),fQ=f1(f2.length-1),fT=fZ.line-fY.line;if(dv(f0,fV)){for(var fP=0,fS=[];fP<f2.length-1;++fP){fS.push(new fC(f2[fP],f1(fP),fR))}fO(fX,fX.text,fQ);if(fT){f0.remove(fY.line,fT)}if(fS.length){f0.insert(fY.line,fS)}}else{if(fW==fX){if(f2.length==1){fO(fW,fW.text.slice(0,fY.ch)+fU+fW.text.slice(fZ.ch),fQ)}else{for(var fS=[],fP=1;fP<f2.length-1;++fP){fS.push(new fC(f2[fP],f1(fP),fR))}fS.push(new fC(fU+fW.text.slice(fZ.ch),fQ,fR));fO(fW,fW.text.slice(0,fY.ch)+f2[0],f1(0));f0.insert(fY.line+1,fS)}}else{if(f2.length==1){fO(fW,fW.text.slice(0,fY.ch)+f2[0]+fX.text.slice(fZ.ch),f1(0));f0.remove(fY.line+1,fT)}else{fO(fW,fW.text.slice(0,fY.ch)+f2[0],f1(0));fO(fX,fU+fX.text.slice(fZ.ch),fQ);for(var fP=1,fS=[];fP<f2.length-1;++fP){fS.push(new fC(f2[fP],f1(fP),fR))}if(fT>1){f0.remove(fY.line+1,fT-1)}f0.insert(fY.line+1,fS)}}}ad(f0,"change",f0,fV)}function eB(fO){this.lines=fO;this.parent=null;for(var fP=0,fN=0;fP<fO.length;++fP){fO[fP].parent=this;fN+=fO[fP].height}this.height=fN}eB.prototype={chunkSize:function(){return this.lines.length},removeInner:function(fN,fR){for(var fP=fN,fQ=fN+fR;fP<fQ;++fP){var fO=this.lines[fP];this.height-=fO.height;br(fO);ad(fO,"delete")}this.lines.splice(fN,fR)},collapse:function(fN){fN.push.apply(fN,this.lines)},insertInner:function(fO,fP,fN){this.height+=fN;this.lines=this.lines.slice(0,fO).concat(fP).concat(this.lines.slice(fO));for(var fQ=0;fQ<fP.length;++fQ){fP[fQ].parent=this}},iterN:function(fN,fQ,fP){for(var fO=fN+fQ;fN<fO;++fN){if(fP(this.lines[fN])){return true}}}};function e7(fQ){this.children=fQ;var fP=0,fN=0;for(var fO=0;fO<fQ.length;++fO){var fR=fQ[fO];fP+=fR.chunkSize();fN+=fR.height;fR.parent=this}this.size=fP;this.height=fN;this.parent=null}e7.prototype={chunkSize:function(){return this.size},removeInner:function(fN,fU){this.size-=fU;for(var fP=0;fP<this.children.length;++fP){var fT=this.children[fP],fR=fT.chunkSize();if(fN<fR){var fQ=Math.min(fU,fR-fN),fS=fT.height;fT.removeInner(fN,fQ);this.height-=fS-fT.height;if(fR==fQ){this.children.splice(fP--,1);fT.parent=null}if((fU-=fQ)==0){break}fN=0}else{fN-=fR}}if(this.size-fU<25&&(this.children.length>1||!(this.children[0] instanceof eB))){var fO=[];this.collapse(fO);this.children=[new eB(fO)];this.children[0].parent=this}},collapse:function(fN){for(var fO=0;fO<this.children.length;++fO){this.children[fO].collapse(fN)}},insertInner:function(fO,fP,fN){this.size+=fP.length;this.height+=fN;for(var fS=0;fS<this.children.length;++fS){var fU=this.children[fS],fT=fU.chunkSize();if(fO<=fT){fU.insertInner(fO,fP,fN);if(fU.lines&&fU.lines.length>50){while(fU.lines.length>50){var fR=fU.lines.splice(fU.lines.length-25,25);var fQ=new eB(fR);fU.height-=fQ.height;this.children.splice(fS+1,0,fQ);fQ.parent=this}this.maybeSpill()}break}fO-=fT}},maybeSpill:function(){if(this.children.length<=10){return}var fQ=this;do{var fO=fQ.children.splice(fQ.children.length-5,5);var fP=new e7(fO);if(!fQ.parent){var fR=new e7(fQ.children);fR.parent=fQ;fQ.children=[fR,fP];fQ=fR}else{fQ.size-=fP.size;fQ.height-=fP.height;var fN=c0(fQ.parent.children,fQ);fQ.parent.children.splice(fN+1,0,fP)}fP.parent=fQ.parent}while(fQ.children.length>10);fQ.parent.maybeSpill()},iterN:function(fN,fT,fS){for(var fO=0;fO<this.children.length;++fO){var fR=this.children[fO],fQ=fR.chunkSize();if(fN<fQ){var fP=Math.min(fT,fQ-fN);if(fR.iterN(fN,fP,fS)){return true}if((fT-=fP)==0){break}fN=0}else{fN-=fQ}}}};var ce=0;var ap=J.Doc=function(fP,fO,fN){if(!(this instanceof ap)){return new ap(fP,fO,fN)}if(fN==null){fN=0}e7.call(this,[new eB([new fC("",null)])]);this.first=fN;this.scrollTop=this.scrollLeft=0;this.cantEdit=false;this.cleanGeneration=1;this.frontier=fN;var fQ=X(fN,0);this.sel=et(fQ);this.history=new fs(null);this.id=++ce;this.modeOption=fO;if(typeof fP=="string"){fP=aR(fP)}e8(this,{from:fQ,to:fQ,text:fP});bK(this,et(fQ),Z)};ap.prototype=b8(e7.prototype,{constructor:ap,iter:function(fP,fO,fN){if(fN){this.iterN(fP-this.first,fO-fP,fN)}else{this.iterN(this.first,this.first+this.size,fP)}},insert:function(fO,fP){var fN=0;for(var fQ=0;fQ<fP.length;++fQ){fN+=fP[fQ].height}this.insertInner(fO-this.first,fP,fN)},remove:function(fN,fO){this.removeInner(fN-this.first,fO)},getValue:function(fO){var fN=aT(this,this.first,this.first+this.size);if(fO===false){return fN}return fN.join(fO||"\n")},setValue:cq(function(fO){var fP=X(this.first,0),fN=this.first+this.size-1;a6(this,{from:fP,to:X(fN,eO(this,fN).text.length),text:aR(fO),origin:"setValue"},true);bK(this,et(fP))}),replaceRange:function(fO,fQ,fP,fN){fQ=fj(this,fQ);fP=fP?fj(this,fP):fQ;aS(this,fO,fQ,fP,fN)},getRange:function(fQ,fP,fO){var fN=fy(this,fj(this,fQ),fj(this,fP));if(fO===false){return fN}return fN.join(fO||"\n")},getLine:function(fO){var fN=this.getLineHandle(fO);return fN&&fN.text},getLineHandle:function(fN){if(bX(this,fN)){return eO(this,fN)}},getLineNumber:function(fN){return bD(fN)},getLineHandleVisualStart:function(fN){if(typeof fN=="number"){fN=eO(this,fN)}return A(fN)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(fN){return fj(this,fN)},getCursor:function(fP){var fN=this.sel.primary(),fO;if(fP==null||fP=="head"){fO=fN.head}else{if(fP=="anchor"){fO=fN.anchor}else{if(fP=="end"||fP=="to"||fP===false){fO=fN.to()}else{fO=fN.from()}}}return fO},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:cq(function(fN,fP,fO){H(this,fj(this,typeof fN=="number"?X(fN,fP||0):fN),null,fO)}),setSelection:cq(function(fO,fP,fN){H(this,fj(this,fO),fj(this,fP||fO),fN)}),extendSelection:cq(function(fP,fN,fO){ft(this,fj(this,fP),fN&&fj(this,fN),fO)}),extendSelections:cq(function(fO,fN){au(this,dB(this,fO,fN))}),extendSelectionsBy:cq(function(fO,fN){au(this,bI(this.sel.ranges,fO),fN)}),setSelections:cq(function(fN,fR,fP){if(!fN.length){return}for(var fQ=0,fO=[];fQ<fN.length;fQ++){fO[fQ]=new dA(fj(this,fN[fQ].anchor),fj(this,fN[fQ].head))}if(fR==null){fR=Math.min(fN.length-1,this.sel.primIndex)}bK(this,ck(fO,fR),fP)}),addSelection:cq(function(fP,fQ,fO){var fN=this.sel.ranges.slice(0);fN.push(new dA(fj(this,fP),fj(this,fQ||fP)));bK(this,ck(fN,fN.length-1),fO)}),getSelection:function(fR){var fO=this.sel.ranges,fN;for(var fP=0;fP<fO.length;fP++){var fQ=fy(this,fO[fP].from(),fO[fP].to());fN=fN?fN.concat(fQ):fQ}if(fR===false){return fN}else{return fN.join(fR||"\n")}},getSelections:function(fR){var fQ=[],fN=this.sel.ranges;for(var fO=0;fO<fN.length;fO++){var fP=fy(this,fN[fO].from(),fN[fO].to());if(fR!==false){fP=fP.join(fR||"\n")}fQ[fO]=fP}return fQ},replaceSelection:function(fP,fR,fN){var fQ=[];for(var fO=0;fO<this.sel.ranges.length;fO++){fQ[fO]=fP}this.replaceSelections(fQ,fR,fN||"+input")},replaceSelections:cq(function(fS,fU,fP){var fR=[],fT=this.sel;for(var fQ=0;fQ<fT.ranges.length;fQ++){var fO=fT.ranges[fQ];fR[fQ]={from:fO.from(),to:fO.to(),text:aR(fS[fQ]),origin:fP}}var fN=fU&&fU!="end"&&ae(this,fR,fU);for(var fQ=fR.length-1;fQ>=0;fQ--){a6(this,fR[fQ])}if(fN){eG(this,fN)}else{if(this.cm){fg(this.cm)}}}),undo:cq(function(){bW(this,"undo")}),redo:cq(function(){bW(this,"redo")}),undoSelection:cq(function(){bW(this,"undo",true)}),redoSelection:cq(function(){bW(this,"redo",true)}),setExtending:function(fN){this.extend=fN},getExtending:function(){return this.extend},historySize:function(){var fQ=this.history,fN=0,fP=0;for(var fO=0;fO<fQ.done.length;fO++){if(!fQ.done[fO].ranges){++fN}}for(var fO=0;fO<fQ.undone.length;fO++){if(!fQ.undone[fO].ranges){++fP}}return{undo:fN,redo:fP}},clearHistory:function(){this.history=new fs(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(true)},changeGeneration:function(fN){if(fN){this.history.lastOp=this.history.lastOrigin=null}return this.history.generation},isClean:function(fN){return this.history.generation==(fN||this.cleanGeneration)},getHistory:function(){return{done:bF(this.history.done),undone:bF(this.history.undone)}},setHistory:function(fO){var fN=this.history=new fs(this.history.maxGeneration);fN.done=bF(fO.done.slice(0),null,true);fN.undone=bF(fO.undone.slice(0),null,true)},addLineClass:cq(function(fP,fO,fN){return ea(this,fP,"class",function(fQ){var fR=fO=="text"?"textClass":fO=="background"?"bgClass":"wrapClass";if(!fQ[fR]){fQ[fR]=fN}else{if(new RegExp("(?:^|\\s)"+fN+"(?:$|\\s)").test(fQ[fR])){return false}else{fQ[fR]+=" "+fN}}return true})}),removeLineClass:cq(function(fP,fO,fN){return ea(this,fP,"class",function(fR){var fU=fO=="text"?"textClass":fO=="background"?"bgClass":"wrapClass";var fT=fR[fU];if(!fT){return false}else{if(fN==null){fR[fU]=null}else{var fS=fT.match(new RegExp("(?:^|\\s+)"+fN+"(?:$|\\s+)"));if(!fS){return false}var fQ=fS.index+fS[0].length;fR[fU]=fT.slice(0,fS.index)+(!fS.index||fQ==fT.length?"":" ")+fT.slice(fQ)||null}}return true})}),markText:function(fP,fO,fN){return ei(this,fj(this,fP),fj(this,fO),fN,"range")},setBookmark:function(fP,fN){var fO={replacedWith:fN&&(fN.nodeType==null?fN.widget:fN),insertLeft:fN&&fN.insertLeft,clearWhenEmpty:false,shared:fN&&fN.shared};fP=fj(this,fP);return ei(this,fP,fP,fO,"bookmark")},findMarksAt:function(fR){fR=fj(this,fR);var fQ=[],fO=eO(this,fR.line).markedSpans;if(fO){for(var fN=0;fN<fO.length;++fN){var fP=fO[fN];if((fP.from==null||fP.from<=fR.ch)&&(fP.to==null||fP.to>=fR.ch)){fQ.push(fP.marker.parent||fP.marker)}}}return fQ},findMarks:function(fR,fQ,fN){fR=fj(this,fR);fQ=fj(this,fQ);var fO=[],fP=fR.line;this.iter(fR.line,fQ.line+1,function(fS){var fU=fS.markedSpans;if(fU){for(var fT=0;fT<fU.length;fT++){var fV=fU[fT];if(!(fP==fR.line&&fR.ch>fV.to||fV.from==null&&fP!=fR.line||fP==fQ.line&&fV.from>fQ.ch)&&(!fN||fN(fV.marker))){fO.push(fV.marker.parent||fV.marker)}}}++fP});return fO},getAllMarks:function(){var fN=[];this.iter(function(fP){var fO=fP.markedSpans;if(fO){for(var fQ=0;fQ<fO.length;++fQ){if(fO[fQ].from!=null){fN.push(fO[fQ].marker)}}}});return fN},posFromIndex:function(fO){var fN,fP=this.first;this.iter(function(fQ){var fR=fQ.text.length+1;if(fR>fO){fN=fO;return true}fO-=fR;++fP});return fj(this,X(fP,fN))},indexFromPos:function(fO){fO=fj(this,fO);var fN=fO.ch;if(fO.line<this.first||fO.ch<0){return 0}this.iter(this.first,fO.line,function(fP){fN+=fP.text.length+1});return fN},copy:function(fN){var fO=new ap(aT(this,this.first,this.first+this.size),this.modeOption,this.first);fO.scrollTop=this.scrollTop;fO.scrollLeft=this.scrollLeft;fO.sel=this.sel;fO.extend=false;if(fN){fO.history.undoDepth=this.history.undoDepth;fO.setHistory(this.getHistory())}return fO},linkedDoc:function(fN){if(!fN){fN={}}var fQ=this.first,fP=this.first+this.size;if(fN.from!=null&&fN.from>fQ){fQ=fN.from}if(fN.to!=null&&fN.to<fP){fP=fN.to}var fO=new ap(aT(this,fQ,fP),fN.mode||this.modeOption,fQ);if(fN.sharedHist){fO.history=this.history}(this.linked||(this.linked=[])).push({doc:fO,sharedHist:fN.sharedHist});fO.linked=[{doc:this,isParent:true,sharedHist:fN.sharedHist}];dj(fO,er(this));return fO},unlinkDoc:function(fO){if(fO instanceof J){fO=fO.doc}if(this.linked){for(var fP=0;fP<this.linked.length;++fP){var fQ=this.linked[fP];if(fQ.doc!=fO){continue}this.linked.splice(fP,1);fO.unlinkDoc(this);dZ(er(this));break}}if(fO.history==this.history){var fN=[fO.id];dJ(fO,function(fR){fN.push(fR.id)},true);fO.history=new fs(null);fO.history.done=bF(this.history.done,fN);fO.history.undone=bF(this.history.undone,fN)}},iterLinkedDocs:function(fN){dJ(this,fN)},getMode:function(){return this.mode},getEditor:function(){return this.cm}});ap.prototype.eachLine=ap.prototype.iter;var e="iter insert remove copy getEditor".split(" ");for(var bA in ap.prototype){if(ap.prototype.hasOwnProperty(bA)&&c0(e,bA)<0){J.prototype[bA]=(function(fN){return function(){return fN.apply(this.doc,arguments)}})(ap.prototype[bA])}}bp(ap);function dJ(fQ,fP,fO){function fN(fW,fU,fS){if(fW.linked){for(var fT=0;fT<fW.linked.length;++fT){var fR=fW.linked[fT];if(fR.doc==fU){continue}var fV=fS&&fR.sharedHist;if(fO&&!fV){continue}fP(fR.doc,fV);fN(fR.doc,fW,fV)}}}fN(fQ,null,true)}function dM(fN,fO){if(fO.cm){throw new Error("This document is already in use.")}fN.doc=fO;fO.cm=fN;Y(fN);bi(fN);if(!fN.options.lineWrapping){h(fN)}fN.options.mode=fO.modeOption;ag(fN)}function eO(fQ,fS){fS-=fQ.first;if(fS<0){fS=0}if(fS>=fQ.size){fS=fQ.size-1}for(var fN=fQ;!fN.lines;){for(var fO=0;;++fO){var fR=fN.children[fO],fP=fR.chunkSize();if(fS<fP){fN=fR;break}fS-=fP}}return fN.lines[fS]}function fy(fP,fR,fN){var fO=[],fQ=fR.line;fP.iter(fR.line,fN.line+1,function(fS){var fT=fS.text;if(fQ==fN.line){fT=fT.slice(0,fN.ch)}if(fQ==fR.line){fT=fT.slice(fR.ch)}fO.push(fT);++fQ});return fO}function aT(fO,fQ,fP){var fN=[];fO.iter(fQ,fP,function(fR){fN.push(fR.text)});return fN}function fA(fO,fN){var fP=fN-fO.height;if(fP){for(var fQ=fO;fQ;fQ=fQ.parent){fQ.height+=fP}}}function bD(fN){if(fN.parent==null){return null}var fR=fN.parent,fQ=c0(fR.lines,fN);for(var fO=fR.parent;fO;fR=fO,fO=fO.parent){for(var fP=0;;++fP){if(fO.children[fP]==fR){break}fQ+=fO.children[fP].chunkSize()}}return fQ+fR.first}function bw(fP,fS){var fU=fP.first;outer:do{for(var fQ=0;fQ<fP.children.length;++fQ){var fT=fP.children[fQ],fR=fT.height;if(fS<fR){fP=fT;continue outer}fS-=fR;fU+=fT.chunkSize()}return fU}while(!fP.lines);for(var fQ=0;fQ<fP.lines.length;++fQ){var fO=fP.lines[fQ],fN=fO.height;if(fS<fN){break}fS-=fN}return fU+fQ}function bC(fP){fP=A(fP);var fR=0,fO=fP.parent;for(var fQ=0;fQ<fO.lines.length;++fQ){var fN=fO.lines[fQ];if(fN==fP){break}else{fR+=fN.height}}for(var fS=fO.parent;fS;fO=fS,fS=fO.parent){for(var fQ=0;fQ<fS.children.length;++fQ){var fT=fS.children[fQ];if(fT==fO){break}else{fR+=fT.height}}}return fR}function a(fO){var fN=fO.order;if(fN==null){fN=fO.order=a7(fO.text)}return fN}function fs(fN){this.done=[];this.undone=[];this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=0;this.lastOp=null;this.lastOrigin=this.lastSelOrigin=null;this.generation=this.maxGeneration=fN||1}function c9(fN,fP){var fO={from:b7(fP.from),to:cF(fP),text:fy(fN,fP.from,fP.to)};bO(fN,fO,fP.from.line,fP.to.line+1);dJ(fN,function(fQ){bO(fQ,fO,fP.from.line,fP.to.line+1)},true);return fO}function fb(fO){while(fO.length){var fN=fh(fO);if(fN.ranges){fO.pop()}else{break}}}function ep(fO,fN){if(fN){fb(fO.done);return fh(fO.done)}else{if(fO.done.length&&!fh(fO.done).ranges){return fh(fO.done)}else{if(fO.done.length>1&&!fO.done[fO.done.length-2].ranges){fO.done.pop();return fh(fO.done)}}}}function fm(fT,fR,fN,fQ){var fP=fT.history;fP.undone.length=0;var fO=+new Date,fU;if((fP.lastOp==fQ||fP.lastOrigin==fR.origin&&fR.origin&&((fR.origin.charAt(0)=="+"&&fT.cm&&fP.lastModTime>fO-fT.cm.options.historyEventDelay)||fR.origin.charAt(0)=="*"))&&(fU=ep(fP,fP.lastOp==fQ))){var fV=fh(fU.changes);if(b3(fR.from,fR.to)==0&&b3(fR.from,fV.to)==0){fV.to=cF(fR)}else{fU.changes.push(c9(fT,fR))}}else{var fS=fh(fP.done);if(!fS||!fS.ranges){cy(fT.sel,fP.done)}fU={changes:[c9(fT,fR)],generation:fP.generation};fP.done.push(fU);while(fP.done.length>fP.undoDepth){fP.done.shift();if(!fP.done[0].ranges){fP.done.shift()}}}fP.done.push(fN);fP.generation=++fP.maxGeneration;fP.lastModTime=fP.lastSelTime=fO;fP.lastOp=fQ;fP.lastOrigin=fP.lastSelOrigin=fR.origin;if(!fV){aA(fT,"historyAdded")}}function bq(fR,fN,fP,fQ){var fO=fN.charAt(0);return fO=="*"||fO=="+"&&fP.ranges.length==fQ.ranges.length&&fP.somethingSelected()==fQ.somethingSelected()&&new Date-fR.history.lastSelTime<=(fR.cm?fR.cm.options.historyEventDelay:500)}function fG(fS,fQ,fN,fP){var fR=fS.history,fO=fP&&fP.origin;if(fN==fR.lastOp||(fO&&fR.lastSelOrigin==fO&&(fR.lastModTime==fR.lastSelTime&&fR.lastOrigin==fO||bq(fS,fO,fh(fR.done),fQ)))){fR.done[fR.done.length-1]=fQ}else{cy(fQ,fR.done)}fR.lastSelTime=+new Date;fR.lastSelOrigin=fO;fR.lastOp=fN;if(fP&&fP.clearRedo!==false){fb(fR.undone)}}function cy(fO,fN){var fP=fh(fN);if(!(fP&&fP.ranges&&fP.equals(fO))){fN.push(fO)}}function bO(fO,fS,fR,fQ){var fN=fS["spans_"+fO.id],fP=0;fO.iter(Math.max(fO.first,fR),Math.min(fO.first+fO.size,fQ),function(fT){if(fT.markedSpans){(fN||(fN=fS["spans_"+fO.id]={}))[fP]=fT.markedSpans}++fP})}function bc(fP){if(!fP){return null}for(var fO=0,fN;fO<fP.length;++fO){if(fP[fO].marker.explicitlyCleared){if(!fN){fN=fP.slice(0,fO)}}else{if(fN){fN.push(fP[fO])}}}return !fN?fP:fN.length?fN:null}function bT(fQ,fR){var fP=fR["spans_"+fQ.id];if(!fP){return null}for(var fO=0,fN=[];fO<fR.text.length;++fO){fN.push(bc(fP[fO]))}return fN}function bF(fY,fQ,fX){for(var fT=0,fO=[];fT<fY.length;++fT){var fP=fY[fT];if(fP.ranges){fO.push(fX?fx.prototype.deepCopy.call(fP):fP);continue}var fV=fP.changes,fW=[];fO.push({changes:fW});for(var fS=0;fS<fV.length;++fS){var fU=fV[fS],fR;fW.push({from:fU.from,to:fU.to,text:fU.text});if(fQ){for(var fN in fU){if(fR=fN.match(/^spans_(\d+)$/)){if(c0(fQ,Number(fR[1]))>-1){fh(fW)[fN]=fU[fN];delete fU[fN]}}}}}}return fO}function K(fQ,fP,fO,fN){if(fO<fQ.line){fQ.line+=fN}else{if(fP<fQ.line){fQ.line=fP;fQ.ch=0}}}function eQ(fQ,fS,fT,fU){for(var fP=0;fP<fQ.length;++fP){var fN=fQ[fP],fR=true;if(fN.ranges){if(!fN.copied){fN=fQ[fP]=fN.deepCopy();fN.copied=true}for(var fO=0;fO<fN.ranges.length;fO++){K(fN.ranges[fO].anchor,fS,fT,fU);K(fN.ranges[fO].head,fS,fT,fU)}continue}for(var fO=0;fO<fN.changes.length;++fO){var fV=fN.changes[fO];if(fT<fV.from.line){fV.from=X(fV.from.line+fU,fV.from.ch);fV.to=X(fV.to.line+fU,fV.to.ch)}else{if(fS<=fV.to.line){fR=false;break}}}if(!fR){fQ.splice(0,fP+1);fP=0}}}function di(fO,fR){var fQ=fR.from.line,fP=fR.to.line,fN=fR.text.length-(fP-fQ)-1;eQ(fO.done,fQ,fP,fN);eQ(fO.undone,fQ,fP,fN)}var cs=J.e_preventDefault=function(fN){if(fN.preventDefault){fN.preventDefault()}else{fN.returnValue=false}};var c5=J.e_stopPropagation=function(fN){if(fN.stopPropagation){fN.stopPropagation()}else{fN.cancelBubble=true}};function bB(fN){return fN.defaultPrevented!=null?fN.defaultPrevented:fN.returnValue==false}var d2=J.e_stop=function(fN){cs(fN);c5(fN)};function M(fN){return fN.target||fN.srcElement}function fn(fO){var fN=fO.which;if(fN==null){if(fO.button&1){fN=1}else{if(fO.button&2){fN=3}else{if(fO.button&4){fN=2}}}}if(bV&&fO.ctrlKey&&fN==1){fN=3}return fN}var bN=J.on=function(fQ,fO,fP){if(fQ.addEventListener){fQ.addEventListener(fO,fP,false)}else{if(fQ.attachEvent){fQ.attachEvent("on"+fO,fP)}else{var fR=fQ._handlers||(fQ._handlers={});var fN=fR[fO]||(fR[fO]=[]);fN.push(fP)}}};var dO=J.off=function(fR,fP,fQ){if(fR.removeEventListener){fR.removeEventListener(fP,fQ,false)}else{if(fR.detachEvent){fR.detachEvent("on"+fP,fQ)}else{var fN=fR._handlers&&fR._handlers[fP];if(!fN){return}for(var fO=0;fO<fN.length;++fO){if(fN[fO]==fQ){fN.splice(fO,1);break}}}}};var aA=J.signal=function(fR,fQ){var fN=fR._handlers&&fR._handlers[fQ];if(!fN){return}var fO=Array.prototype.slice.call(arguments,2);for(var fP=0;fP<fN.length;++fP){fN[fP].apply(null,fO)}};var bf,cf=0;function ad(fS,fR){var fN=fS._handlers&&fS._handlers[fR];if(!fN){return}var fP=Array.prototype.slice.call(arguments,2);if(!bf){++cf;bf=[];setTimeout(eb,0)}function fO(fT){return function(){fT.apply(null,fP)}}for(var fQ=0;fQ<fN.length;++fQ){bf.push(fO(fN[fQ]))}}function eb(){--cf;var fN=bf;bf=null;for(var fO=0;fO<fN.length;++fO){fN[fO]()}}function aJ(fN,fP,fO){aA(fN,fO||fP.type,fN,fP);return bB(fP)||fP.codemirrorIgnore}function W(fO){var fN=fO._handlers&&fO._handlers.cursorActivity;if(!fN){return}var fQ=fO.curOp.cursorActivityHandlers||(fO.curOp.cursorActivityHandlers=[]);for(var fP=0;fP<fN.length;++fP){if(c0(fQ,fN[fP])==-1){fQ.push(fN[fP])}}}function eR(fP,fO){var fN=fP._handlers&&fP._handlers[fO];return fN&&fN.length>0}function bp(fN){fN.prototype.on=function(fO,fP){bN(this,fO,fP)};fN.prototype.off=function(fO,fP){dO(this,fO,fP)}}var bb=30;var bY=J.Pass={toString:function(){return"CodeMirror.Pass"}};var Z={scroll:false},N={origin:"*mouse"},cE={origin:"+move"};function fM(){this.id=null}fM.prototype.set=function(fN,fO){clearTimeout(this.id);this.id=setTimeout(fO,fN)};var bJ=J.countColumn=function(fQ,fO,fS,fT,fP){if(fO==null){fO=fQ.search(/[^\s\u00a0]/);if(fO==-1){fO=fQ.length}}for(var fR=fT||0,fU=fP||0;;){var fN=fQ.indexOf("\t",fR);if(fN<0||fN>=fO){return fU+(fO-fR)}fU+=fN-fR;fU+=fS-(fU%fS);fR=fN+1}};function d1(fR,fQ,fS){for(var fT=0,fP=0;;){var fO=fR.indexOf("\t",fT);if(fO==-1){fO=fR.length}var fN=fO-fT;if(fO==fR.length||fP+fN>=fQ){return fT+Math.min(fN,fQ-fP)}fP+=fO-fT;fP+=fS-(fP%fS);fT=fO+1;if(fP>=fQ){return fT}}}var aQ=[""];function cd(fN){while(aQ.length<=fN){aQ.push(fh(aQ)+" ")}return aQ[fN]}function fh(fN){return fN[fN.length-1]}var dp=function(fN){fN.select()};if(eC){dp=function(fN){fN.selectionStart=0;fN.selectionEnd=fN.value.length}}else{if(dm){dp=function(fO){try{fO.select()}catch(fN){}}}}function c0(fP,fN){for(var fO=0;fO<fP.length;++fO){if(fP[fO]==fN){return fO}}return -1}if([].indexOf){c0=function(fO,fN){return fO.indexOf(fN)}}function bI(fQ,fP){var fN=[];for(var fO=0;fO<fQ.length;fO++){fN[fO]=fP(fQ[fO],fO)}return fN}if([].map){bI=function(fO,fN){return fO.map(fN)}}function b8(fQ,fN){var fP;if(Object.create){fP=Object.create(fQ)}else{var fO=function(){};fO.prototype=fQ;fP=new fO()}if(fN){aF(fN,fP)}return fP}function aF(fP,fO,fN){if(!fO){fO={}}for(var fQ in fP){if(fP.hasOwnProperty(fQ)&&(fN!==false||!fO.hasOwnProperty(fQ))){fO[fQ]=fP[fQ]}}return fO}function cj(fO){var fN=Array.prototype.slice.call(arguments,1);return function(){return fO.apply(null,fN)}}var a3=/[\u00df\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;var fd=J.isWordChar=function(fN){return/\w/.test(fN)||fN>"\x80"&&(fN.toUpperCase()!=fN.toLowerCase()||a3.test(fN))};function cn(fN,fO){if(!fO){return fd(fN)}if(fO.source.indexOf("\\w")>-1&&fd(fN)){return true}return fO.test(fN)}function ew(fN){for(var fO in fN){if(fN.hasOwnProperty(fO)&&fN[fO]){return false}}return true}var em=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function eZ(fN){return fN.charCodeAt(0)>=768&&em.test(fN)}function fw(fN,fR,fQ,fP){var fS=document.createElement(fN);if(fQ){fS.className=fQ}if(fP){fS.style.cssText=fP}if(typeof fR=="string"){fS.appendChild(document.createTextNode(fR))}else{if(fR){for(var fO=0;fO<fR.length;++fO){fS.appendChild(fR[fO])}}}return fS}var b9;if(document.createRange){b9=function(fP,fQ,fN){var fO=document.createRange();fO.setEnd(fP,fN);fO.setStart(fP,fQ);return fO}}else{b9=function(fP,fQ,fN){var fO=document.body.createTextRange();fO.moveToElementText(fP.parentNode);fO.collapse(true);fO.moveEnd("character",fN);fO.moveStart("character",fQ);return fO}}function dD(fO){for(var fN=fO.childNodes.length;fN>0;--fN){fO.removeChild(fO.firstChild)}return fO}function bH(fN,fO){return dD(fN).appendChild(fO)}function fF(fN,fO){if(fN.contains){return fN.contains(fO)}while(fO=fO.parentNode){if(fO==fN){return true}}}function dr(){return document.activeElement}if(dm&&m<11){dr=function(){try{return document.activeElement}catch(fN){return document.body}}}function T(fN){return new RegExp("\\b"+fN+"\\b\\s*")}function g(fO,fN){var fP=T(fN);if(fP.test(fO.className)){fO.className=fO.className.replace(fP,"")}}function fa(fO,fN){if(!T(fN).test(fO.className)){fO.className+=" "+fN}}function fr(fP,fN){var fO=fP.split(" ");for(var fQ=0;fQ<fO.length;fQ++){if(fO[fQ]&&!T(fO[fQ]).test(fN)){fN+=" "+fO[fQ]}}return fN}function ax(fQ){if(!document.body.getElementsByClassName){return}var fP=document.body.getElementsByClassName("CodeMirror");for(var fO=0;fO<fP.length;fO++){var fN=fP[fO].CodeMirror;if(fN){fQ(fN)}}}var cp=false;function a9(){if(cp){return}fe();cp=true}function fe(){var fN;bN(window,"resize",function(){if(fN==null){fN=setTimeout(function(){fN=null;d7=null;ax(aL)},100)}});bN(window,"blur",function(){ax(aM)})}var eo=function(){if(dm&&m<9){return false}var fN=fw("div");return"draggable" in fN||"dragDrop" in fN}();var d7;function l(fN){if(d7!=null){return d7}var fO=fw("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");bH(fN,fO);if(fO.offsetWidth){d7=fO.offsetHeight-fO.clientHeight}return d7||0}var fl;function be(fN){if(fl==null){var fO=fw("span","\u200b");bH(fN,fw("span",[fO,document.createTextNode("x")]));if(fN.firstChild.offsetHeight!=0){fl=fO.offsetWidth<=1&&fO.offsetHeight>2&&!(dm&&m<8)}}if(fl){return fw("span","\u200b")}else{return fw("span","\u00a0",null,"display: inline-block; width: 1px; margin-right: -1px")}}var fk;function bE(fQ){if(fk!=null){return fk}var fN=bH(fQ,document.createTextNode("A\u062eA"));var fP=b9(fN,0,1).getBoundingClientRect();if(fP.left==fP.right){return false}var fO=b9(fN,1,2).getBoundingClientRect();return fk=(fO.right-fP.right<3)}var aR=J.splitLines="\n\nb".split(/\n/).length!=3?function(fS){var fT=0,fN=[],fR=fS.length;while(fT<=fR){var fQ=fS.indexOf("\n",fT);if(fQ==-1){fQ=fS.length}var fP=fS.slice(fT,fS.charAt(fQ-1)=="\r"?fQ-1:fQ);var fO=fP.indexOf("\r");if(fO!=-1){fN.push(fP.slice(0,fO));fT+=fO+1}else{fN.push(fP);fT=fQ+1}}return fN}:function(fN){return fN.split(/\r\n?|\n/)};var bj=window.getSelection?function(fO){try{return fO.selectionStart!=fO.selectionEnd}catch(fN){return false}}:function(fP){try{var fN=fP.ownerDocument.selection.createRange()}catch(fO){}if(!fN||fN.parentElement()!=fP){return false}return fN.compareEndPoints("StartToEnd",fN)!=0};var cS=(function(){var fN=fw("div");if("oncopy" in fN){return true}fN.setAttribute("oncopy","return;");return typeof fN.oncopy=="function"})();var eP={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};J.keyNames=eP;(function(){for(var fN=0;fN<10;fN++){eP[fN+48]=eP[fN+96]=String(fN)}for(var fN=65;fN<=90;fN++){eP[fN]=String.fromCharCode(fN)}for(var fN=1;fN<=12;fN++){eP[fN+111]=eP[fN+63235]="F"+fN}})();function dG(fN,fT,fS,fR){if(!fN){return fR(fT,fS,"ltr")}var fQ=false;for(var fP=0;fP<fN.length;++fP){var fO=fN[fP];if(fO.from<fS&&fO.to>fT||fT==fS&&fO.to==fT){fR(Math.max(fO.from,fT),Math.min(fO.to,fS),fO.level==1?"rtl":"ltr");fQ=true}}if(!fQ){fR(fT,fS,"ltr")}}function dc(fN){return fN.level%2?fN.to:fN.from}function fI(fN){return fN.level%2?fN.from:fN.to}function cr(fO){var fN=a(fO);return fN?dc(fN[0]):0}function cD(fO){var fN=a(fO);if(!fN){return fO.text.length}return fI(fh(fN))}function bk(fO,fR){var fP=eO(fO.doc,fR);var fS=A(fP);if(fS!=fP){fR=bD(fS)}var fN=a(fS);var fQ=!fN?0:fN[0].level%2?cD(fS):cr(fS);return X(fR,fQ)}function ds(fP,fS){var fO,fQ=eO(fP.doc,fS);while(fO=d6(fQ)){fQ=fO.find(1,true).line;fS=null}var fN=a(fQ);var fR=!fN?fQ.text.length:fN[0].level%2?cr(fQ):cD(fQ);return X(fS==null?bD(fQ):fS,fR)}function al(fO,fP,fN){var fQ=fO[0].level;if(fP==fQ){return true}if(fN==fQ){return false}return fP<fN}var eD;function aC(fN,fR){eD=null;for(var fO=0,fP;fO<fN.length;++fO){var fQ=fN[fO];if(fQ.from<fR&&fQ.to>fR){return fO}if((fQ.from==fR||fQ.to==fR)){if(fP==null){fP=fO}else{if(al(fN,fQ.level,fN[fP].level)){if(fQ.from!=fQ.to){eD=fP}return fO}else{if(fQ.from!=fQ.to){eD=fO}return fP}}}}return fP}function eN(fN,fQ,fO,fP){if(!fP){return fQ+fO}do{fQ+=fO}while(fQ>0&&eZ(fN.text.charAt(fQ)));return fQ}function w(fN,fU,fP,fQ){var fR=a(fN);if(!fR){return ah(fN,fU,fP,fQ)}var fT=aC(fR,fU),fO=fR[fT];var fS=eN(fN,fU,fO.level%2?-fP:fP,fQ);for(;;){if(fS>fO.from&&fS<fO.to){return fS}if(fS==fO.from||fS==fO.to){if(aC(fR,fS)==fT){return fS}fO=fR[fT+=fP];return(fP>0)==fO.level%2?fO.to:fO.from}else{fO=fR[fT+=fP];if(!fO){return null}if((fP>0)==fO.level%2){fS=eN(fN,fO.to,-1,fQ)}else{fS=eN(fN,fO.from,1,fQ)}}}}function ah(fN,fR,fO,fP){var fQ=fR+fO;if(fP){while(fQ>0&&eZ(fN.text.charAt(fQ))){fQ+=fO}}return fQ<0||fQ>fN.text.length?null:fQ}var a7=(function(){var fT="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN";var fR="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm";function fQ(fX){if(fX<=247){return fT.charAt(fX)}else{if(1424<=fX&&fX<=1524){return"R"}else{if(1536<=fX&&fX<=1773){return fR.charAt(fX-1536)}else{if(1774<=fX&&fX<=2220){return"r"}else{if(8192<=fX&&fX<=8203){return"w"}else{if(fX==8204){return"b"}else{return"L"}}}}}}}var fN=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;var fW=/[stwN]/,fP=/[LRr]/,fO=/[Lb1n]/,fS=/[1n]/;var fV="L";function fU(fZ,fY,fX){this.level=fZ;this.from=fY;this.to=fX}return function(f7){if(!fN.test(f7)){return false}var gd=f7.length,f3=[];for(var gc=0,fZ;gc<gd;++gc){f3.push(fZ=fQ(f7.charCodeAt(gc)))}for(var gc=0,f6=fV;gc<gd;++gc){var fZ=f3[gc];if(fZ=="m"){f3[gc]=f6}else{f6=fZ}}for(var gc=0,fX=fV;gc<gd;++gc){var fZ=f3[gc];if(fZ=="1"&&fX=="r"){f3[gc]="n"}else{if(fP.test(fZ)){fX=fZ;if(fZ=="r"){f3[gc]="R"}}}}for(var gc=1,f6=f3[0];gc<gd-1;++gc){var fZ=f3[gc];if(fZ=="+"&&f6=="1"&&f3[gc+1]=="1"){f3[gc]="1"}else{if(fZ==","&&f6==f3[gc+1]&&(f6=="1"||f6=="n")){f3[gc]=f6}}f6=fZ}for(var gc=0;gc<gd;++gc){var fZ=f3[gc];if(fZ==","){f3[gc]="N"}else{if(fZ=="%"){for(var f0=gc+1;f0<gd&&f3[f0]=="%";++f0){}var ge=(gc&&f3[gc-1]=="!")||(f0<gd&&f3[f0]=="1")?"1":"N";for(var ga=gc;ga<f0;++ga){f3[ga]=ge}gc=f0-1}}}for(var gc=0,fX=fV;gc<gd;++gc){var fZ=f3[gc];if(fX=="L"&&fZ=="1"){f3[gc]="L"}else{if(fP.test(fZ)){fX=fZ}}}for(var gc=0;gc<gd;++gc){if(fW.test(f3[gc])){for(var f0=gc+1;f0<gd&&fW.test(f3[f0]);++f0){}var f4=(gc?f3[gc-1]:fV)=="L";var fY=(f0<gd?f3[f0]:fV)=="L";var ge=f4||fY?"L":"R";for(var ga=gc;ga<f0;++ga){f3[ga]=ge}gc=f0-1}}var gb=[],f8;for(var gc=0;gc<gd;){if(fO.test(f3[gc])){var f1=gc;for(++gc;gc<gd&&fO.test(f3[gc]);++gc){}gb.push(new fU(0,f1,gc))}else{var f2=gc,f5=gb.length;for(++gc;gc<gd&&f3[gc]!="L";++gc){}for(var ga=f2;ga<gc;){if(fS.test(f3[ga])){if(f2<ga){gb.splice(f5,0,new fU(1,f2,ga))}var f9=ga;for(++ga;ga<gc&&fS.test(f3[ga]);++ga){}gb.splice(f5,0,new fU(2,f9,ga));f2=ga}else{++ga}}if(f2<gc){gb.splice(f5,0,new fU(1,f2,gc))}}}if(gb[0].level==1&&(f8=f7.match(/^\s+/))){gb[0].from=f8[0].length;gb.unshift(new fU(0,0,f8[0].length))}if(fh(gb).level==1&&(f8=f7.match(/\s+$/))){fh(gb).to-=f8[0].length;gb.push(new fU(0,gd-f8[0].length,gd))}if(gb[0].level!=fh(gb).level){gb.push(new fU(gb[0].level,gd,gd))}return gb}})();J.version="4.3.0";return J});(function(a){a(CodeMirror)})(function(m){m.defineMode("css",function(N,B){if(!B.propertyKeywords){B=m.resolveMode("text/css")}var H=N.indentUnit,t=B.tokenHooks,M=B.mediaTypes||{},D=B.mediaFeatures||{},A=B.propertyKeywords||{},u=B.nonStandardPropertyKeywords||{},G=B.colorKeywords||{},J=B.valueKeywords||{},w=B.fontProperties||{},E=B.allowNested;var v,F;function O(R,S){v=S;return R}function Q(U,T){var S=U.next();if(t[S]){var R=t[S](U,T);if(R!==false){return R}}if(S=="@"){U.eatWhile(/[\w\\\-]/);return O("def",U.current())}else{if(S=="="||(S=="~"||S=="|")&&U.eat("=")){return O(null,"compare")}else{if(S=='"'||S=="'"){T.tokenize=C(S);return T.tokenize(U,T)}else{if(S=="#"){U.eatWhile(/[\w\\\-]/);return O("atom","hash")}else{if(S=="!"){U.match(/^\s*\w*/);return O("keyword","important")}else{if(/\d/.test(S)||S=="."&&U.eat(/\d/)){U.eatWhile(/[\w.%]/);return O("number","unit")}else{if(S==="-"){if(/[\d.]/.test(U.peek())){U.eatWhile(/[\w.%]/);return O("number","unit")}else{if(U.match(/^\w+-/)){return O("meta","meta")}}}else{if(/[,+>*\/]/.test(S)){return O(null,"select-op")}else{if(S=="."&&U.match(/^-?[_a-z][_a-z0-9-]*/i)){return O("qualifier","qualifier")}else{if(/[:;{}\[\]\(\)]/.test(S)){return O(null,S)}else{if(S=="u"&&U.match("rl(")){U.backUp(1);T.tokenize=P;return O("property","word")}else{if(/[\w\\\-]/.test(S)){U.eatWhile(/[\w\\\-]/);return O("property","word")}else{return O(null,null)}}}}}}}}}}}}}function C(R){return function(V,T){var U=false,S;while((S=V.next())!=null){if(S==R&&!U){if(R==")"){V.backUp(1)}break}U=!U&&S=="\\"}if(S==R||!U&&R!=")"){T.tokenize=null}return O("string","string")}}function P(S,R){S.next();if(!S.match(/\s*[\"\')]/,false)){R.tokenize=C(")")}else{R.tokenize=null}return O(null,"(")}function I(S,R,T){this.type=S;this.indent=R;this.prev=T}function y(S,T,R){S.context=new I(R,T.indentation()+H,S.context);return R}function K(R){R.context=R.context.prev;return R.context.type}function s(R,T,S){return x[S.context.type](R,T,S)}function L(S,U,T,V){for(var R=V||1;R>0;R--){T.context=T.context.prev}return s(S,U,T)}function z(S){var R=S.current().toLowerCase();if(J.hasOwnProperty(R)){F="atom"}else{if(G.hasOwnProperty(R)){F="keyword"}else{F="variable"}}}var x={};x.top=function(R,T,S){if(R=="{"){return y(S,T,"block")}else{if(R=="}"&&S.context.prev){return K(S)}else{if(R=="@media"){return y(S,T,"media")}else{if(R=="@font-face"){return"font_face_before"}else{if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(R)){return"keyframes"}else{if(R&&R.charAt(0)=="@"){return y(S,T,"at")}else{if(R=="hash"){F="builtin"}else{if(R=="word"){F="tag"}else{if(R=="variable-definition"){return"maybeprop"}else{if(R=="interpolation"){return y(S,T,"interpolation")}else{if(R==":"){return"pseudo"}else{if(E&&R=="("){return y(S,T,"parens")}}}}}}}}}}}}return S.context.type};x.block=function(R,U,S){if(R=="word"){var T=U.current().toLowerCase();if(A.hasOwnProperty(T)){F="property";return"maybeprop"}else{if(u.hasOwnProperty(T)){F="string-2";return"maybeprop"}else{if(E){F=U.match(/^\s*:/,false)?"property":"tag";return"block"}else{F+=" error";return"maybeprop"}}}}else{if(R=="meta"){return"block"}else{if(!E&&(R=="hash"||R=="qualifier")){F="error";return"block"}else{return x.top(R,U,S)}}}};x.maybeprop=function(R,T,S){if(R==":"){return y(S,T,"prop")}return s(R,T,S)};x.prop=function(R,T,S){if(R==";"){return K(S)}if(R=="{"&&E){return y(S,T,"propBlock")}if(R=="}"||R=="{"){return L(R,T,S)}if(R=="("){return y(S,T,"parens")}if(R=="hash"&&!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(T.current())){F+=" error"}else{if(R=="word"){z(T)}else{if(R=="interpolation"){return y(S,T,"interpolation")}}}return"prop"};x.propBlock=function(S,R,T){if(S=="}"){return K(T)}if(S=="word"){F="property";return"maybeprop"}return T.context.type};x.parens=function(R,T,S){if(R=="{"||R=="}"){return L(R,T,S)}if(R==")"){return K(S)}if(R=="("){return y(S,T,"parens")}if(R=="word"){z(T)}return"parens"};x.pseudo=function(R,T,S){if(R=="word"){F="variable-3";return S.context.type}return s(R,T,S)};x.media=function(R,U,S){if(R=="("){return y(S,U,"media_parens")}if(R=="}"){return L(R,U,S)}if(R=="{"){return K(S)&&y(S,U,E?"block":"top")}if(R=="word"){var T=U.current().toLowerCase();if(T=="only"||T=="not"||T=="and"){F="keyword"}else{if(M.hasOwnProperty(T)){F="attribute"}else{if(D.hasOwnProperty(T)){F="property"}else{F="error"}}}}return S.context.type};x.media_parens=function(R,T,S){if(R==")"){return K(S)}if(R=="{"||R=="}"){return L(R,T,S,2)}return x.media(R,T,S)};x.font_face_before=function(R,T,S){if(R=="{"){return y(S,T,"font_face")}return s(R,T,S)};x.font_face=function(R,T,S){if(R=="}"){return K(S)}if(R=="word"){if(!w.hasOwnProperty(T.current().toLowerCase())){F="error"}else{F="property"}return"maybeprop"}return"font_face"};x.keyframes=function(R,T,S){if(R=="word"){F="variable";return"keyframes"}if(R=="{"){return y(S,T,"top")}return s(R,T,S)};x.at=function(R,T,S){if(R==";"){return K(S)}if(R=="{"||R=="}"){return L(R,T,S)}if(R=="word"){F="tag"}else{if(R=="hash"){F="builtin"}}return"at"};x.interpolation=function(R,T,S){if(R=="}"){return K(S)}if(R=="{"||R==";"){return L(R,T,S)}if(R!="variable"){F="error"}return"interpolation"};return{startState:function(R){return{tokenize:null,state:"top",context:new I("top",R||0,null)}},token:function(T,S){if(!S.tokenize&&T.eatSpace()){return null}var R=(S.tokenize||Q)(T,S);if(R&&typeof R=="object"){v=R[1];R=R[0]}F=R;S.state=x[S.state](v,T,S);return F},indent:function(V,T){var S=V.context,U=T&&T.charAt(0);var R=S.indent;if(S.type=="prop"&&(U=="}"||U==")")){S=S.prev}if(S.prev&&(U=="}"&&(S.type=="block"||S.type=="top"||S.type=="interpolation"||S.type=="font_face")||U==")"&&(S.type=="parens"||S.type=="media_parens")||U=="{"&&(S.type=="at"||S.type=="media"))){R=S.indent-H;S=S.prev}return R},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace"}});function f(u){var t={};for(var s=0;s<u.length;++s){t[u[s]]=true}return t}var a=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],p=f(a);var r=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid"],i=f(r);var c=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],h=f(c);var d=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],d=f(d);var b=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],k=f(b);var j=["above","absolute","activeborder","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","column","compact","condensed","contain","content","content-box","context-menu","continuous","copy","cover","crop","cross","crosshair","currentcolor","cursive","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ew-resize","expanded","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-table","inset","inside","intrinsic","invert","italic","justify","kannada","katakana","katakana-iroha","keep-all","khmer","landscape","lao","large","larger","left","level","lighter","line-through","linear","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","single","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","x-large","x-small","xor","xx-large","xx-small"],n=f(j);var o=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],e=f(o);var l=a.concat(r).concat(c).concat(d).concat(b).concat(j);m.registerHelper("hintWords","css",l);function q(v,u){var s=false,t;while((t=v.next())!=null){if(s&&t=="/"){u.tokenize=null;break}s=(t=="*")}return["comment","comment"]}function g(t,s){if(t.skipTo("-->")){t.match("-->");s.tokenize=null}else{t.skipToEnd()}return["comment","comment"]}m.defineMIME("text/css",{mediaTypes:p,mediaFeatures:i,propertyKeywords:h,nonStandardPropertyKeywords:d,colorKeywords:k,valueKeywords:n,fontProperties:e,tokenHooks:{"<":function(t,s){if(!t.match("!--")){return false}s.tokenize=g;return g(t,s)},"/":function(t,s){if(!t.eat("*")){return false}s.tokenize=q;return q(t,s)}},name:"css"});m.defineMIME("text/x-scss",{mediaTypes:p,mediaFeatures:i,propertyKeywords:h,nonStandardPropertyKeywords:d,colorKeywords:k,valueKeywords:n,fontProperties:e,allowNested:true,tokenHooks:{"/":function(t,s){if(t.eat("/")){t.skipToEnd();return["comment","comment"]}else{if(t.eat("*")){s.tokenize=q;return q(t,s)}else{return["operator","operator"]}}},":":function(s){if(s.match(/\s*\{/)){return[null,"{"]}return false},"$":function(s){s.match(/^[\w-]+/);if(s.match(/^\s*:/,false)){return["variable-2","variable-definition"]}return["variable-2","variable"]},"#":function(s){if(!s.eat("{")){return false}return[null,"interpolation"]}},name:"css",helperType:"scss"});m.defineMIME("text/x-less",{mediaTypes:p,mediaFeatures:i,propertyKeywords:h,nonStandardPropertyKeywords:d,colorKeywords:k,valueKeywords:n,fontProperties:e,allowNested:true,tokenHooks:{"/":function(t,s){if(t.eat("/")){t.skipToEnd();return["comment","comment"]}else{if(t.eat("*")){s.tokenize=q;return q(t,s)}else{return["operator","operator"]}}},"@":function(s){if(s.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,false)){return false}s.eatWhile(/[\w\\\-]/);if(s.match(/^\s*:/,false)){return["variable-2","variable-definition"]}return["variable-2","variable"]},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"})});(function(a){a(CodeMirror)})(function(a){a.defineMode("javascript",function(Y,ai){var k=Y.indentUnit;var z=ai.statementIndent;var ax=ai.jsonld;var y=ai.json||ax;var g=ai.typescript;var ap=function(){function aN(aP){return{type:aP,style:"keyword"}}var aI=aN("keyword a"),aG=aN("keyword b"),aF=aN("keyword c");var aH=aN("operator"),aL={type:"atom",style:"atom"};var aJ={"if":aN("if"),"while":aI,"with":aI,"else":aG,"do":aG,"try":aG,"finally":aG,"return":aF,"break":aF,"continue":aF,"new":aF,"delete":aF,"throw":aF,"debugger":aF,"var":aN("var"),"const":aN("var"),let:aN("var"),"function":aN("function"),"catch":aN("catch"),"for":aN("for"),"switch":aN("switch"),"case":aN("case"),"default":aN("default"),"in":aH,"typeof":aH,"instanceof":aH,"true":aL,"false":aL,"null":aL,"undefined":aL,"NaN":aL,"Infinity":aL,"this":aN("this"),module:aN("module"),"class":aN("class"),"super":aN("atom"),yield:aF,"export":aN("export"),"import":aN("import"),"extends":aF};if(g){var aO={type:"variable",style:"variable-3"};var aK={"interface":aN("interface"),"extends":aN("extends"),constructor:aN("constructor"),"public":aN("public"),"private":aN("private"),"protected":aN("protected"),"static":aN("static"),string:aO,number:aO,bool:aO,any:aO};for(var aM in aK){aJ[aM]=aK[aM]}}return aJ}();var O=/[+\-*&%=<>!?|~^]/;var ao=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function E(aI){var aG=false,aF,aH=false;while((aF=aI.next())!=null){if(!aG){if(aF=="/"&&!aH){return}if(aF=="["){aH=true}else{if(aH&&aF=="]"){aH=false}}}aG=!aG&&aF=="\\"}}var R,F;function K(aH,aG,aF){R=aH;F=aF;return aG}function T(aJ,aH){var aF=aJ.next();if(aF=='"'||aF=="'"){aH.tokenize=Q(aF);return aH.tokenize(aJ,aH)}else{if(aF=="."&&aJ.match(/^\d+(?:[eE][+\-]?\d+)?/)){return K("number","number")}else{if(aF=="."&&aJ.match("..")){return K("spread","meta")}else{if(/[\[\]{}\(\),;\:\.]/.test(aF)){return K(aF)}else{if(aF=="="&&aJ.eat(">")){return K("=>","operator")}else{if(aF=="0"&&aJ.eat(/x/i)){aJ.eatWhile(/[\da-f]/i);return K("number","number")}else{if(/\d/.test(aF)){aJ.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return K("number","number")}else{if(aF=="/"){if(aJ.eat("*")){aH.tokenize=aw;return aw(aJ,aH)}else{if(aJ.eat("/")){aJ.skipToEnd();return K("comment","comment")}else{if(aH.lastType=="operator"||aH.lastType=="keyword c"||aH.lastType=="sof"||/^[\[{}\(,;:]$/.test(aH.lastType)){E(aJ);aJ.eatWhile(/[gimy]/);return K("regexp","string-2")}else{aJ.eatWhile(O);return K("operator","operator",aJ.current())}}}}else{if(aF=="`"){aH.tokenize=ay;return ay(aJ,aH)}else{if(aF=="#"){aJ.skipToEnd();return K("error","error")}else{if(O.test(aF)){aJ.eatWhile(O);return K("operator","operator",aJ.current())}else{aJ.eatWhile(/[\w\$_]/);var aI=aJ.current(),aG=ap.propertyIsEnumerable(aI)&&ap[aI];return(aG&&aH.lastType!=".")?K(aG.type,aG.style,aI):K("variable","variable",aI)}}}}}}}}}}}}function Q(aF){return function(aJ,aH){var aI=false,aG;if(ax&&aJ.peek()=="@"&&aJ.match(ao)){aH.tokenize=T;return K("jsonld-keyword","meta")}while((aG=aJ.next())!=null){if(aG==aF&&!aI){break}aI=!aI&&aG=="\\"}if(!aI){aH.tokenize=T}return K("string","string")}}function aw(aI,aH){var aF=false,aG;while(aG=aI.next()){if(aG=="/"&&aF){aH.tokenize=T;break}aF=(aG=="*")}return K("comment","comment")}function ay(aI,aG){var aH=false,aF;while((aF=aI.next())!=null){if(!aH&&(aF=="`"||aF=="$"&&aI.eat("{"))){aG.tokenize=T;break}aH=!aH&&aF=="\\"}return K("quasi","string-2",aI.current())}var l="([{}])";function at(aL,aI){if(aI.fatArrowAt){aI.fatArrowAt=null}var aH=aL.string.indexOf("=>",aL.start);if(aH<0){return}var aK=0,aG=false;for(var aM=aH-1;aM>=0;--aM){var aF=aL.string.charAt(aM);var aJ=l.indexOf(aF);if(aJ>=0&&aJ<3){if(!aK){++aM;break}if(--aK==0){break}}else{if(aJ>=3&&aJ<6){++aK}else{if(/[$\w]/.test(aF)){aG=true}else{if(aG&&!aK){++aM;break}}}}}if(aG&&!aK){aI.fatArrowAt=aM}}var b={atom:true,number:true,variable:true,string:true,regexp:true,"this":true,"jsonld-keyword":true};function I(aK,aG,aF,aJ,aH,aI){this.indented=aK;this.column=aG;this.type=aF;this.prev=aH;this.info=aI;if(aJ!=null){this.align=aJ}}function r(aI,aH){for(var aG=aI.localVars;aG;aG=aG.next){if(aG.name==aH){return true}}for(var aF=aI.context;aF;aF=aF.prev){for(var aG=aF.vars;aG;aG=aG.next){if(aG.name==aH){return true}}}}function f(aJ,aG,aF,aI,aK){var aL=aJ.cc;C.state=aJ;C.stream=aK;C.marked=null,C.cc=aL;C.style=aG;if(!aJ.lexical.hasOwnProperty("align")){aJ.lexical.align=true}while(true){var aH=aL.length?aL.pop():y?am:aD;if(aH(aF,aI)){while(aL.length&&aL[aL.length-1].lex){aL.pop()()}if(C.marked){return C.marked}if(aF=="variable"&&r(aJ,aI)){return"variable-2"}return aG}}}var C={state:null,column:null,marked:null,cc:null};function Z(){for(var aF=arguments.length-1;aF>=0;aF--){C.cc.push(arguments[aF])}}function ad(){Z.apply(null,arguments);return true}function ar(aG){function aF(aJ){for(var aI=aJ;aI;aI=aI.next){if(aI.name==aG){return true}}return false}var aH=C.state;if(aH.context){C.marked="def";if(aF(aH.localVars)){return}aH.localVars={name:aG,next:aH.localVars}}else{if(aF(aH.globalVars)){return}if(ai.globalVars){aH.globalVars={name:aG,next:aH.globalVars}}}}var p={name:"this",next:{name:"arguments"}};function v(){C.state.context={prev:C.state.context,vars:C.state.localVars};C.state.localVars=p}function w(){C.state.localVars=C.state.context.vars;C.state.context=C.state.context.prev}function aB(aG,aH){var aF=function(){var aJ=C.state,aI=aJ.indented;if(aJ.lexical.type=="stat"){aI=aJ.lexical.indented}aJ.lexical=new I(aI,C.stream.column(),aG,null,aJ.lexical,aH)};aF.lex=true;return aF}function h(){var aF=C.state;if(aF.lexical.prev){if(aF.lexical.type==")"){aF.indented=aF.lexical.indented}aF.lexical=aF.lexical.prev}}h.lex=true;function q(aF){function aG(aH){if(aH==aF){return ad()}else{if(aF==";"){return Z()}else{return ad(aG)}}}return aG}function aD(aF,aG){if(aF=="var"){return ad(aB("vardef",aG.length),d,q(";"),h)}if(aF=="keyword a"){return ad(aB("form"),am,aD,h)}if(aF=="keyword b"){return ad(aB("form"),aD,h)}if(aF=="{"){return ad(aB("}"),x,h)}if(aF==";"){return ad()}if(aF=="if"){if(C.state.lexical.info=="else"&&C.state.cc[C.state.cc.length-1]==h){C.state.cc.pop()()}return ad(aB("form"),am,aD,h,e)}if(aF=="function"){return ad(L)}if(aF=="for"){return ad(aB("form"),t,aD,h)}if(aF=="variable"){return ad(aB("stat"),aE)}if(aF=="switch"){return ad(aB("form"),am,aB("}","switch"),q("{"),x,h,h)}if(aF=="case"){return ad(am,q(":"))}if(aF=="default"){return ad(q(":"))}if(aF=="catch"){return ad(aB("form"),v,q("("),ae,q(")"),aD,h,w)}if(aF=="module"){return ad(aB("form"),v,G,w,h)}if(aF=="class"){return ad(aB("form"),U,h)}if(aF=="export"){return ad(aB("form"),aC,h)}if(aF=="import"){return ad(aB("form"),af,h)}return Z(aB("stat"),am,q(";"),h)}function am(aF){return X(aF,false)}function aA(aF){return X(aF,true)}function X(aG,aI){if(C.state.fatArrowAt==C.stream.start){var aF=aI?M:V;if(aG=="("){return ad(v,aB(")"),aq(i,")"),h,q("=>"),aF,w)}else{if(aG=="variable"){return Z(v,i,q("=>"),aF,w)}}}var aH=aI?j:aa;if(b.hasOwnProperty(aG)){return ad(aH)}if(aG=="function"){return ad(L,aH)}if(aG=="keyword c"){return ad(aI?aj:ah)}if(aG=="("){return ad(aB(")"),ah,av,q(")"),h,aH)}if(aG=="operator"||aG=="spread"){return ad(aI?aA:am)}if(aG=="["){return ad(aB("]"),m,h,aH)}if(aG=="{"){return au(s,"}",null,aH)}if(aG=="quasi"){return Z(P,aH)}return ad()}function ah(aF){if(aF.match(/[;\}\)\],]/)){return Z()}return Z(am)}function aj(aF){if(aF.match(/[;\}\)\],]/)){return Z()}return Z(aA)}function aa(aF,aG){if(aF==","){return ad(am)}return j(aF,aG,false)}function j(aF,aH,aJ){var aG=aJ==false?aa:j;var aI=aJ==false?am:aA;if(aH=="=>"){return ad(v,aJ?M:V,w)}if(aF=="operator"){if(/\+\+|--/.test(aH)){return ad(aG)}if(aH=="?"){return ad(am,q(":"),aI)}return ad(aI)}if(aF=="quasi"){return Z(P,aG)}if(aF==";"){return}if(aF=="("){return au(aA,")","call",aG)}if(aF=="."){return ad(ak,aG)}if(aF=="["){return ad(aB("]"),ah,q("]"),h,aG)}}function P(aF,aG){if(aF!="quasi"){return Z()}if(aG.slice(aG.length-2)!="${"){return ad(P)}return ad(am,o)}function o(aF){if(aF=="}"){C.marked="string-2";C.state.tokenize=ay;return ad(P)}}function V(aF){at(C.stream,C.state);if(aF=="{"){return Z(aD)}return Z(am)}function M(aF){at(C.stream,C.state);if(aF=="{"){return Z(aD)}return Z(aA)}function aE(aF){if(aF==":"){return ad(h,aD)}return Z(aa,q(";"),h)}function ak(aF){if(aF=="variable"){C.marked="property";return ad()}}function s(aF,aG){if(aF=="variable"||C.style=="keyword"){C.marked="property";if(aG=="get"||aG=="set"){return ad(H)}return ad(J)}else{if(aF=="number"||aF=="string"){C.marked=ax?"property":(C.style+" property");return ad(J)}else{if(aF=="jsonld-keyword"){return ad(J)}else{if(aF=="["){return ad(am,q("]"),J)}}}}}function H(aF){if(aF!="variable"){return Z(J)}C.marked="property";return ad(L)}function J(aF){if(aF==":"){return ad(aA)}if(aF=="("){return Z(L)}}function aq(aH,aF){function aG(aJ){if(aJ==","){var aI=C.state.lexical;if(aI.info=="call"){aI.pos=(aI.pos||0)+1}return ad(aH,aG)}if(aJ==aF){return ad()}return ad(q(aF))}return function(aI){if(aI==aF){return ad()}return Z(aH,aG)}}function au(aI,aF,aH){for(var aG=3;aG<arguments.length;aG++){C.cc.push(arguments[aG])}return ad(aB(aF,aH),aq(aI,aF),h)}function x(aF){if(aF=="}"){return ad()}return Z(aD,x)}function S(aF){if(g&&aF==":"){return ad(ac)}}function ac(aF){if(aF=="variable"){C.marked="variable-3";return ad()}}function d(){return Z(i,S,ab,W)}function i(aF,aG){if(aF=="variable"){ar(aG);return ad()}if(aF=="["){return au(i,"]")}if(aF=="{"){return au(az,"}")}}function az(aF,aG){if(aF=="variable"&&!C.stream.match(/^\s*:/,false)){ar(aG);return ad(ab)}if(aF=="variable"){C.marked="property"}return ad(q(":"),i,ab)}function ab(aF,aG){if(aG=="="){return ad(aA)}}function W(aF){if(aF==","){return ad(d)}}function e(aF,aG){if(aF=="keyword b"&&aG=="else"){return ad(aB("form","else"),aD,h)}}function t(aF){if(aF=="("){return ad(aB(")"),D,q(")"),h)}}function D(aF){if(aF=="var"){return ad(d,q(";"),B)}if(aF==";"){return ad(B)}if(aF=="variable"){return ad(u)}return Z(am,q(";"),B)}function u(aF,aG){if(aG=="in"||aG=="of"){C.marked="keyword";return ad(am)}return ad(aa,B)}function B(aF,aG){if(aF==";"){return ad(A)}if(aG=="in"||aG=="of"){C.marked="keyword";return ad(am)}return Z(am,q(";"),A)}function A(aF){if(aF!=")"){ad(am)}}function L(aF,aG){if(aG=="*"){C.marked="keyword";return ad(L)}if(aF=="variable"){ar(aG);return ad(L)}if(aF=="("){return ad(v,aB(")"),aq(ae,")"),h,aD,w)}}function ae(aF){if(aF=="spread"){return ad(ae)}return Z(i,S)}function U(aF,aG){if(aF=="variable"){ar(aG);return ad(N)}}function N(aF,aG){if(aG=="extends"){return ad(am,N)}if(aF=="{"){return ad(aB("}"),n,h)}}function n(aF,aG){if(aF=="variable"||C.style=="keyword"){C.marked="property";if(aG=="get"||aG=="set"){return ad(c,L,n)}return ad(L,n)}if(aG=="*"){C.marked="keyword";return ad(n)}if(aF==";"){return ad(n)}if(aF=="}"){return ad()}}function c(aF){if(aF!="variable"){return Z()}C.marked="property";return ad()}function G(aF,aG){if(aF=="string"){return ad(aD)}if(aF=="variable"){ar(aG);return ad(ag)}}function aC(aF,aG){if(aG=="*"){C.marked="keyword";return ad(ag,q(";"))}if(aG=="default"){C.marked="keyword";return ad(am,q(";"))}return Z(aD)}function af(aF){if(aF=="string"){return ad()}return Z(an,ag)}function an(aF,aG){if(aF=="{"){return au(an,"}")}if(aF=="variable"){ar(aG)}return ad()}function ag(aF,aG){if(aG=="from"){C.marked="keyword";return ad(am)}}function m(aF){if(aF=="]"){return ad()}return Z(aA,al)}function al(aF){if(aF=="for"){return Z(av,q("]"))}if(aF==","){return ad(aq(aA,"]"))}return Z(aq(aA,"]"))}function av(aF){if(aF=="for"){return ad(t,av)}if(aF=="if"){return ad(am,av)}}return{startState:function(aG){var aF={tokenize:T,lastType:"sof",cc:[],lexical:new I((aG||0)-k,0,"block",false),localVars:ai.localVars,context:ai.localVars&&{vars:ai.localVars},indented:0};if(ai.globalVars&&typeof ai.globalVars=="object"){aF.globalVars=ai.globalVars}return aF},token:function(aH,aG){if(aH.sol()){if(!aG.lexical.hasOwnProperty("align")){aG.lexical.align=false}aG.indented=aH.indentation();at(aH,aG)}if(aG.tokenize!=aw&&aH.eatSpace()){return null}var aF=aG.tokenize(aH,aG);if(R=="comment"){return aF}aG.lastType=R=="operator"&&(F=="++"||F=="--")?"incdec":R;return f(aG,aF,R,F,aH)},indent:function(aL,aF){if(aL.tokenize==aw){return a.Pass}if(aL.tokenize!=T){return 0}var aK=aF&&aF.charAt(0),aI=aL.lexical;if(!/^\s*else\b/.test(aF)){for(var aH=aL.cc.length-1;aH>=0;--aH){var aM=aL.cc[aH];if(aM==h){aI=aI.prev}else{if(aM!=e){break}}}}if(aI.type=="stat"&&aK=="}"){aI=aI.prev}if(z&&aI.type==")"&&aI.prev.type=="stat"){aI=aI.prev}var aJ=aI.type,aG=aK==aJ;if(aJ=="vardef"){return aI.indented+(aL.lastType=="operator"||aL.lastType==","?aI.info+1:0)}else{if(aJ=="form"&&aK=="{"){return aI.indented}else{if(aJ=="form"){return aI.indented+k}else{if(aJ=="stat"){return aI.indented+(aL.lastType=="operator"||aL.lastType==","?z||k:0)}else{if(aI.info=="switch"&&!aG&&ai.doubleIndentSwitch!=false){return aI.indented+(/^(?:case|default)\b/.test(aF)?k:2*k)}else{if(aI.align){return aI.column+(aG?0:1)}else{return aI.indented+(aG?0:k)}}}}}}},electricChars:":{}",blockCommentStart:y?null:"/*",blockCommentEnd:y?null:"*/",lineComment:y?null:"//",fold:"brace",helperType:y?"json":"javascript",jsonldMode:ax,jsonMode:y}});a.registerHelper("wordChars","javascript",/[\\w$]/);a.defineMIME("text/javascript","javascript");a.defineMIME("text/ecmascript","javascript");a.defineMIME("application/javascript","javascript");a.defineMIME("application/x-javascript","javascript");a.defineMIME("application/ecmascript","javascript");a.defineMIME("application/json",{name:"javascript",json:true});a.defineMIME("application/x-json",{name:"javascript",json:true});a.defineMIME("application/ld+json",{name:"javascript",jsonld:true});a.defineMIME("text/typescript",{name:"javascript",typescript:true});a.defineMIME("application/typescript",{name:"javascript",typescript:true})});(function(a){a(CodeMirror)})(function(b){function c(d,h,e){var g=d.getWrapperElement();var f;f=g.appendChild(document.createElement("div"));if(e){f.className="CodeMirror-dialog CodeMirror-dialog-bottom"}else{f.className="CodeMirror-dialog CodeMirror-dialog-top"}if(typeof h=="string"){f.innerHTML=h}else{f.appendChild(h)}return f}function a(d,e){if(d.state.currentNotificationClose){d.state.currentNotificationClose()}d.state.currentNotificationClose=e}b.defineExtension("openDialog",function(i,j,l){a(this,null);var f=c(this,i,l&&l.bottom);var e=false,g=this;function k(m){if(typeof m=="string"){h.value=m}else{if(e){return}e=true;f.parentNode.removeChild(f)}}var h=f.getElementsByTagName("input")[0],d;if(h){if(l&&l.value){h.value=l.value}b.on(h,"keydown",function(m){if(l&&l.onKeyDown&&l.onKeyDown(m,h.value,k)){return}if(m.keyCode==13||m.keyCode==27){h.blur();b.e_stop(m);k();g.focus();if(m.keyCode==13){j(h.value)}}});if(l&&l.onKeyUp){b.on(h,"keyup",function(m){l.onKeyUp(m,h.value,k)})}if(l&&l.value){h.value=l.value}h.focus();b.on(h,"blur",k)}else{if(d=f.getElementsByTagName("button")[0]){b.on(d,"click",function(){k();g.focus()});d.focus();b.on(d,"blur",k)}}return k});b.defineExtension("openConfirm",function(m,g,o){a(this,null);var h=c(this,m,o&&o.bottom);var j=h.getElementsByTagName("button");var f=false,k=this,d=1;function n(){if(f){return}f=true;h.parentNode.removeChild(h);k.focus()}j[0].focus();for(var e=0;e<j.length;++e){var l=j[e];(function(i){b.on(l,"click",function(p){b.e_preventDefault(p);n();if(i){i(k)}})})(g[e]);b.on(l,"blur",function(){--d;setTimeout(function(){if(d<=0){n()}},200)});b.on(l,"focus",function(){++d})}});b.defineExtension("openNotification",function(g,e){a(this,j);var f=c(this,g,e&&e.bottom);var i=e&&(e.duration===undefined?5000:e.duration);var d=false,h;function j(){if(d){return}d=true;clearTimeout(h);f.parentNode.removeChild(f)}b.on(f,"click",function(k){b.e_preventDefault(k);j()});if(i){h=setTimeout(j,e.duration)}})});(function(a){a(CodeMirror)})(function(a){var h=2;var b="matchhighlight";var c=100;function g(j){if(typeof j=="object"){this.minChars=j.minChars;this.style=j.style;this.showToken=j.showToken;this.delay=j.delay}if(this.style==null){this.style=b}if(this.minChars==null){this.minChars=h}if(this.delay==null){this.delay=c}this.overlay=this.timeout=null}a.defineOption("highlightSelectionMatches",false,function(j,m,k){if(k&&k!=a.Init){var l=j.state.matchHighlighter.overlay;if(l){j.removeOverlay(l)}clearTimeout(j.state.matchHighlighter.timeout);j.state.matchHighlighter=null;j.off("cursorActivity",f)}if(m){j.state.matchHighlighter=new g(m);e(j);j.on("cursorActivity",f)}});function f(j){var k=j.state.matchHighlighter;clearTimeout(k.timeout);k.timeout=setTimeout(function(){e(j)},k.delay)}function e(j){j.operation(function(){var k=j.state.matchHighlighter;if(k.overlay){j.removeOverlay(k.overlay);k.overlay=null}if(!j.somethingSelected()&&k.showToken){var r=k.showToken===true?/[\w$]/:k.showToken;var q=j.getCursor(),s=j.getLine(q.line),l=q.ch,m=l;while(l&&r.test(s.charAt(l-1))){--l}while(m<s.length&&r.test(s.charAt(m))){++m}if(l<m){j.addOverlay(k.overlay=d(s.slice(l,m),r,k.style))}return}var o=j.getCursor("from"),p=j.getCursor("to");if(o.line!=p.line){return}var n=j.getRange(o,p).replace(/^\s+|\s+$/g,"");if(n.length>=k.minChars){j.addOverlay(k.overlay=d(n,false,k.style))}})}function i(k,j){return(!k.start||!j.test(k.string.charAt(k.start-1)))&&(k.pos==k.string.length||!j.test(k.string.charAt(k.pos)))}function d(l,k,j){return{token:function(m){if(m.match(l)&&(!k||i(m,k))){return j}m.next();m.skipTo(l.charAt(0))||m.skipToEnd()}}}});(function(a){a(CodeMirror)})(function(e){function a(s,r){if(typeof s=="string"){s=new RegExp(s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),r?"gi":"g")}else{if(!s.global){s=new RegExp(s.source,s.ignoreCase?"gi":"g")}}return{token:function(u){s.lastIndex=u.pos;var t=s.exec(u.string);if(t&&t.index==u.pos){u.pos+=t[0].length;return"searching"}else{if(t){u.pos=t.index}else{u.skipToEnd()}}}}}function m(){this.posFrom=this.posTo=this.query=null;this.overlay=null}function h(r){return r.state.search||(r.state.search=new m())}function q(r){return typeof r=="string"&&r==r.toLowerCase()}function o(r,s,t){return r.getSearchCursor(s,t,q(s))}function l(r,u,s,v,t){if(r.openDialog){r.openDialog(u,t,{value:v})}else{t(prompt(s,v))}}function p(s,u,t,r){if(s.openConfirm){s.openConfirm(u,r)}else{if(confirm(t)){r[0]()}}}function d(s){var r=s.match(/^\/(.*)\/([a-z]*)$/);if(r){s=new RegExp(r[1],r[2].indexOf("i")==-1?"":"i");if(s.test("")){s=/x^/}}else{if(s==""){s=/x^/}}return s}var c='Search: <input type="text" style="width: 10em"/>';function k(r,s){var t=h(r);if(t.query){return i(r,s)}l(r,c,"Search for:",r.getSelection(),function(u){r.operation(function(){if(!u||t.query){return}t.query=d(u);r.removeOverlay(t.overlay,q(t.query));t.overlay=a(t.query,q(t.query));r.addOverlay(t.overlay);t.posFrom=t.posTo=r.getCursor();i(r,s)})})}function i(r,s){r.operation(function(){var t=h(r);var u=o(r,t.query,s?t.posFrom:t.posTo);if(!u.find(s)){u=o(r,t.query,s?e.Pos(r.lastLine()):e.Pos(r.firstLine(),0));if(!u.find(s)){return}}r.setSelection(u.from(),u.to());r.scrollIntoView({from:u.from(),to:u.to()});t.posFrom=u.from();t.posTo=u.to()})}function n(r){r.operation(function(){var s=h(r);if(!s.query){return}s.query=null;r.removeOverlay(s.overlay)})}var g='Replace: <input type="text" style="width: 10em"/>';var j='With: <input type="text" style="width: 10em"/>';var f="Replace? <button>Yes</button> <button>No</button> <button>Stop</button>";function b(r,s){l(r,g,"Replace:",r.getSelection(),function(t){if(!t){return}t=d(t);l(r,j,"Replace with:","",function(x){if(s){r.operation(function(){for(var z=o(r,t);z.findNext();){if(typeof t!="string"){var y=r.getRange(z.from(),z.to()).match(t);z.replace(x.replace(/\$(\d)/g,function(A,B){return y[B]}))}else{z.replace(x)}}})}else{n(r);var w=o(r,t,r.getCursor());var v=function(){var z=w.from(),y;if(!(y=w.findNext())){w=o(r,t);if(!(y=w.findNext())||(z&&w.from().line==z.line&&w.from().ch==z.ch)){return}}r.setSelection(w.from(),w.to());r.scrollIntoView({from:w.from(),to:w.to()});p(r,f,"Replace?",[function(){u(y)},v])};var u=function(y){w.replace(typeof t=="string"?x:x.replace(/\$(\d)/g,function(z,A){return y[A]}));v()};v()}})})}e.commands.find=function(r){n(r);k(r)};e.commands.findNext=k;e.commands.findPrev=function(r){k(r,true)};e.commands.clearSearch=n;e.commands.replace=b;e.commands.replaceAll=function(r){b(r,true)}});(function(a){a(CodeMirror)})(function(a){var b=a.Pos;function c(k,i,l,g){this.atOccurrence=false;this.doc=k;if(g==null&&typeof i=="string"){g=false}l=l?k.clipPos(l):b(0,0);this.pos={from:l,to:l};if(typeof i!="string"){if(!i.global){i=new RegExp(i.source,i.ignoreCase?"ig":"g")}this.matches=function(p,t){if(p){i.lastIndex=0;var m=k.getLine(t.line).slice(0,t.ch),r=0,o,s;for(;;){i.lastIndex=r;var q=i.exec(m);if(!q){break}o=q;s=o.index;r=o.index+(o[0].length||1);if(r==m.length){break}}var n=(o&&o[0].length)||0;if(!n){if(s==0&&m.length==0){o=undefined}else{if(s!=k.getLine(t.line).length){n++}}}}else{i.lastIndex=t.ch;var m=k.getLine(t.line),o=i.exec(m);var n=(o&&o[0].length)||0;var s=o&&o.index;if(s+n!=m.length&&!n){n=1}}if(o&&n){return{from:b(t.line,s),to:b(t.line,s+n),match:o}}}}else{var e=i;if(g){i=i.toLowerCase()}var f=g?function(m){return m.toLowerCase()}:function(m){return m};var j=i.split("\n");if(j.length==1){if(!i.length){this.matches=function(){}}else{this.matches=function(o,q){if(o){var p=k.getLine(q.line).slice(0,q.ch),m=f(p);var n=m.lastIndexOf(i);if(n>-1){n=d(p,m,n);return{from:b(q.line,n),to:b(q.line,n+e.length)}}}else{var p=k.getLine(q.line).slice(q.ch),m=f(p);var n=m.indexOf(i);if(n>-1){n=d(p,m,n)+q.ch;return{from:b(q.line,n),to:b(q.line,n+e.length)}}}}}}else{var h=e.split("\n");this.matches=function(n,p){var t=j.length-1;if(n){if(p.line-(j.length-1)<k.firstLine()){return}if(f(k.getLine(p.line).slice(0,h[t].length))!=j[j.length-1]){return}var s=b(p.line,h[t].length);for(var o=p.line-1,m=t-1;m>=1;--m,--o){if(j[m]!=f(k.getLine(o))){return}}var u=k.getLine(o),q=u.length-h[0].length;if(f(u.slice(q))!=j[0]){return}return{from:b(o,q),to:s}}else{if(p.line+(j.length-1)>k.lastLine()){return}var u=k.getLine(p.line),q=u.length-h[0].length;if(f(u.slice(q))!=j[0]){return}var r=b(p.line,q);for(var o=p.line+1,m=1;m<t;++m,++o){if(j[m]!=f(k.getLine(o))){return}}if(k.getLine(o).slice(0,h[t].length)!=j[t]){return}return{from:r,to:b(o,h[t].length)}}}}}}c.prototype={findNext:function(){return this.find(false)},findPrevious:function(){return this.find(true)},find:function(f){var e=this,i=this.doc.clipPos(f?this.pos.from:this.pos.to);function g(j){var k=b(j,0);e.pos={from:k,to:k};e.atOccurrence=false;return false}for(;;){if(this.pos=this.matches(f,i)){this.atOccurrence=true;return this.pos.match||true}if(f){if(!i.line){return g(0)}i=b(i.line-1,this.doc.getLine(i.line-1).length)}else{var h=this.doc.lineCount();if(i.line==h-1){return g(h)}i=b(i.line+1,0)}}},from:function(){if(this.atOccurrence){return this.pos.from}},to:function(){if(this.atOccurrence){return this.pos.to}},replace:function(f){if(!this.atOccurrence){return}var e=a.splitLines(f);this.doc.replaceRange(e,this.pos.from,this.pos.to);this.pos.to=b(this.pos.from.line+e.length-1,e[e.length-1].length+(e.length==1?this.pos.from.ch:0))}};function d(i,g,h){if(i.length==g.length){return h}for(var f=Math.min(h,i.length);;){var e=i.slice(0,f).toLowerCase().length;if(e<h){++f}else{if(e>h){--f}else{return f}}}}a.defineExtension("getSearchCursor",function(f,g,e){return new c(this.doc,f,g,e)});a.defineDocExtension("getSearchCursor",function(f,g,e){return new c(this,f,g,e)});a.defineExtension("selectMatches",function(h,g){var e=[],f;var i=this.getSearchCursor(h,this.getCursor("from"),g);while(f=i.findNext()){if(a.cmpPos(i.to(),this.getCursor("to"))>0){break}e.push({anchor:i.from(),head:i.to()})}if(e.length){this.setSelections(e,0)}})});var JSHINT=(function(){var aW,s={"<":true,"<=":true,"==":true,"===":true,"!==":true,"!=":true,">":true,">=":true,"+":true,"-":true,"*":true,"/":true,"%":true},n={asi:true,bitwise:true,boss:true,browser:true,couch:true,curly:true,debug:true,devel:true,dojo:true,eqeqeq:true,eqnull:true,es5:true,esnext:true,evil:true,expr:true,forin:true,funcscope:true,globalstrict:true,immed:true,iterator:true,jquery:true,lastsemic:true,latedef:true,laxbreak:true,laxcomma:true,loopfunc:true,mootools:true,multistr:true,newcap:true,noarg:true,node:true,noempty:true,nonew:true,nonstandard:true,nomen:true,onevar:true,onecase:true,passfail:true,plusplus:true,proto:true,prototypejs:true,regexdash:true,regexp:true,rhino:true,undef:true,scripturl:true,shadow:true,smarttabs:true,strict:true,sub:true,supernew:true,trailing:true,validthis:true,withstmt:true,white:true,wsh:true},ai={maxlen:false,indent:false,maxerr:false,predef:false},aE={bitwise:true,forin:true,newcap:true,nomen:true,plusplus:true,regexp:true,undef:true,white:true,eqeqeq:true,onevar:true},r={eqeq:"eqeqeq",vars:"onevar",windows:"wsh"},aS={ArrayBuffer:false,ArrayBufferView:false,Audio:false,addEventListener:false,applicationCache:false,atob:false,blur:false,btoa:false,clearInterval:false,clearTimeout:false,close:false,closed:false,DataView:false,DOMParser:false,defaultStatus:false,document:false,event:false,FileReader:false,Float32Array:false,Float64Array:false,FormData:false,focus:false,frames:false,getComputedStyle:false,HTMLElement:false,HTMLAnchorElement:false,HTMLBaseElement:false,HTMLBlockquoteElement:false,HTMLBodyElement:false,HTMLBRElement:false,HTMLButtonElement:false,HTMLCanvasElement:false,HTMLDirectoryElement:false,HTMLDivElement:false,HTMLDListElement:false,HTMLFieldSetElement:false,HTMLFontElement:false,HTMLFormElement:false,HTMLFrameElement:false,HTMLFrameSetElement:false,HTMLHeadElement:false,HTMLHeadingElement:false,HTMLHRElement:false,HTMLHtmlElement:false,HTMLIFrameElement:false,HTMLImageElement:false,HTMLInputElement:false,HTMLIsIndexElement:false,HTMLLabelElement:false,HTMLLayerElement:false,HTMLLegendElement:false,HTMLLIElement:false,HTMLLinkElement:false,HTMLMapElement:false,HTMLMenuElement:false,HTMLMetaElement:false,HTMLModElement:false,HTMLObjectElement:false,HTMLOListElement:false,HTMLOptGroupElement:false,HTMLOptionElement:false,HTMLParagraphElement:false,HTMLParamElement:false,HTMLPreElement:false,HTMLQuoteElement:false,HTMLScriptElement:false,HTMLSelectElement:false,HTMLStyleElement:false,HTMLTableCaptionElement:false,HTMLTableCellElement:false,HTMLTableColElement:false,HTMLTableElement:false,HTMLTableRowElement:false,HTMLTableSectionElement:false,HTMLTextAreaElement:false,HTMLTitleElement:false,HTMLUListElement:false,HTMLVideoElement:false,history:false,Int16Array:false,Int32Array:false,Int8Array:false,Image:false,length:false,localStorage:false,location:false,MessageChannel:false,MessageEvent:false,MessagePort:false,moveBy:false,moveTo:false,name:false,navigator:false,onbeforeunload:true,onblur:true,onerror:true,onfocus:true,onload:true,onresize:true,onunload:true,open:false,openDatabase:false,opener:false,Option:false,parent:false,print:false,removeEventListener:false,resizeBy:false,resizeTo:false,screen:false,scroll:false,scrollBy:false,scrollTo:false,sessionStorage:false,setInterval:false,setTimeout:false,SharedWorker:false,status:false,top:false,Uint16Array:false,Uint32Array:false,Uint8Array:false,WebSocket:false,window:false,Worker:false,XMLHttpRequest:false,XMLSerializer:false,XPathEvaluator:false,XPathException:false,XPathExpression:false,XPathNamespace:false,XPathNSResolver:false,XPathResult:false},a6={require:false,respond:false,getRow:false,emit:false,send:false,start:false,sum:false,log:false,exports:false,module:false,provides:false},t={alert:false,confirm:false,console:false,Debug:false,opera:false,prompt:false},P={dojo:false,dijit:false,dojox:false,define:false,require:false},E={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"/":"\\/","\\":"\\\\"},az,aK=["closure","exception","global","label","outer","unused","var"],z,A,aQ,aA,am,j,ba={"$":false,jQuery:false},a4,K,aF,aR,aU={"$":false,"$$":false,Assets:false,Browser:false,Chain:false,Class:false,Color:false,Cookie:false,Core:false,Document:false,DomReady:false,DOMReady:false,Drag:false,Element:false,Elements:false,Event:false,Events:false,Fx:false,Group:false,Hash:false,HtmlTable:false,Iframe:false,IframeShim:false,InputValidator:false,instanceOf:false,Keyboard:false,Locale:false,Mask:false,MooTools:false,Native:false,Options:false,OverText:false,Request:false,Scroller:false,Slick:false,Slider:false,Sortables:false,Spinner:false,Swiff:false,Tips:false,Type:false,typeOf:false,URI:false,Window:false},k,ao={__filename:false,__dirname:false,Buffer:false,console:false,exports:false,GLOBAL:false,global:false,module:false,process:false,require:false,setTimeout:false,clearTimeout:false,setInterval:false,clearInterval:false},C,T,aZ,q,aM,d={"$":false,"$$":false,"$A":false,"$F":false,"$H":false,"$R":false,"$break":false,"$continue":false,"$w":false,Abstract:false,Ajax:false,Class:false,Enumerable:false,Element:false,Event:false,Field:false,Form:false,Hash:false,Insertion:false,ObjectRange:false,PeriodicalExecuter:false,Position:false,Prototype:false,Selector:false,Template:false,Toggle:false,Try:false,Autocompleter:false,Builder:false,Control:false,Draggable:false,Draggables:false,Droppables:false,Effect:false,Sortable:false,SortableObserver:false,Sound:false,Scriptaculous:false},X={defineClass:false,deserialize:false,gc:false,help:false,importPackage:false,java:false,load:false,loadClass:false,print:false,quit:false,readFile:false,readUrl:false,runCommand:false,seal:false,serialize:false,spawn:false,sync:false,toint32:false,version:false},aC,au,a3={Array:false,Boolean:false,Date:false,decodeURI:false,decodeURIComponent:false,encodeURI:false,encodeURIComponent:false,Error:false,"eval":false,EvalError:false,Function:false,hasOwnProperty:false,isFinite:false,isNaN:false,JSON:false,Math:false,Number:false,Object:false,parseInt:false,parseFloat:false,RangeError:false,ReferenceError:false,RegExp:false,String:false,SyntaxError:false,TypeError:false,URIError:false},at={escape:false,unescape:false},G={E:true,LN2:true,LN10:true,LOG2E:true,LOG10E:true,MAX_VALUE:true,MIN_VALUE:true,NEGATIVE_INFINITY:true,PI:true,POSITIVE_INFINITY:true,SQRT1_2:true,SQRT2:true},aw,a={},m,aB,S,M,y,e={ActiveXObject:true,Enumerator:true,GetObject:true,ScriptEngine:true,ScriptEngineBuildVersion:true,ScriptEngineMajorVersion:true,ScriptEngineMinorVersion:true,VBArray:true,WSH:true,WScript:true,XDomainRequest:true};var an,J,ad,Y,ab,aV,L,v,aT;(function(){an=/@cc|<\/?|script|\]\s*\]|<\s*!|&lt/i;J=/[\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/;ad=/^\s*([(){}\[.,:;'"~\?\]#@]|==?=?|\/(\*(jshint|jslint|members?|global)?|=|\/)?|\*[\/=]?|\+(?:=|\++)?|-(?:=|-+)?|%=?|&[&=]?|\|[|=]?|>>?>?=?|<([\/=!]|\!(\[|--)?|<=?)?|\^=?|\!=?=?|[a-zA-Z_$][a-zA-Z0-9_$]*|[0-9]+([xX][0-9a-fA-F]+|\.[0-9]*)?([eE][+\-]?[0-9]+)?)/;Y=/[\u0000-\u001f&<"\/\\\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/;ab=/[\u0000-\u001f&<"\/\\\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;aV=/\*\/|\/\*/;L=/^([a-zA-Z_$][a-zA-Z0-9_$]*)$/;v=/^(?:javascript|jscript|ecmascript|vbscript|mocha|livescript)\s*:/i;aT=/^\s*\/\*\s*falls\sthrough\s*\*\/\s*$/}());function aq(){}function aP(ax,F){return Object.prototype.hasOwnProperty.call(ax,F)}function a1(F,ax){if(ai[F]===undefined&&n[F]===undefined){ak("Bad option: '"+F+"'.",ax)}}if(typeof Array.isArray!=="function"){Array.isArray=function(F){return Object.prototype.toString.apply(F)==="[object Array]"}}if(typeof Object.create!=="function"){Object.create=function(F){aq.prototype=F;return new aq()}}if(typeof Object.keys!=="function"){Object.keys=function(bb){var F=[],ax;for(ax in bb){if(aP(bb,ax)){F.push(ax)}}return F}}if(typeof String.prototype.entityify!=="function"){String.prototype.entityify=function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}}if(typeof String.prototype.isAlpha!=="function"){String.prototype.isAlpha=function(){return(this>="a"&&this<="z\uffff")||(this>="A"&&this<="Z\uffff")}}if(typeof String.prototype.isDigit!=="function"){String.prototype.isDigit=function(){return(this>="0"&&this<="9")}}if(typeof String.prototype.supplant!=="function"){String.prototype.supplant=function(F){return this.replace(/\{([^{}]*)\}/g,function(bb,ax){var bc=F[ax];return typeof bc==="string"||typeof bc==="number"?bc:bb})}}if(typeof String.prototype.name!=="function"){String.prototype.name=function(){if(L.test(this)){return this}if(Y.test(this)){return'"'+this.replace(ab,function(F){var ax=E[F];if(ax){return ax}return"\\u"+("0000"+F.charCodeAt().toString(16)).slice(-4)})+'"'}return'"'+this+'"'}}function a8(F,ax){var bb;for(bb in ax){if(aP(ax,bb)){F[bb]=ax[bb]}}}function af(){if(T.couch){a8(aZ,a6)}if(T.rhino){a8(aZ,X)}if(T.prototypejs){a8(aZ,d)}if(T.node){a8(aZ,ao);T.globalstrict=true}if(T.devel){a8(aZ,t)}if(T.dojo){a8(aZ,P)}if(T.browser){a8(aZ,aS)}if(T.nonstandard){a8(aZ,at)}if(T.jquery){a8(aZ,ba)}if(T.mootools){a8(aZ,aU)}if(T.wsh){a8(aZ,e)}if(T.esnext){M()}if(T.globalstrict&&T.strict!==false){T.strict=true}}function ap(bc,ax,bb){var F=Math.floor((ax/a4.length)*100);throw {name:"JSHintError",line:ax,character:bb,message:bc+" ("+F+"% scanned).",raw:bc}}function c(bc,F,bb,ax){return JSHINT.undefs.push([bc,F,bb,ax])}function ak(ax,bh,bf,be,bd,bc){var F,bb,bg;bh=bh||k;if(bh.id==="(end)"){bh=aB}bb=bh.line||0;F=bh.from||0;bg={id:"(error)",raw:ax,evidence:a4[bb-1]||"",line:bb,character:F,a:bf,b:be,c:bd,d:bc};bg.reason=ax.supplant(bg);JSHINT.errors.push(bg);if(T.passfail){ap("Stopping. ",bb,F)}y+=1;if(y>=T.maxerr){ap("Too many errors.",bb,F)}return bg}function Z(ax,bc,bd,bb,F,bf,be){return ak(ax,{line:bc,from:bd},bb,F,bf,be)}function aG(ax,bd,bc,F,bf,be){var bb=ak(ax,bd,bc,F,bf,be)}function V(ax,bc,bd,bb,F,bf,be){return aG(ax,{line:bc,from:bd},bb,F,bf,be)}var aj=(function aj(){var bd,be,F,bb;function bc(){var bf,bg;if(F>=a4.length){return false}bd=1;bb=a4[F];F+=1;if(T.smarttabs){bf=bb.search(/ \t/)}else{bf=bb.search(/ \t|\t /)}bb=bb.replace(/\t/g,m);bf=bb.search(J);if(bf>=0){Z("Unsafe character.",F,bf)}if(T.maxlen&&T.maxlen<bb.length){Z("Line too long.",F,bb.length)}bg=T.trailing&&bb.match(/^(.*?)\s+$/);if(bg&&!/^\s+$/.test(bb)){Z("Trailing whitespace.",F,bg[1].length+1)}return true}function ax(bh,bi){var bg,bf;if(bh==="(color)"||bh==="(range)"){bf={type:bh}}else{if(bh==="(punctuator)"||(bh==="(identifier)"&&aP(a,bi))){bf=a[bi]||a["(error)"]}else{bf=a[bh]}}bf=Object.create(bf);if(bh==="(string)"||bh==="(range)"){if(!T.scripturl&&v.test(bi)){Z("Script URL.",F,be)}}if(bh==="(identifier)"){bf.identifier=true;if(bi==="__proto__"&&!T.proto){Z("The '{a}' property is deprecated.",F,be,bi)}else{if(bi==="__iterator__"&&!T.iterator){Z("'{a}' is only available in JavaScript 1.7.",F,be,bi)}else{if(T.nomen&&(bi.charAt(0)==="_"||bi.charAt(bi.length-1)==="_")){if(!T.node||aB.id==="."||(bi!=="__dirname"&&bi!=="__filename")){Z("Unexpected {a} in '{b}'.",F,be,"dangling '_'",bi)}}}}}bf.value=bi;bf.line=F;bf.character=bd;bf.from=be;bg=bf.id;if(bg!=="(endline)"){q=bg&&(("(,=:[!&|?{};".indexOf(bg.charAt(bg.length-1))>=0)||bg==="return"||bg==="case")}return bf}return{init:function(bf){if(typeof bf==="string"){a4=bf.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n")}else{a4=bf}if(a4[0]&&a4[0].substr(0,2)==="#!"){a4[0]=""}F=0;bc();be=1},range:function(bg,bf){var bi,bh="";be=bd;if(bb.charAt(0)!==bg){V("Expected '{a}' and instead saw '{b}'.",F,bd,bg,bb.charAt(0))}for(;;){bb=bb.slice(1);bd+=1;bi=bb.charAt(0);switch(bi){case"":V("Missing '{a}'.",F,bd,bi);break;case bf:bb=bb.slice(1);bd+=1;return ax("(range)",bh);case"\\":Z("Unexpected '{a}'.",F,bd,bi)}bh+=bi}},token:function(){var bt,bs,bh,bq,bm,bl,bn,bj,br,bg,bu,bf,bk,bi;function bo(bv){var bx=bv.exec(bb),bw;if(bx){bj=bx[0].length;bw=bx[1];bs=bw.charAt(0);bb=bb.substr(bj);be=bd+bj-bw.length;bd+=bj;return bw}}function bp(bv){var bC,by,bz="",bB=false;if(j&&bv!=='"'){Z("Strings must use doublequote.",F,bd)}function bx(bE){var bD=parseInt(bb.substr(by+1,bE),16);by+=bE;if(bD>=32&&bD<=126&&bD!==34&&bD!==92&&bD!==39){Z("Unnecessary escapement.",F,bd)}bd+=bE;bC=String.fromCharCode(bD)}by=0;unclosedString:for(;;){while(by>=bb.length){by=0;var bw=F,bA=be;if(!bc()){V("Unclosed string.",bw,bA);break unclosedString}if(bB){bB=false}else{Z("Unclosed string.",bw,bA)}}bC=bb.charAt(by);if(bC===bv){bd+=1;bb=bb.substr(by+1);return ax("(string)",bz,bv)}if(bC<" "){if(bC==="\n"||bC==="\r"){break}Z("Control character in string: {a}.",F,bd+by,bb.slice(0,by))}else{if(bC==="\\"){by+=1;bd+=1;bC=bb.charAt(by);bi=bb.charAt(by+1);switch(bC){case"\\":case'"':case"/":break;case"'":if(j){Z("Avoid \\'.",F,bd)}break;case"b":bC="\b";break;case"f":bC="\f";break;case"n":bC="\n";break;case"r":bC="\r";break;case"t":bC="\t";break;case"0":bC="\0";if(bi>=0&&bi<=7&&aw["use strict"]){Z("Octal literals are not allowed in strict mode.",F,bd)}break;case"u":bx(4);break;case"v":if(j){Z("Avoid \\v.",F,bd)}bC="\v";break;case"x":if(j){Z("Avoid \\x-.",F,bd)}bx(2);break;case"":bB=true;if(T.multistr){if(j){Z("Avoid EOL escapement.",F,bd)}bC="";bd-=1;break}Z("Bad escapement of EOL. Use option multistr if needed.",F,bd);break;default:Z("Bad escapement.",F,bd)}}}bz+=bC;bd+=1;by+=1}}for(;;){if(!bb){return ax(bc()?"(endline)":"(end)","")}bu=bo(ad);if(!bu){bu="";bs="";while(bb&&bb<"!"){bb=bb.substr(1)}if(bb){V("Unexpected '{a}'.",F,bd,bb.substr(0,1));bb=""}}else{if(bs.isAlpha()||bs==="_"||bs==="$"){return ax("(identifier)",bu)}if(bs.isDigit()){if(!isFinite(Number(bu))){Z("Bad number '{a}'.",F,bd,bu)}if(bb.substr(0,1).isAlpha()){Z("Missing space after '{a}'.",F,bd,bu)}if(bs==="0"){bq=bu.substr(1,1);if(bq.isDigit()){if(aB.id!=="."){Z("Don't use extra leading zeros '{a}'.",F,bd,bu)}}else{if(j&&(bq==="x"||bq==="X")){Z("Avoid 0x-. '{a}'.",F,bd,bu)}}}if(bu.substr(bu.length-1)==="."){Z("A trailing decimal point can be confused with a dot '{a}'.",F,bd,bu)}return ax("(number)",bu)}switch(bu){case'"':case"'":return bp(bu);case"//":bb="";aB.comment=true;break;case"/*":for(;;){bn=bb.search(aV);if(bn>=0){break}if(!bc()){V("Unclosed comment.",F,bd)}}bd+=bn+2;if(bb.substr(bn,1)==="/"){V("Nested comment.",F,bd)}bb=bb.substr(bn+2);aB.comment=true;break;case"/*members":case"/*member":case"/*jshint":case"/*jslint":case"/*global":case"*/":case"{#members":case"{#member":case"{#jshint":case"{#jslint":case"{#global":case"#}":return{value:bu,type:"special",line:F,character:bd,from:be};case"":break;case"/":if(aB.id==="/="){V("A regular expression literal can be confused with '/='.",F,be)}if(q){bm=0;bh=0;bj=0;for(;;){bt=true;bs=bb.charAt(bj);bj+=1;switch(bs){case"":V("Unclosed regular expression.",F,be);return ap("Stopping.",F,be);case"/":if(bm>0){Z("{a} unterminated regular expression group(s).",F,be+bj,bm)}bs=bb.substr(0,bj-1);bg={g:true,i:true,m:true};while(bg[bb.charAt(bj)]===true){bg[bb.charAt(bj)]=false;bj+=1}bd+=bj;bb=bb.substr(bj);bg=bb.charAt(0);if(bg==="/"||bg==="*"){V("Confusing regular expression.",F,be)}return ax("(regexp)",bs);case"\\":bs=bb.charAt(bj);if(bs<" "){Z("Unexpected control character in regular expression.",F,be+bj)}else{if(bs==="<"){Z("Unexpected escaped character '{a}' in regular expression.",F,be+bj,bs)}}bj+=1;break;case"(":bm+=1;bt=false;if(bb.charAt(bj)==="?"){bj+=1;switch(bb.charAt(bj)){case":":case"=":case"!":bj+=1;break;default:Z("Expected '{a}' and instead saw '{b}'.",F,be+bj,":",bb.charAt(bj))}}else{bh+=1}break;case"|":bt=false;break;case")":if(bm===0){Z("Unescaped '{a}'.",F,be+bj,")")}else{bm-=1}break;case" ":bg=1;while(bb.charAt(bj)===" "){bj+=1;bg+=1}if(bg>1){Z("Spaces are hard to count. Use {{a}}.",F,be+bj,bg)}break;case"[":bs=bb.charAt(bj);if(bs==="^"){bj+=1;if(T.regexp){Z("Insecure '{a}'.",F,be+bj,bs)}else{if(bb.charAt(bj)==="]"){V("Unescaped '{a}'.",F,be+bj,"^")}}}if(bs==="]"){Z("Empty class.",F,be+bj-1)}bf=false;bk=false;klass:do{bs=bb.charAt(bj);bj+=1;switch(bs){case"[":case"^":Z("Unescaped '{a}'.",F,be+bj,bs);if(bk){bk=false}else{bf=true}break;case"-":if(bf&&!bk){bf=false;bk=true}else{if(bk){bk=false}else{if(bb.charAt(bj)==="]"){bk=true}else{if(T.regexdash!==(bj===2||(bj===3&&bb.charAt(1)==="^"))){Z("Unescaped '{a}'.",F,be+bj-1,"-")}bf=true}}}break;case"]":if(bk&&!T.regexdash){Z("Unescaped '{a}'.",F,be+bj-1,"-")}break klass;case"\\":bs=bb.charAt(bj);if(bs<" "){Z("Unexpected control character in regular expression.",F,be+bj)}else{if(bs==="<"){Z("Unexpected escaped character '{a}' in regular expression.",F,be+bj,bs)}}bj+=1;if(/[wsd]/i.test(bs)){if(bk){Z("Unescaped '{a}'.",F,be+bj,"-");bk=false}bf=false}else{if(bk){bk=false}else{bf=true}}break;case"/":Z("Unescaped '{a}'.",F,be+bj-1,"/");if(bk){bk=false}else{bf=true}break;case"<":if(bk){bk=false}else{bf=true}break;default:if(bk){bk=false}else{bf=true}}}while(bs);break;case".":if(T.regexp){Z("Insecure '{a}'.",F,be+bj,bs)}break;case"]":case"?":case"{":case"}":case"+":case"*":Z("Unescaped '{a}'.",F,be+bj,bs)}if(bt){switch(bb.charAt(bj)){case"?":case"+":case"*":bj+=1;if(bb.charAt(bj)==="?"){bj+=1}break;case"{":bj+=1;bs=bb.charAt(bj);if(bs<"0"||bs>"9"){Z("Expected a number and instead saw '{a}'.",F,be+bj,bs)}bj+=1;br=+bs;for(;;){bs=bb.charAt(bj);if(bs<"0"||bs>"9"){break}bj+=1;br=+bs+(br*10)}bl=br;if(bs===","){bj+=1;bl=Infinity;bs=bb.charAt(bj);if(bs>="0"&&bs<="9"){bj+=1;bl=+bs;for(;;){bs=bb.charAt(bj);if(bs<"0"||bs>"9"){break}bj+=1;bl=+bs+(bl*10)}}}if(bb.charAt(bj)!=="}"){Z("Expected '{a}' and instead saw '{b}'.",F,be+bj,"}",bs)}else{bj+=1}if(bb.charAt(bj)==="?"){bj+=1}if(br>bl){Z("'{a}' should not be greater than '{b}'.",F,be+bj,br,bl)}}}}bs=bb.substr(0,bj-1);bd+=bj;bb=bb.substr(bj);return ax("(regexp)",bs)}return ax("(punctuator)",bu);case"#":return ax("(punctuator)",bu);default:return ax("(punctuator)",bu)}}}}}}());function u(F,ax){if(F==="hasOwnProperty"){ak("'hasOwnProperty' is a really bad name.")}if(aP(az,F)&&!az["(global)"]){if(az[F]===true){if(T.latedef){ak("'{a}' was used before it was defined.",k,F)}}else{if(!T.shadow&&ax!=="exception"){ak("'{a}' is already defined.",k,F)}}}az[F]=ax;if(az["(global)"]){A[F]=az;if(aP(aQ,F)){if(T.latedef){ak("'{a}' was used before it was defined.",k,F)}delete aQ[F]}}else{aC[F]=az}}function w(){var ax,be,bd,bf=k.value,bc,F,bb;switch(bf){case"*/":aG("Unbegun comment.");break;case"/*members":case"/*member":bf="/*members";if(!aR){aR={}}be=aR;break;case"/*jshint":case"/*jslint":be=T;bd=n;break;case"/*global":be=aZ;break;default:aG("What?")}bc=aj.token();loop:for(;;){for(;;){if(bc.type==="special"&&bc.value==="*/"){break loop}if(bc.id!=="(endline)"&&bc.id!==","){break}bc=aj.token()}if(bc.type!=="(string)"&&bc.type!=="(identifier)"&&bf!=="/*members"){aG("Bad option.",bc)}bb=aj.token();if(bb.id===":"){bb=aj.token();if(be===aR){aG("Expected '{a}' and instead saw '{b}'.",bc,"*/",":")}if(bf==="/*jshint"){a1(bc.value,bc)}if(bc.value==="indent"&&(bf==="/*jshint"||bf==="/*jslint")){ax=+bb.value;if(typeof ax!=="number"||!isFinite(ax)||ax<=0||Math.floor(ax)!==ax){aG("Expected a small integer and instead saw '{a}'.",bb,bb.value)}be.white=true;be.indent=ax}else{if(bc.value==="maxerr"&&(bf==="/*jshint"||bf==="/*jslint")){ax=+bb.value;if(typeof ax!=="number"||!isFinite(ax)||ax<=0||Math.floor(ax)!==ax){aG("Expected a small integer and instead saw '{a}'.",bb,bb.value)}be.maxerr=ax}else{if(bc.value==="maxlen"&&(bf==="/*jshint"||bf==="/*jslint")){ax=+bb.value;if(typeof ax!=="number"||!isFinite(ax)||ax<=0||Math.floor(ax)!==ax){aG("Expected a small integer and instead saw '{a}'.",bb,bb.value)}be.maxlen=ax}else{if(bc.value==="validthis"){if(az["(global)"]){aG("Option 'validthis' can't be used in a global scope.")}else{if(bb.value==="true"||bb.value==="false"){be[bc.value]=bb.value==="true"}else{aG("Bad option value.",bb)}}}else{if(bb.value==="true"||bb.value==="false"){if(bf==="/*jslint"){F=r[bc.value]||bc.value;be[F]=bb.value==="true";if(aE[F]!==undefined){be[F]=!be[F]}}else{be[bc.value]=bb.value==="true"}}else{aG("Bad option value.",bb)}}}}}bc=aj.token()}else{if(bf==="/*jshint"||bf==="/*jslint"){aG("Missing option value.",bc)}be[bc.value]=false;bc=bb}}if(bd){af()}}function aN(bc){var bb=bc||0,F=0,ax;while(F<=bb){ax=K[F];if(!ax){ax=K[F]=aj.token()}F+=1}return ax}function ac(ax,F){switch(aB.id){case"(number)":if(k.id==="."){ak("A dot following a number can be confused with a decimal point.",aB)}break;case"-":if(k.id==="-"||k.id==="--"){ak("Confusing minusses.")}break;case"+":if(k.id==="+"||k.id==="++"){ak("Confusing plusses.")}break}if(aB.type==="(string)"||aB.identifier){aW=aB.value}if(ax&&k.id!==ax){if(F){if(k.id==="(end)"){ak("Unmatched '{a}'.",F,F.id)}else{ak("Expected '{a}' to match '{b}' from line {c} and instead saw '{d}'.",k,ax,F.id,F.line,k.value)}}else{if(k.type!=="(identifier)"||k.value!==ax){ak("Expected '{a}' and instead saw '{b}'.",k,ax,k.value)}}}aM=aB;aB=k;for(;;){k=K.shift()||aj.token();if(k.id==="(end)"||k.id==="(error)"){return}if(k.type==="special"){w()}else{if(k.id!=="(endline)"){break}}}}function aD(bb,bc){var bd,ax=false,F=false;if(k.id==="(end)"){aG("Unexpected early end of program.",aB)}ac();if(bc){aW="anonymous";az["(verb)"]=aB.value}if(bc===true&&aB.fud){bd=aB.fud()}else{if(aB.nud){bd=aB.nud()}else{if(k.type==="(number)"&&aB.id==="."){ak("A leading decimal point can be confused with a dot: '.{a}'.",aB,k.value);ac();return aB}else{aG("Expected an identifier and instead saw '{a}'.",aB,aB.id)}}while(bb<k.lbp){ax=aB.value==="Array";F=aB.value==="Object";if(bd&&(bd.value||(bd.first&&bd.first.value))){if(bd.value!=="new"||(bd.first&&bd.first.value&&bd.first.value===".")){ax=false;if(bd.value!==aB.value){F=false}}}ac();if(ax&&aB.id==="("&&k.id===")"){ak("Use the array literal notation [].",aB)}if(F&&aB.id==="("&&k.id===")"){ak("Use the object literal notation {}.",aB)}if(aB.led){bd=aB.led(bd)}else{aG("Expected an operator and instead saw '{a}'.",aB,aB.id)}}}return bd}function ar(ax,F){ax=ax||aB;F=F||k;if(T.white){if(ax.character!==F.from&&ax.line===F.line){ax.from+=(ax.character-ax.from);ak("Unexpected space after '{a}'.",ax,ax.value)}}}function aJ(ax,F){ax=ax||aB;F=F||k;if(T.white&&(ax.character!==F.from||ax.line!==F.line)){ak("Unexpected space before '{a}'.",F,F.value)}}function R(ax,F){ax=ax||aB;F=F||k;if(T.white&&!ax.comment){if(ax.line===F.line){ar(ax,F)}}}function Q(ax,F){if(T.white){ax=ax||aB;F=F||k;if(ax.line===F.line&&ax.character===F.from){ax.from+=(ax.character-ax.from);ak("Missing space after '{a}'.",ax,ax.value)}}}function ah(ax,F){ax=ax||aB;F=F||k;if(!T.laxbreak&&ax.line!==F.line){ak("Bad line breaking before '{a}'.",F,F.id)}else{if(T.white){ax=ax||aB;F=F||k;if(ax.character===F.from){ax.from+=(ax.character-ax.from);ak("Missing space after '{a}'.",ax,ax.value)}}}}function b(F){var ax;if(T.white&&k.id!=="(end)"){ax=am+(F||0);if(k.from!==ax){ak("Expected '{a}' to have an indentation at {b} instead at {c}.",k,k.value,ax,k.from)}}}function a7(F){F=F||aB;if(F.line!==k.line){ak("Line breaking error '{a}'.",F,F.value)}}function al(){if(aB.line!==k.line){if(!T.laxcomma){if(al.first){ak("Comma warnings can be turned off with 'laxcomma'");al.first=false}ak("Bad line breaking before '{a}'.",aB,k.id)}}else{if(!aB.comment&&aB.character!==k.from&&T.white){aB.from+=(aB.character-aB.from);ak("Unexpected space after '{a}'.",aB,aB.value)}}ac(",");Q(aB,k)}function O(ax,bb){var F=a[ax];if(!F||typeof F!=="object"){a[ax]=F={id:ax,lbp:bb,value:ax}}return F}function aL(F){return O(F,0)}function g(ax,bb){var F=aL(ax);F.identifier=F.reserved=true;F.fud=bb;return F}function aY(ax,bb){var F=g(ax,bb);F.block=true;return F}function B(F){var ax=F.id.charAt(0);if((ax>="a"&&ax<="z")||(ax>="A"&&ax<="Z")){F.identifier=F.reserved=true}return F}function aH(ax,bb){var F=O(ax,150);B(F);F.nud=(typeof bb==="function")?bb:function(){this.right=aD(150);this.arity="unary";if(this.id==="++"||this.id==="--"){if(T.plusplus){ak("Unexpected use of '{a}'.",this,this.id)}else{if((!this.right.identifier||this.right.reserved)&&this.right.id!=="."&&this.right.id!=="["){ak("Bad operand.",this)}}}return this};return F}function aa(ax,bb){var F=aL(ax);F.type=ax;F.nud=bb;return F}function p(ax,bb){var F=aa(ax,bb);F.identifier=F.reserved=true;return F}function U(ax,F){return p(ax,function(){if(typeof F==="function"){F(this)}return this})}function x(bb,bc,bd,ax){var F=O(bb,bd);B(F);F.led=function(be){if(!ax){ah(aM,aB);Q(aB,k)}if(bb==="in"&&be.id==="!"){ak("Confusing use of '{a}'.",be,"!")}if(typeof bc==="function"){return bc(be,this)}else{this.left=be;this.right=aD(bd);return this}};return F}function a2(ax,bb){var F=O(ax,100);F.led=function(bd){ah(aM,aB);Q(aB,k);var bc=aD(100);if((bd&&bd.id==="NaN")||(bc&&bc.id==="NaN")){ak("Use the isNaN function to compare with NaN.",this)}else{if(bb){bb.apply(this,[bd,bc])}}if(bd.id==="!"){ak("Confusing use of '{a}'.",bd,"!")}if(bc.id==="!"){ak("Confusing use of '{a}'.",bc,"!")}this.left=bd;this.right=bc;return this};return F}function a9(F){return F&&((F.type==="(number)"&&+F.value===0)||(F.type==="(string)"&&F.value==="")||(F.type==="null"&&!T.eqnull)||F.type==="true"||F.type==="false"||F.type==="undefined")}function ag(F,ax){O(F,20).exps=true;return x(F,function(bd,bc){var bb;bc.left=bd;if(aZ[bd.value]===false&&aC[bd.value]["(global)"]===true){ak("Read only.",bd)}else{if(bd["function"]){ak("'{a}' is a function.",bd,bd.value)}}if(bd){if(T.esnext&&az[bd.value]==="const"){ak("Attempting to override '{a}' which is a constant",bd,bd.value)}if(bd.id==="."||bd.id==="["){if(!bd.left||bd.left.value==="arguments"){ak("Bad assignment.",bc)}bc.right=aD(19);return bc}else{if(bd.identifier&&!bd.reserved){if(az[bd.value]==="exception"){ak("Do not assign to the exception parameter.",bd)}bc.right=aD(19);return bc}}if(bd===a["function"]){ak("Expected an identifier in an assignment and instead saw a function invocation.",aB)}}aG("Bad assignment.",bc)},20)}function ay(ax,bb,bc){var F=O(ax,bc);B(F);F.led=(typeof bb==="function")?bb:function(bd){if(T.bitwise){ak("Unexpected use of '{a}'.",this,this.id)}this.left=bd;this.right=aD(bc);return this};return F}function i(F){O(F,20).exps=true;return x(F,function(bb,ax){if(T.bitwise){ak("Unexpected use of '{a}'.",ax,ax.id)}Q(aM,aB);Q(aB,k);if(bb){if(bb.id==="."||bb.id==="["||(bb.identifier&&!bb.reserved)){aD(19);return ax}if(bb===a["function"]){ak("Expected an identifier in an assignment, and instead saw a function invocation.",aB)}return ax}aG("Bad assignment.",ax)},20)}function av(ax,bb){var F=O(ax,150);F.led=function(bc){if(T.plusplus){ak("Unexpected use of '{a}'.",this,this.id)}else{if((!bc.identifier||bc.reserved)&&bc.id!=="."&&bc.id!=="["){ak("Bad operand.",this)}}this.left=bc;return this};return F}function l(F){if(k.identifier){ac();if(aB.reserved&&!T.es5){if(!F||aB.value!=="undefined"){ak("Expected an identifier and instead saw '{a}' (a reserved word).",aB,aB.id)}}return aB.value}}function ae(F){var ax=l(F);if(ax){return ax}if(aB.id==="function"&&k.id==="("){ak("Missing name in function declaration.")}else{aG("Expected an identifier and instead saw '{a}'.",k,k.value)}}function W(bb){var ax=0,F;if(k.id!==";"||C){return}for(;;){F=aN(ax);if(F.reach){return}if(F.id!=="(endline)"){if(F.id==="function"){if(!T.latedef){break}ak("Inner functions should be listed at the top of the outer function.",F);break}ak("Unreachable '{a}' after '{b}'.",F,F.value,bb);break}ax+=1}}function a5(bd){var ax=am,bc,bb=aC,F=k;if(F.id===";"){ac(";");return}if(F.identifier&&!F.reserved&&aN().id===":"){ac();ac(":");aC=Object.create(bb);u(F.value,"label");if(!k.labelled){ak("Label '{a}' on {b} statement.",k,F.value,k.value)}if(v.test(F.value+":")){ak("Label '{a}' looks like a javascript url.",F,F.value)}k.label=F.value;F=k}if(!bd){b()}bc=aD(0,true);if(!F.block){if(!T.expr&&(!bc||!bc.exps)){ak("Expected an assignment or function call and instead saw an expression.",aB)}else{if(T.nonew&&bc.id==="("&&bc.left.id==="new"){ak("Do not use 'new' for side effects.")}}if(k.id===","){return al()}if(k.id!==";"){if(!T.asi){if(!T.lastsemic||k.id!=="}"||k.line!==aB.line){Z("Missing semicolon.",aB.line,aB.character)}}}else{ar(aB,k);ac(";");Q(aB,k)}}am=ax;aC=bb;return bc}function aI(bc){var F=[],ax,bb;while(!k.reach&&k.id!=="(end)"){if(k.id===";"){bb=aN();if(!bb||bb.id!=="("){ak("Unnecessary semicolon.")}ac(";")}else{F.push(a5(bc===k.line))}}return F}function aX(){var ax,bb,F;for(;;){if(k.id==="(string)"){bb=aN(0);if(bb.id==="(endline)"){ax=1;do{F=aN(ax);ax=ax+1}while(F.id==="(endline)");if(F.id!==";"){if(F.id!=="(string)"&&F.id!=="(number)"&&F.id!=="(regexp)"&&F.identifier!==true&&F.id!=="}"){break}ak("Missing semicolon.",k)}else{bb=F}}else{if(bb.id==="}"){ak("Missing semicolon.",bb)}else{if(bb.id!==";"){break}}}b();ac();if(aw[aB.value]){ak('Unnecessary directive "{a}".',aB,aB.value)}if(aB.value==="use strict"){T.newcap=true;T.undef=true}aw[aB.value]=true;if(bb.id===";"){ac(";")}continue}break}}function D(bg,ax,bc){var bf,be=aA,F=am,bb,bj=aC,bh,bi,bd;aA=bg;if(!bg||!T.funcscope){aC=Object.create(aC)}Q(aB,k);bh=k;if(k.id==="{"){ac("{");bi=aB.line;if(k.id!=="}"){am+=T.indent;while(!bg&&k.from>am){am+=T.indent}if(bc){bb={};for(bd in aw){if(aP(aw,bd)){bb[bd]=aw[bd]}}aX();if(T.strict&&az["(context)"]["(global)"]){if(!bb["use strict"]&&!aw["use strict"]){ak('Missing "use strict" statement.')}}}bf=aI(bi);if(bc){aw=bb}am-=T.indent;if(bi!==k.line){b()}}else{if(bi!==k.line){b()}}ac("}",bh);am=F}else{if(!bg){aG("Expected '{a}' and instead saw '{b}'.",k,"{",k.value)}else{if(!ax||T.curly){ak("Expected '{a}' and instead saw '{b}'.",k,"{",k.value)}C=true;am+=T.indent;bf=[a5(k.line===aB.line)];am-=T.indent;C=false}}az["(verb)"]=null;if(!bg||!T.funcscope){aC=bj}aA=be;if(bg&&T.noempty&&(!bf||bf.length===0)){ak("Empty block.")}return bf}function h(F){if(aR&&typeof aR[F]!=="boolean"){ak("Unexpected /*member '{a}'.",aB,F)}if(typeof aF[F]==="number"){aF[F]+=1}else{aF[F]=1}}function a0(bc){var bb=bc.value,ax=bc.line,F=aQ[bb];if(typeof F==="function"){F=false}if(!F){F=[ax];aQ[bb]=F}else{if(F[F.length-1]!==ax){F.push(ax)}}}aa("(number)",function(){return this});aa("(string)",function(){return this});a["(identifier)"]={type:"(identifier)",lbp:0,identifier:true,nud:function(){var F=this.value,ax=aC[F],bb;if(typeof ax==="function"){ax=undefined}else{if(typeof ax==="boolean"){bb=az;az=z[0];u(F,"var");ax=az;az=bb}}if(az===ax){switch(az[F]){case"unused":az[F]="var";break;case"unction":az[F]="function";this["function"]=true;break;case"function":this["function"]=true;break;case"label":ak("'{a}' is a statement label.",aB,F);break}}else{if(az["(global)"]){if(T.undef&&typeof aZ[F]!=="boolean"){if(!(aW==="typeof"||aW==="delete")||(k&&(k.value==="."||k.value==="["))){c(az,"'{a}' is not defined.",aB,F)}}a0(aB)}else{switch(az[F]){case"closure":case"function":case"var":case"unused":ak("'{a}' used out of scope.",aB,F);break;case"label":ak("'{a}' is a statement label.",aB,F);break;case"outer":case"global":break;default:if(ax===true){az[F]=true}else{if(ax===null){ak("'{a}' is not allowed.",aB,F);a0(aB)}else{if(typeof ax!=="object"){if(T.undef){if(!(aW==="typeof"||aW==="delete")||(k&&(k.value==="."||k.value==="["))){c(az,"'{a}' is not defined.",aB,F)}}az[F]=true;a0(aB)}else{switch(ax[F]){case"function":case"unction":this["function"]=true;ax[F]="closure";az[F]=ax["(global)"]?"global":"outer";break;case"var":case"unused":ax[F]="closure";az[F]=ax["(global)"]?"global":"outer";break;case"closure":case"parameter":az[F]=ax["(global)"]?"global":"outer";break;case"label":ak("'{a}' is a statement label.",aB,F)}}}}}}}return this},led:function(){aG("Expected an operator and instead saw '{a}'.",k,k.value)}};aa("(regexp)",function(){return this});aL("(endline)");aL("(begin)");aL("(end)").reach=true;aL("</").reach=true;aL("<!");aL("<!--");aL("-->");aL("(error)").reach=true;aL("}").reach=true;aL(")");aL("]");aL('"').reach=true;aL("'").reach=true;aL(";");aL(":").reach=true;aL(",");aL("#");aL("@");p("else");p("case").reach=true;p("catch");p("default").reach=true;p("finally");U("arguments",function(F){if(aw["use strict"]&&az["(global)"]){ak("Strict violation.",F)}});U("eval");U("false");U("Infinity");U("NaN");U("null");U("this",function(F){if(aw["use strict"]&&!T.validthis&&((az["(statement)"]&&az["(name)"].charAt(0)>"Z")||az["(global)"])){ak("Possible strict violation.",F)}});U("true");U("undefined");ag("=","assign",20);ag("+=","assignadd",20);ag("-=","assignsub",20);ag("*=","assignmult",20);ag("/=","assigndiv",20).nud=function(){aG("A regular expression literal can be confused with '/='.")};ag("%=","assignmod",20);i("&=","assignbitand",20);i("|=","assignbitor",20);i("^=","assignbitxor",20);i("<<=","assignshiftleft",20);i(">>=","assignshiftright",20);i(">>>=","assignshiftrightunsigned",20);x("?",function(ax,F){F.left=ax;F.right=aD(10);ac(":");F["else"]=aD(10);return F},30);x("||","or",40);x("&&","and",50);ay("|","bitor",70);ay("^","bitxor",80);ay("&","bitand",90);a2("==",function(ax,F){var bb=T.eqnull&&(ax.value==="null"||F.value==="null");if(!bb&&T.eqeqeq){ak("Expected '{a}' and instead saw '{b}'.",this,"===","==")}else{if(a9(ax)){ak("Use '{a}' to compare with '{b}'.",this,"===",ax.value)}else{if(a9(F)){ak("Use '{a}' to compare with '{b}'.",this,"===",F.value)}}}return this});a2("===");a2("!=",function(ax,F){var bb=T.eqnull&&(ax.value==="null"||F.value==="null");if(!bb&&T.eqeqeq){ak("Expected '{a}' and instead saw '{b}'.",this,"!==","!=")}else{if(a9(ax)){ak("Use '{a}' to compare with '{b}'.",this,"!==",ax.value)}else{if(a9(F)){ak("Use '{a}' to compare with '{b}'.",this,"!==",F.value)}}}return this});a2("!==");a2("<");a2(">");a2("<=");a2(">=");ay("<<","shiftleft",120);ay(">>","shiftright",120);ay(">>>","shiftrightunsigned",120);x("in","in",120);x("instanceof","instanceof",120);x("+",function(bb,ax){var F=aD(130);if(bb&&F&&bb.id==="(string)"&&F.id==="(string)"){bb.value+=F.value;bb.character=F.character;if(!T.scripturl&&v.test(bb.value)){ak("JavaScript URL.",bb)}return bb}ax.left=bb;ax.right=F;return ax},130);aH("+","num");aH("+++",function(){ak("Confusing pluses.");this.right=aD(150);this.arity="unary";return this});x("+++",function(F){ak("Confusing pluses.");this.left=F;this.right=aD(130);return this},130);x("-","sub",130);aH("-","neg");aH("---",function(){ak("Confusing minuses.");this.right=aD(150);this.arity="unary";return this});x("---",function(F){ak("Confusing minuses.");this.left=F;this.right=aD(130);return this},130);x("*","mult",140);x("/","div",140);x("%","mod",140);av("++","postinc");aH("++","preinc");a["++"].exps=true;av("--","postdec");aH("--","predec");a["--"].exps=true;aH("delete",function(){var F=aD(0);if(!F||(F.id!=="."&&F.id!=="[")){ak("Variables should not be deleted.")}this.first=F;return this}).exps=true;aH("~",function(){if(T.bitwise){ak("Unexpected '{a}'.",this,"~")}aD(150);return this});aH("!",function(){this.right=aD(150);this.arity="unary";if(s[this.right.id]===true){ak("Confusing use of '{a}'.",this,"!")}return this});aH("typeof","typeof");aH("new",function(){var ax=aD(155),F;if(ax&&ax.id!=="function"){if(ax.identifier){ax["new"]=true;switch(ax.value){case"Number":case"String":case"Boolean":case"Math":case"JSON":ak("Do not use {a} as a constructor.",aB,ax.value);break;case"Function":if(!T.evil){ak("The Function constructor is eval.")}break;case"Date":case"RegExp":break;default:if(ax.id!=="function"){F=ax.value.substr(0,1);if(T.newcap&&(F<"A"||F>"Z")){ak("A constructor name should start with an uppercase letter.",aB)}}}}else{if(ax.id!=="."&&ax.id!=="["&&ax.id!=="("){ak("Bad constructor.",aB)}}}else{if(!T.supernew){ak("Weird construction. Delete 'new'.",this)}}ar(aB,k);if(k.id!=="("&&!T.supernew){ak("Missing '()' invoking a constructor.")}this.first=ax;return this});a["new"].exps=true;aH("void").exps=true;x(".",function(bb,ax){ar(aM,aB);aJ();var F=ae();if(typeof F==="string"){h(F)}ax.left=bb;ax.right=F;if(bb&&bb.value==="arguments"&&(F==="callee"||F==="caller")){if(T.noarg){ak("Avoid arguments.{a}.",bb,F)}else{if(aw["use strict"]){aG("Strict violation.")}}}else{if(!T.evil&&bb&&bb.value==="document"&&(F==="write"||F==="writeln")){ak("document.write can be a form of eval.",bb)}}if(!T.evil&&(F==="eval"||F==="execScript")){ak("eval is evil.")}return ax},160,true);x("(",function(bb,F){if(aM.id!=="}"&&aM.id!==")"){aJ(aM,aB)}R();if(T.immed&&!bb.immed&&bb.id==="function"){ak("Wrap an immediate function invocation in parentheses to assist the reader in understanding that the expression is the result of a function, and not the function itself.")}var bc=0,ax=[];if(bb){if(bb.type==="(identifier)"){if(bb.value.match(/^[A-Z]([A-Z0-9_$]*[a-z][A-Za-z0-9_$]*)?$/)){if(bb.value!=="Number"&&bb.value!=="String"&&bb.value!=="Boolean"&&bb.value!=="Date"){if(bb.value==="Math"){ak("Math is not a function.",bb)}else{if(T.newcap){ak("Missing 'new' prefix when invoking a constructor.",bb)}}}}}}if(k.id!==")"){for(;;){ax[ax.length]=aD(10);bc+=1;if(k.id!==","){break}al()}}ac(")");R(aM,aB);if(typeof bb==="object"){if(bb.value==="parseInt"&&bc===1){ak("Missing radix parameter.",bb)}if(!T.evil){if(bb.value==="eval"||bb.value==="Function"||bb.value==="execScript"){ak("eval is evil.",bb)}else{if(ax[0]&&ax[0].id==="(string)"&&(bb.value==="setTimeout"||bb.value==="setInterval")){ak("Implied eval is evil. Pass a function instead of a string.",bb)}}}if(!bb.identifier&&bb.id!=="."&&bb.id!=="["&&bb.id!=="("&&bb.id!=="&&"&&bb.id!=="||"&&bb.id!=="?"){ak("Bad invocation.",bb)}}F.left=bb;return F},155,true).exps=true;aH("(",function(){R();if(k.id==="function"){k.immed=true}var F=aD(0);ac(")",this);R(aM,aB);if(T.immed&&F.id==="function"){if(k.id==="("||(k.id==="."&&(aN().value==="call"||aN().value==="apply"))){ak("Move the invocation into the parens that contain the function.",k)}else{ak("Do not wrap function literals in parens unless they are to be immediately invoked.",this)}}return F});x("[",function(bc,ax){aJ(aM,aB);R();var bb=aD(0),F;if(bb&&bb.type==="(string)"){if(!T.evil&&(bb.value==="eval"||bb.value==="execScript")){ak("eval is evil.",ax)}h(bb.value);if(!T.sub&&L.test(bb.value)){F=a[bb.value];if(!F||!F.reserved){ak("['{a}'] is better written in dot notation.",bb,bb.value)}}}ac("]",ax);R(aM,aB);ax.left=bc;ax.right=bb;return ax},160,true);aH("[",function(){var F=aB.line!==k.line;this.first=[];if(F){am+=T.indent;if(k.from===am+T.indent){am+=T.indent}}while(k.id!=="(end)"){while(k.id===","){ak("Extra comma.");ac(",")}if(k.id==="]"){break}if(F&&aB.line!==k.line){b()}this.first.push(aD(10));if(k.id===","){al();if(k.id==="]"&&!T.es5){ak("Extra comma.",aB);break}}else{break}}if(F){am-=T.indent;b()}ac("]",this);return this},160);function f(){var F=l(true);if(!F){if(k.id==="(string)"){F=k.value;ac()}else{if(k.id==="(number)"){F=k.value.toString();ac()}}}return F}function N(){var ax,F=k,bb=[];ac("(");R();if(k.id===")"){ac(")");return}for(;;){ax=ae(true);bb.push(ax);u(ax,"parameter");if(k.id===","){al()}else{ac(")",F);R(aM,aB);return bb}}}function I(bb,bc){var bd,ax=T,F=aC;T=Object.create(T);aC=Object.create(aC);az={"(name)":bb||'"'+aW+'"',"(line)":k.line,"(context)":az,"(breakage)":0,"(loopage)":0,"(scope)":aC,"(statement)":bc};bd=az;aB.funct=az;z.push(az);if(bb){u(bb,"function")}az["(params)"]=N();D(false,false,true);aC=F;T=ax;az["(last)"]=aB.line;az=az["(context)"];return bd}(function(F){F.nud=function(){var bj,bg,bf,be,bb,bk;var bi={};function bc(bl,bm){if(bi[bl]&&aP(bi,bl)){ak("Duplicate member '{a}'.",k,bf)}else{bi[bl]={}}bi[bl].basic=true;bi[bl].basicToken=bm}function bd(bl,bm){if(bi[bl]&&aP(bi,bl)){if(bi[bl].basic||bi[bl].setter){ak("Duplicate member '{a}'.",k,bf)}}else{bi[bl]={}}bi[bl].setter=true;bi[bl].setterToken=bm}function bh(bl){if(bi[bl]&&aP(bi,bl)){if(bi[bl].basic||bi[bl].getter){ak("Duplicate member '{a}'.",k,bf)}}else{bi[bl]={}}bi[bl].getter=true;bi[bl].getterToken=aB}bj=aB.line!==k.line;if(bj){am+=T.indent;if(k.from===am+T.indent){am+=T.indent}}for(;;){if(k.id==="}"){break}if(bj){b()}if(k.value==="get"&&aN().id!==":"){ac("get");if(!T.es5){aG("get/set are ES5 features.")}bf=f();if(!bf){aG("Missing property name.")}bh(bf);bk=k;ar(aB,k);bg=I();bb=bg["(params)"];if(bb){ak("Unexpected parameter '{a}' in get {b} function.",bk,bb[0],bf)}ar(aB,k)}else{if(k.value==="set"&&aN().id!==":"){ac("set");if(!T.es5){aG("get/set are ES5 features.")}bf=f();if(!bf){aG("Missing property name.")}bd(bf,k);bk=k;ar(aB,k);bg=I();bb=bg["(params)"];if(!bb||bb.length!==1){ak("Expected a single parameter in set {a} function.",bk,bf)}}else{bf=f();bc(bf,k);if(typeof bf!=="string"){break}ac(":");Q(aB,k);aD(10)}}h(bf);if(k.id===","){al();if(k.id===","){ak("Extra comma.",aB)}else{if(k.id==="}"&&!T.es5){ak("Extra comma.",aB)}}}else{break}}if(bj){am-=T.indent;b()}ac("}",this);if(T.es5){for(var ax in bi){if(aP(bi,ax)&&bi[ax].setter&&!bi[ax].getter){ak("Setter is defined without getter.",bi[ax].setterToken)}}}return this};F.fud=function(){aG("Expected to see a statement and instead saw a block.",aB)}}(aL("{")));M=function(){var F=g("const",function(bc){var bd,ax,bb;this.first=[];for(;;){Q(aB,k);bd=ae();if(az[bd]==="const"){ak("const '"+bd+"' has already been declared")}if(az["(global)"]&&aZ[bd]===false){ak("Redefinition of '{a}'.",aB,bd)}u(bd,"const");if(bc){break}ax=aB;this.first.push(aB);if(k.id!=="="){ak("const '{a}' is initialized to 'undefined'.",aB,bd)}if(k.id==="="){Q(aB,k);ac("=");Q(aB,k);if(k.id==="undefined"){ak("It is not necessary to initialize '{a}' to 'undefined'.",aB,bd)}if(aN(0).id==="="&&k.identifier){aG("Constant {a} was not declared correctly.",k,k.value)}bb=aD(0);ax.first=bb}if(k.id!==","){break}al()}return this});F.exps=true};var aO=g("var",function(bb){var bc,F,ax;if(az["(onevar)"]&&T.onevar){ak("Too many var statements.")}else{if(!az["(global)"]){az["(onevar)"]=true}}this.first=[];for(;;){Q(aB,k);bc=ae();if(T.esnext&&az[bc]==="const"){ak("const '"+bc+"' has already been declared")}if(az["(global)"]&&aZ[bc]===false){ak("Redefinition of '{a}'.",aB,bc)}u(bc,"unused");if(bb){break}F=aB;this.first.push(aB);if(k.id==="="){Q(aB,k);ac("=");Q(aB,k);if(k.id==="undefined"){ak("It is not necessary to initialize '{a}' to 'undefined'.",aB,bc)}if(aN(0).id==="="&&k.identifier){aG("Variable {a} was not declared correctly.",k,k.value)}ax=aD(0);F.first=ax}if(k.id!==","){break}al()}return this});aO.exps=true;aY("function",function(){if(aA){ak("Function declarations should not be placed in blocks. Use a function expression or move the statement to the top of the outer function.",aB)}var F=ae();if(T.esnext&&az[F]==="const"){ak("const '"+F+"' has already been declared")}ar(aB,k);u(F,"unction");I(F,true);if(k.id==="("&&k.line===aB.line){aG("Function declarations are not invocable. Wrap the whole function invocation in parens.")}return this});aH("function",function(){var F=l();if(F){ar(aB,k)}else{Q(aB,k)}I(F);if(!T.loopfunc&&az["(loopage)"]){ak("Don't make functions within a loop.")}return this});aY("if",function(){var F=k;ac("(");Q(this,F);R();aD(20);if(k.id==="="){if(!T.boss){ak("Expected a conditional expression and instead saw an assignment.")}ac("=");aD(20)}ac(")",F);R(aM,aB);D(true,true);if(k.id==="else"){Q(aB,k);ac("else");if(k.id==="if"||k.id==="switch"){a5(true)}else{D(true,true)}}return this});aY("try",function(){var F,bb,ax;D(false);if(k.id==="catch"){ac("catch");Q(aB,k);ac("(");ax=aC;aC=Object.create(ax);bb=k.value;if(k.type!=="(identifier)"){ak("Expected an identifier and instead saw '{a}'.",k,bb)}else{u(bb,"exception")}ac();ac(")");D(false);F=true;aC=ax}if(k.id==="finally"){ac("finally");D(false);return}else{if(!F){aG("Expected '{a}' and instead saw '{b}'.",k,"catch",k.value)}}return this});aY("while",function(){var F=k;az["(breakage)"]+=1;az["(loopage)"]+=1;ac("(");Q(this,F);R();aD(20);if(k.id==="="){if(!T.boss){ak("Expected a conditional expression and instead saw an assignment.")}ac("=");aD(20)}ac(")",F);R(aM,aB);D(true,true);az["(breakage)"]-=1;az["(loopage)"]-=1;return this}).labelled=true;aY("with",function(){var F=k;if(aw["use strict"]){aG("'with' is not allowed in strict mode.",aB)}else{if(!T.withstmt){ak("Don't use 'with'.",aB)}}ac("(");Q(this,F);R();aD(0);ac(")",F);R(aM,aB);D(true,true);return this});aY("switch",function(){var F=k,ax=false;az["(breakage)"]+=1;ac("(");Q(this,F);R();this.condition=aD(20);ac(")",F);R(aM,aB);Q(aB,k);F=k;ac("{");Q(aB,k);am+=T.indent;this.cases=[];for(;;){switch(k.id){case"case":switch(az["(verb)"]){case"break":case"case":case"continue":case"return":case"switch":case"throw":break;default:if(!aT.test(a4[k.line-2])){ak("Expected a 'break' statement before 'case'.",aB)}}b(-T.indent);ac("case");this.cases.push(aD(20));ax=true;ac(":");az["(verb)"]="case";break;case"default":switch(az["(verb)"]){case"break":case"continue":case"return":case"throw":break;default:if(!aT.test(a4[k.line-2])){ak("Expected a 'break' statement before 'default'.",aB)}}b(-T.indent);ac("default");ax=true;ac(":");break;case"}":am-=T.indent;b();ac("}",F);if(this.cases.length===1||this.condition.id==="true"||this.condition.id==="false"){if(!T.onecase){ak("This 'switch' should be an 'if'.",this)}}az["(breakage)"]-=1;az["(verb)"]=undefined;return;case"(end)":aG("Missing '{a}'.",k,"}");return;default:if(ax){switch(aB.id){case",":aG("Each value should have its own case label.");return;case":":ax=false;aI();break;default:aG("Missing ':' on a case clause.",aB);return}}else{if(aB.id===":"){ac(":");aG("Unexpected '{a}'.",aB,":");aI()}else{aG("Expected '{a}' and instead saw '{b}'.",k,"case",k.value);return}}}}}).labelled=true;g("debugger",function(){if(!T.debug){ak("All 'debugger' statements should be removed.")}return this}).exps=true;(function(){var F=g("do",function(){az["(breakage)"]+=1;az["(loopage)"]+=1;this.first=D(true);ac("while");var ax=k;Q(aB,ax);ac("(");R();aD(20);if(k.id==="="){if(!T.boss){ak("Expected a conditional expression and instead saw an assignment.")}ac("=");aD(20)}ac(")",ax);R(aM,aB);az["(breakage)"]-=1;az["(loopage)"]-=1;return this});F.labelled=true;F.exps=true}());aY("for",function(){var ax,F=k;az["(breakage)"]+=1;az["(loopage)"]+=1;ac("(");Q(this,F);R();if(aN(k.id==="var"?1:0).id==="in"){if(k.id==="var"){ac("var");aO.fud.call(aO,true)}else{switch(az[k.value]){case"unused":az[k.value]="var";break;case"var":break;default:ak("Bad for in variable '{a}'.",k,k.value)}ac()}ac("in");aD(20);ac(")",F);ax=D(true,true);if(T.forin&&ax&&(ax.length>1||typeof ax[0]!=="object"||ax[0].value!=="if")){ak("The body of a for in should be wrapped in an if statement to filter unwanted properties from the prototype.",this)}az["(breakage)"]-=1;az["(loopage)"]-=1;return this}else{if(k.id!==";"){if(k.id==="var"){ac("var");aO.fud.call(aO)}else{for(;;){aD(0,"for");if(k.id!==","){break}al()}}}a7(aB);ac(";");if(k.id!==";"){aD(20);if(k.id==="="){if(!T.boss){ak("Expected a conditional expression and instead saw an assignment.")}ac("=");aD(20)}}a7(aB);ac(";");if(k.id===";"){aG("Expected '{a}' and instead saw '{b}'.",k,")",";")}if(k.id!==")"){for(;;){aD(0,"for");if(k.id!==","){break}al()}}ac(")",F);R(aM,aB);D(true,true);az["(breakage)"]-=1;az["(loopage)"]-=1;return this}}).labelled=true;g("break",function(){var F=k.value;if(az["(breakage)"]===0){ak("Unexpected '{a}'.",k,this.value)}if(!T.asi){a7(this)}if(k.id!==";"){if(aB.line===k.line){if(az[F]!=="label"){ak("'{a}' is not a statement label.",k,F)}else{if(aC[F]!==az){ak("'{a}' is out of scope.",k,F)}}this.first=k;ac()}}W("break");return this}).exps=true;g("continue",function(){var F=k.value;if(az["(breakage)"]===0){ak("Unexpected '{a}'.",k,this.value)}if(!T.asi){a7(this)}if(k.id!==";"){if(aB.line===k.line){if(az[F]!=="label"){ak("'{a}' is not a statement label.",k,F)}else{if(aC[F]!==az){ak("'{a}' is out of scope.",k,F)}}this.first=k;ac()}}else{if(!az["(loopage)"]){ak("Unexpected '{a}'.",k,this.value)}}W("continue");return this}).exps=true;g("return",function(){if(this.line===k.line){if(k.id==="(regexp)"){ak("Wrap the /regexp/ literal in parens to disambiguate the slash operator.")}if(k.id!==";"&&!k.reach){Q(aB,k);if(aN().value==="="&&!T.boss){Z("Did you mean to return a conditional instead of an assignment?",aB.line,aB.character+1)}this.first=aD(0)}}else{if(!T.asi){a7(this)}}W("return");return this}).exps=true;g("throw",function(){a7(this);Q(aB,k);this.first=aD(20);W("throw");return this}).exps=true;p("class");p("const");p("enum");p("export");p("extends");p("import");p("super");p("let");p("yield");p("implements");p("interface");p("package");p("private");p("protected");p("public");p("static");function o(){function F(){var bc={},bb=k;ac("{");if(k.id!=="}"){for(;;){if(k.id==="(end)"){aG("Missing '}' to match '{' from line {a}.",k,bb.line)}else{if(k.id==="}"){ak("Unexpected comma.",aB);break}else{if(k.id===","){aG("Unexpected comma.",k)}else{if(k.id!=="(string)"){ak("Expected a string and instead saw {a}.",k,k.value)}}}}if(bc[k.value]===true){ak("Duplicate key '{a}'.",k,k.value)}else{if((k.value==="__proto__"&&!T.proto)||(k.value==="__iterator__"&&!T.iterator)){ak("The '{a}' key may produce unexpected results.",k,k.value)}else{bc[k.value]=true}}ac();ac(":");o();if(k.id!==","){break}ac(",")}}ac("}")}function ax(){var bb=k;ac("[");if(k.id!=="]"){for(;;){if(k.id==="(end)"){aG("Missing ']' to match '[' from line {a}.",k,bb.line)}else{if(k.id==="]"){ak("Unexpected comma.",aB);break}else{if(k.id===","){aG("Unexpected comma.",k)}}}o();if(k.id!==","){break}ac(",")}}ac("]")}switch(k.id){case"{":F();break;case"[":ax();break;case"true":case"false":case"null":case"(number)":case"(string)":ac();break;case"-":ac("-");if(aB.character!==k.from){ak("Unexpected space after '-'.",aB)}ar(aB,k);ac("(number)");break;default:aG("Expected a JSON value.",k)}}var H=function(bm,ax,bf){var bj,bd,bc,bk,bl,bb={};JSHINT.errors=[];JSHINT.undefs=[];aZ=Object.create(a3);a8(aZ,bf||{});if(ax){bj=ax.predef;if(bj){if(Array.isArray(bj)){for(bd=0;bd<bj.length;bd+=1){aZ[bj[bd]]=true}}else{if(typeof bj==="object"){bc=Object.keys(bj);for(bd=0;bd<bc.length;bd+=1){aZ[bc[bd]]=!!bj[bc[bd]]}}}}bl=Object.keys(ax);for(bk=0;bk<bl.length;bk++){bb[bl[bk]]=ax[bl[bk]]}}T=bb;T.indent=T.indent||4;T.maxerr=T.maxerr||50;m="";for(bd=0;bd<T.indent;bd+=1){m+=" "}am=1;A=Object.create(aZ);aC=A;az={"(global)":true,"(name)":"(global)","(scope)":aC,"(breakage)":0,"(loopage)":0};z=[az];S=[];au=null;aF={};aR=null;aQ={};aA=false;K=[];j=false;y=0;aj.init(bm);q=true;aw={};aM=aB=k=a["(begin)"];for(var F in ax){if(aP(ax,F)){a1(F,aB)}}af();a8(aZ,bf||{});al.first=true;try{ac();switch(k.id){case"{":case"[":T.laxbreak=true;j=true;o();break;default:aX();if(aw["use strict"]&&!T.globalstrict){ak('Use the function form of "use strict".',aM)}aI()}ac("(end)");var be=function(bn,bo){do{if(typeof bo[bn]==="string"){if(bo[bn]==="unused"){bo[bn]="var"}else{if(bo[bn]==="unction"){bo[bn]="closure"}}return true}bo=bo["(context)"]}while(bo);return false};var bi=function(bo,bn){if(!aQ[bo]){return}var bq=[];for(var bp=0;bp<aQ[bo].length;bp+=1){if(aQ[bo][bp]!==bn){bq.push(aQ[bo][bp])}}if(bq.length===0){delete aQ[bo]}else{aQ[bo]=bq}};for(bd=0;bd<JSHINT.undefs.length;bd+=1){bc=JSHINT.undefs[bd].slice(0);if(be(bc[2].value,bc[0])){bi(bc[2].value,bc[2].line)}else{ak.apply(ak,bc.slice(1))}}}catch(bg){if(bg){var bh=k||{};JSHINT.errors.push({raw:bg.raw,reason:bg.message,line:bg.line||bh.line,character:bg.character||bh.from},null)}}return JSHINT.errors.length===0};H.data=function(){var be={functions:[],options:T},bd,bf,bj=[],bh,bg,bb,bc=[],F,ax=[],bi;if(H.errors.length){be.errors=H.errors}if(j){be.json=true}for(F in aQ){if(aP(aQ,F)){bj.push({name:F,line:aQ[F]})}}if(bj.length>0){be.implieds=bj}if(S.length>0){be.urls=S}bf=Object.keys(aC);if(bf.length>0){be.globals=bf}for(bg=1;bg<z.length;bg+=1){bh=z[bg];bd={};for(bb=0;bb<aK.length;bb+=1){bd[aK[bb]]=[]}for(F in bh){if(aP(bh,F)&&F.charAt(0)!=="("){bi=bh[F];if(bi==="unction"){bi="unused"}if(Array.isArray(bd[bi])){bd[bi].push(F);if(bi==="unused"){ax.push({name:F,line:bh["(line)"],"function":bh["(name)"]})}}}}for(bb=0;bb<aK.length;bb+=1){if(bd[aK[bb]].length===0){delete bd[aK[bb]]}}bd.name=bh["(name)"];bd.param=bh["(params)"];bd.line=bh["(line)"];bd.last=bh["(last)"];be.functions.push(bd)}if(ax.length>0){be.unused=ax}bc=[];for(F in aF){if(typeof aF[F]==="number"){be.member=aF;break}}return be};H.report=function(bh){var bf=H.data();var bm=[],bl,bk,be,bj,bg,bd,bc,bb="",ax,F=[],bn;function bi(br,bs){var bo,bq,bp;if(bs){F.push("<div><i>"+br+"</i> ");bs=bs.sort();for(bq=0;bq<bs.length;bq+=1){if(bs[bq]!==bp){bp=bs[bq];F.push((bo?", ":"")+bp);bo=true}}F.push("</div>")}}if(bf.errors||bf.implieds||bf.unused){be=true;F.push("<div id=errors><i>Error:</i>");if(bf.errors){for(bg=0;bg<bf.errors.length;bg+=1){bl=bf.errors[bg];if(bl){bk=bl.evidence||"";F.push("<p>Problem"+(isFinite(bl.line)?" at line "+bl.line+" character "+bl.character:"")+": "+bl.reason.entityify()+"</p><p class=evidence>"+(bk&&(bk.length>80?bk.slice(0,77)+"...":bk).entityify())+"</p>")}}}if(bf.implieds){bn=[];for(bg=0;bg<bf.implieds.length;bg+=1){bn[bg]="<code>"+bf.implieds[bg].name+"</code>&nbsp;<i>"+bf.implieds[bg].line+"</i>"}F.push("<p><i>Implied global:</i> "+bn.join(", ")+"</p>")}if(bf.unused){bn=[];for(bg=0;bg<bf.unused.length;bg+=1){bn[bg]="<code><u>"+bf.unused[bg].name+"</u></code>&nbsp;<i>"+bf.unused[bg].line+"</i> <code>"+bf.unused[bg]["function"]+"</code>"}F.push("<p><i>Unused variable:</i> "+bn.join(", ")+"</p>")}if(bf.json){F.push("<p>JSON: bad.</p>")}F.push("</div>")}if(!bh){F.push("<br><div id=functions>");if(bf.urls){bi("URLs<br>",bf.urls,"<br>")}if(bf.json&&!be){F.push("<p>JSON: good.</p>")}else{if(bf.globals){F.push("<div><i>Global</i> "+bf.globals.sort().join(", ")+"</div>")}else{F.push("<div><i>No new global variables introduced.</i></div>")}}for(bg=0;bg<bf.functions.length;bg+=1){bj=bf.functions[bg];F.push("<br><div class=function><i>"+bj.line+"-"+bj.last+"</i> "+(bj.name||"")+"("+(bj.param?bj.param.join(", "):"")+")</div>");bi("<big><b>Unused</b></big>",bj.unused);bi("Closure",bj.closure);bi("Variable",bj["var"]);bi("Exception",bj.exception);bi("Outer",bj.outer);bi("Global",bj.global);bi("Label",bj.label)}if(bf.member){bm=Object.keys(bf.member);if(bm.length){bm=bm.sort();bb="<br><pre id=members>/*members ";bc=10;for(bg=0;bg<bm.length;bg+=1){bd=bm[bg];ax=bd.name();if(bc+ax.length>72){F.push(bb+"<br>");bb="    ";bc=1}bc+=ax.length+2;if(bf.member[bd]===1){ax="<i>"+ax+"</i>"}if(bg<bm.length-1){ax+=", "}bb+=ax}F.push(bb+"<br>*/</pre>")}F.push("</div>")}}return F.join("")};H.jshint=H;return H}());if(typeof exports==="object"&&exports){exports.JSHINT=JSHINT}(function(a){a(CodeMirror)})(function(o){var b="CodeMirror-lint-markers";var p=/^(?:error|warning)$/;function f(x,w){var v=document.createElement("div");v.className="CodeMirror-lint-tooltip";v.appendChild(w.cloneNode(true));document.body.appendChild(v);function u(y){if(!v.parentNode){return o.off(document,"mousemove",u)}v.style.top=Math.max(0,y.clientY-v.offsetHeight-5)+"px";v.style.left=(y.clientX+5)+"px"}o.on(document,"mousemove",u);u(x);if(v.style.opacity!=null){v.style.opacity=1}return v}function k(u){if(u.parentNode){u.parentNode.removeChild(u)}}function i(u){if(!u.parentNode){return}if(u.style.opacity==null){k(u)}u.style.opacity=0;setTimeout(function(){k(u)},600)}function t(y,w,v){var x=f(y,w);function u(){o.off(v,"mouseout",u);if(x){i(x);x=null}}var z=setInterval(function(){if(x){for(var A=v;;A=A.parentNode){if(A==document.body){return}if(!A){u();break}}}if(!x){return clearInterval(z)}},400);o.on(v,"mouseout",u)}function m(u,w,v){this.marked=[];this.options=w;this.timeout=null;this.hasGutter=v;this.onMouseOver=function(x){n(u,x)}}function a(u,v){if(v instanceof Function){return{getAnnotations:v}}if(!v||v===true){v={}}if(!v.getAnnotations){v.getAnnotations=u.getHelper(o.Pos(0,0),"lint")}if(!v.getAnnotations){throw new Error("Required option 'getAnnotations' missing (lint addon)")}return v}function e(u){var w=u.state.lint;if(w.hasGutter){u.clearGutter(b)}for(var v=0;v<w.marked.length;++v){w.marked[v].clear()}w.marked.length=0}function s(z,x,u,y){var v=document.createElement("div"),w=v;v.className="CodeMirror-lint-marker-"+x;if(u){w=v.appendChild(document.createElement("div"));w.className="CodeMirror-lint-marker-multiple"}if(y!=false){o.on(w,"mouseover",function(A){t(A,z,w)})}return v}function g(v,u){if(v=="error"){return v}else{return u}}function h(y){var v=[];for(var w=0;w<y.length;++w){var x=y[w],u=x.from.line;(v[u]||(v[u]=[])).push(x)}return v}function c(w){var u=w.severity;if(!p.test(u)){u="error"}var v=document.createElement("div");v.className="CodeMirror-lint-message-"+u;v.appendChild(document.createTextNode(w.message));return v}function r(u){var w=u.state.lint,v=w.options;if(v.async){v.getAnnotations(u,l,v)}else{l(u,v.getAnnotations(u.getValue(),v.options))}}function l(B,A){e(B);var v=B.state.lint,D=v.options;var z=h(A);for(var E=0;E<z.length;++E){var x=z[E];if(!x){continue}var F=null;var w=v.hasGutter&&document.createDocumentFragment();for(var y=0;y<x.length;++y){var u=x[y];var C=u.severity;if(!p.test(C)){C="error"}F=g(F,C);if(D.formatAnnotation){u=D.formatAnnotation(u)}if(v.hasGutter){w.appendChild(c(u))}if(u.to){v.marked.push(B.markText(u.from,u.to,{className:"CodeMirror-lint-mark-"+C,__annotation:u}))}}if(v.hasGutter){B.setGutterMarker(E,b,s(w,F,x.length>1,v.options.tooltips))}}if(D.onUpdateLinting){D.onUpdateLinting(A,z,B)}}function q(u){var v=u.state.lint;clearTimeout(v.timeout);v.timeout=setTimeout(function(){r(u)},v.options.delay||500)}function j(u,w){var v=w.target||w.srcElement;t(w,c(u),v)}var d=[0,0,0,5,0,-5,5,0,-5,0];function n(u,A){if(!/\bCodeMirror-lint-mark-/.test((A.target||A.srcElement).className)){return}for(var x=0;x<d.length;x+=2){var w=u.findMarksAt(u.coordsChar({left:A.clientX+d[x],top:A.clientY+d[x+1]},"client"));for(var v=0;v<w.length;++v){var y=w[v],z=y.__annotation;if(z){return j(z,A)}}}}o.defineOption("lint",false,function(u,A,v){if(v&&v!=o.Init){e(u);u.off("change",q);o.off(u.getWrapperElement(),"mouseover",u.state.lint.onMouseOver);delete u.state.lint}if(A){var w=u.getOption("gutters"),y=false;for(var x=0;x<w.length;++x){if(w[x]==b){y=true}}var z=u.state.lint=new m(u,a(u,A),y);u.on("change",q);if(z.options.tooltips!=false){o.on(u.getWrapperElement(),"mouseover",z.onMouseOver)}r(u)}})});(function(a){a(CodeMirror)})(function(f){var d=["Dangerous comment"];var g=[["Expected '{'","Statement body should be inside '{ }' braces."]];var h=["Missing semicolon","Extra comma","Missing property name","Unmatched "," and instead saw"," is not defined","Unclosed string","Stopping, unable to continue"];function a(l,k){if(!window.JSHINT){return[]}JSHINT(l,k);var m=JSHINT.data().errors,j=[];if(m){i(m,j)}return j}f.registerHelper("lint","javascript",a);function c(j){e(j,g,"warning",true);e(j,h,"error");return b(j)?null:j}function e(o,p,s,j){var q,m,n,k,r;q=o.description;for(var l=0;l<p.length;l++){m=p[l];n=(typeof m==="string"?m:m[0]);k=(typeof m==="string"?null:m[1]);r=q.indexOf(n)!==-1;if(j||r){o.severity=s}if(r&&k){o.description=k}}}function b(j){var l=j.description;for(var k=0;k<d.length;k++){if(l.indexOf(d[k])!==-1){return true}}return false}function i(t,m){for(var o=0;o<t.length;o++){var r=t[o];if(r){var u,q;u=[];if(r.evidence){var j=u[r.line];if(!j){var l=r.evidence,v,p,w;j=[];p=l.length;for(v=0;v<p;v++){w=l[v];if(w==="\t"){j.push(v+1)}}u[r.line]=j}if(j.length>0){var s=r.character;j.forEach(function(x){if(s>x){s-=1}});r.character=s}}var k=r.character-1,n=k+1;if(r.evidence){q=r.evidence.substring(k).search(/.\b/);if(q>-1){n+=q}}r.description=r.reason;r.start=r.character;r.end=n;r=c(r);if(r){m.push({message:r.description,severity:r.severity,from:f.Pos(r.line-1,k),to:f.Pos(r.line-1,n)})}}}}});(function(a){a(CodeMirror)})(function(a){a.defineMode("xml",function(y,k){var p=y.indentUnit;var x=k.multilineTagIndentFactor||1;var d=k.multilineTagIndentPastTag;if(d==null){d=true}var w=k.htmlMode?{autoSelfClosers:{area:true,base:true,br:true,col:true,command:true,embed:true,frame:true,hr:true,img:true,input:true,keygen:true,link:true,meta:true,param:true,source:true,track:true,wbr:true},implicitlyClosed:{dd:true,li:true,optgroup:true,option:true,p:true,rp:true,rt:true,tbody:true,td:true,tfoot:true,th:true,tr:true},contextGrabbers:{dd:{dd:true,dt:true},dt:{dd:true,dt:true},li:{li:true},option:{option:true,optgroup:true},optgroup:{optgroup:true},p:{address:true,article:true,aside:true,blockquote:true,dir:true,div:true,dl:true,fieldset:true,footer:true,form:true,h1:true,h2:true,h3:true,h4:true,h5:true,h6:true,header:true,hgroup:true,hr:true,menu:true,nav:true,ol:true,p:true,pre:true,section:true,table:true,ul:true},rp:{rp:true,rt:true},rt:{rp:true,rt:true},tbody:{tbody:true,tfoot:true},td:{td:true,th:true},tfoot:{tbody:true},th:{td:true,th:true},thead:{tbody:true,tfoot:true},tr:{tr:true}},doNotIndent:{pre:true},allowUnquoted:true,allowMissing:true,caseFold:true}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:false,allowMissing:false,caseFold:false};var c=k.alignCDATA;var f,g;function n(F,E){function C(G){E.tokenize=G;return G(F,E)}var D=F.next();if(D=="<"){if(F.eat("!")){if(F.eat("[")){if(F.match("CDATA[")){return C(v("atom","]]>"))}else{return null}}else{if(F.match("--")){return C(v("comment","-->"))}else{if(F.match("DOCTYPE",true,true)){F.eatWhile(/[\w\._\-]/);return C(z(1))}else{return null}}}}else{if(F.eat("?")){F.eatWhile(/[\w\._\-]/);E.tokenize=v("meta","?>");return"meta"}else{f=F.eat("/")?"closeTag":"openTag";E.tokenize=m;return"tag bracket"}}}else{if(D=="&"){var B;if(F.eat("#")){if(F.eat("x")){B=F.eatWhile(/[a-fA-F\d]/)&&F.eat(";")}else{B=F.eatWhile(/[\d]/)&&F.eat(";")}}else{B=F.eatWhile(/[\w\.\-:]/)&&F.eat(";")}return B?"atom":"error"}else{F.eatWhile(/[^&<]/);return null}}}function m(E,D){var C=E.next();if(C==">"||(C=="/"&&E.eat(">"))){D.tokenize=n;f=C==">"?"endTag":"selfcloseTag";return"tag bracket"}else{if(C=="="){f="equals";return null}else{if(C=="<"){D.tokenize=n;D.state=l;D.tagName=D.tagStart=null;var B=D.tokenize(E,D);return B?B+" tag error":"tag error"}else{if(/[\'\"]/.test(C)){D.tokenize=j(C);D.stringStartCol=E.column();return D.tokenize(E,D)}else{E.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/);return"word"}}}}}function j(B){var C=function(E,D){while(!E.eol()){if(E.next()==B){D.tokenize=m;break}}return"string"};C.isInAttribute=true;return C}function v(C,B){return function(E,D){while(!E.eol()){if(E.match(B)){D.tokenize=n;break}E.next()}return C}}function z(B){return function(E,D){var C;while((C=E.next())!=null){if(C=="<"){D.tokenize=z(B+1);return D.tokenize(E,D)}else{if(C==">"){if(B==1){D.tokenize=n;break}else{D.tokenize=z(B-1);return D.tokenize(E,D)}}}}return"meta"}}function r(C,B,D){this.prev=C.context;this.tagName=B;this.indent=C.indented;this.startOfLine=D;if(w.doNotIndent.hasOwnProperty(B)||(C.context&&C.context.noIndent)){this.noIndent=true}}function u(B){if(B.context){B.context=B.context.prev}}function q(D,C){var B;while(true){if(!D.context){return}B=D.context.tagName;if(!w.contextGrabbers.hasOwnProperty(B)||!w.contextGrabbers[B].hasOwnProperty(C)){return}u(D)}}function l(B,D,C){if(B=="openTag"){C.tagStart=D.column();return b}else{if(B=="closeTag"){return t}else{return l}}}function b(B,D,C){if(B=="word"){C.tagName=D.current();g="tag";return e}else{g="error";return b}}function t(C,E,D){if(C=="word"){var B=E.current();if(D.context&&D.context.tagName!=B&&w.implicitlyClosed.hasOwnProperty(D.context.tagName)){u(D)}if(D.context&&D.context.tagName==B){g="tag";return s}else{g="tag error";return A}}else{g="error";return A}}function s(C,B,D){if(C!="endTag"){g="error";return s}u(D);return l}function A(B,D,C){g="error";return s(B,D,C)}function e(E,C,F){if(E=="word"){g="attribute";return i}else{if(E=="endTag"||E=="selfcloseTag"){var D=F.tagName,B=F.tagStart;F.tagName=F.tagStart=null;if(E=="selfcloseTag"||w.autoSelfClosers.hasOwnProperty(D)){q(F,D)}else{q(F,D);F.context=new r(F,D,B==F.indented)}return l}}g="error";return e}function i(B,D,C){if(B=="equals"){return o}if(!w.allowMissing){g="error"}return e(B,D,C)}function o(B,D,C){if(B=="string"){return h}if(B=="word"&&w.allowUnquoted){g="string";return e}g="error";return e(B,D,C)}function h(B,D,C){if(B=="string"){return h}return e(B,D,C)}return{startState:function(){return{tokenize:n,state:l,indented:0,tagName:null,tagStart:null,context:null}},token:function(D,C){if(!C.tagName&&D.sol()){C.indented=D.indentation()}if(D.eatSpace()){return null}f=null;var B=C.tokenize(D,C);if((B||f)&&B!="comment"){g=null;C.state=C.state(f||B,D,C);if(g){B=g=="error"?B+" error":g}}return B},indent:function(G,C,F){var E=G.context;if(G.tokenize.isInAttribute){if(G.tagStart==G.indented){return G.stringStartCol+1}else{return G.indented+p}}if(E&&E.noIndent){return a.Pass}if(G.tokenize!=m&&G.tokenize!=n){return F?F.match(/^(\s*)/)[0].length:0}if(G.tagName){if(d){return G.tagStart+G.tagName.length+2}else{return G.tagStart+p*x}}if(c&&/<!\[CDATA\[/.test(C)){return 0}var B=C&&/^<(\/)?([\w_:\.-]*)/.exec(C);if(B&&B[1]){while(E){if(E.tagName==B[2]){E=E.prev;break}else{if(w.implicitlyClosed.hasOwnProperty(E.tagName)){E=E.prev}else{break}}}}else{if(B){while(E){var D=w.contextGrabbers[E.tagName];if(D&&D.hasOwnProperty(B[2])){E=E.prev}else{break}}}}while(E&&!E.startOfLine){E=E.prev}if(E){return E.indent+p}else{return 0}},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:k.htmlMode?"html":"xml",helperType:k.htmlMode?"html":"xml"}});a.defineMIME("text/xml","xml");a.defineMIME("application/xml","xml");if(!a.mimeModes.hasOwnProperty("text/html")){a.defineMIME("text/html",{name:"xml",htmlMode:true})}});(function(a){a(CodeMirror)})(function(a){a.defineMode("htmlmixed",function(c,d){var b=a.getMode(c,{name:"xml",htmlMode:true,multilineTagIndentFactor:d.multilineTagIndentFactor,multilineTagIndentPastTag:d.multilineTagIndentPastTag});var n=a.getMode(c,"css");var l=[],k=d&&d.scriptTypes;l.push({matches:/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,mode:a.getMode(c,"javascript")});if(k){for(var e=0;e<k.length;++e){var j=k[e];l.push({matches:j.matches,mode:j.mode&&a.getMode(c,j.mode)})}}l.push({matches:/./,mode:a.getMode(c,"text/plain")});function f(t,r){var p=r.htmlState.tagName;var q=b.token(t,r.htmlState);if(p=="script"&&/\btag\b/.test(q)&&t.current()==">"){var u=t.string.slice(Math.max(0,t.pos-100),t.pos).match(/\btype\s*=\s*("[^"]+"|'[^']+'|\S+)[^<]*$/i);u=u?u[1]:"";if(u&&/[\"\']/.test(u.charAt(0))){u=u.slice(1,u.length-1)}for(var o=0;o<l.length;++o){var s=l[o];if(typeof s.matches=="string"?u==s.matches:s.matches.test(u)){if(s.mode){r.token=m;r.localMode=s.mode;r.localState=s.mode.startState&&s.mode.startState(b.indent(r.htmlState,""))}break}}}else{if(p=="style"&&/\btag\b/.test(q)&&t.current()==">"){r.token=g;r.localMode=n;r.localState=n.startState(b.indent(r.htmlState,""))}}return q}function h(s,o,p){var r=s.current();var q=r.search(o),i;if(q>-1){s.backUp(r.length-q)}else{if(i=r.match(/<\/?$/)){s.backUp(r.length);if(!s.match(o,false)){s.match(r)}}}return p}function m(o,i){if(o.match(/^<\/\s*script\s*>/i,false)){i.token=f;i.localState=i.localMode=null;return f(o,i)}return h(o,/<\/\s*script\s*>/,i.localMode.token(o,i.localState))}function g(o,i){if(o.match(/^<\/\s*style\s*>/i,false)){i.token=f;i.localState=i.localMode=null;return f(o,i)}return h(o,/<\/\s*style\s*>/,n.token(o,i.localState))}return{startState:function(){var i=b.startState();return{token:f,localMode:null,localState:null,htmlState:i}},copyState:function(o){if(o.localState){var i=a.copyState(o.localMode,o.localState)}return{token:o.token,localMode:o.localMode,localState:i,htmlState:a.copyState(b,o.htmlState)}},token:function(o,i){return i.token(o,i)},indent:function(o,i){if(!o.localMode||/^\s*<\//.test(i)){return b.indent(o.htmlState,i)}else{if(o.localMode.indent){return o.localMode.indent(o.localState,i)}else{return a.Pass}}},innerMode:function(i){return{state:i.localState||i.htmlState,mode:i.localMode||b}}}},"xml","javascript","css");a.defineMIME("text/html","htmlmixed")});(function(a){a(CodeMirror)})(function(a){a.defineMode("sql",function(c,f){var d=f.client||{},i=f.atoms||{"false":true,"true":true,"null":true},m=f.builtin||{},g=f.keywords||{},h=f.operatorChars||/^[*+\-%<>!=&|~^]/,n=f.support||{},p=f.hooks||{},b=f.dateSQL||{date:true,time:true,timestamp:true};function e(u,s){var r=u.next();if(p[r]){var q=p[r](u,s);if(q!==false){return q}}if(n.hexNumber==true&&((r=="0"&&u.match(/^[xX][0-9a-fA-F]+/))||(r=="x"||r=="X")&&u.match(/^'[0-9a-fA-F]+'/))){return"number"}else{if(n.binaryNumber==true&&(((r=="b"||r=="B")&&u.match(/^'[01]+'/))||(r=="0"&&u.match(/^b[01]+/)))){return"number"}else{if(r.charCodeAt(0)>47&&r.charCodeAt(0)<58){u.match(/^[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?/);n.decimallessFloat==true&&u.eat(".");return"number"}else{if(r=="?"&&(u.eatSpace()||u.eol()||u.eat(";"))){return"variable-3"}else{if(r=="'"||(r=='"'&&n.doubleQuote)){s.tokenize=o(r);return s.tokenize(u,s)}else{if((((n.nCharCast==true&&(r=="n"||r=="N"))||(n.charsetCast==true&&r=="_"&&u.match(/[a-z][a-z0-9]*/i)))&&(u.peek()=="'"||u.peek()=='"'))){return"keyword"}else{if(/^[\(\),\;\[\]]/.test(r)){return null}else{if(n.commentSlashSlash&&r=="/"&&u.eat("/")){u.skipToEnd();return"comment"}else{if((n.commentHash&&r=="#")||(r=="-"&&u.eat("-")&&(!n.commentSpaceRequired||u.eat(" ")))){u.skipToEnd();return"comment"}else{if(r=="/"&&u.eat("*")){s.tokenize=k;return s.tokenize(u,s)}else{if(r=="."){if(n.zerolessFloat==true&&u.match(/^(?:\d+(?:e[+-]?\d+)?)/i)){return"number"}if(n.ODBCdotTable==true&&u.match(/^[a-zA-Z_]+/)){return"variable-2"}}else{if(h.test(r)){u.eatWhile(h);return null}else{if(r=="{"&&(u.match(/^( )*(d|D|t|T|ts|TS)( )*'[^']*'( )*}/)||u.match(/^( )*(d|D|t|T|ts|TS)( )*"[^"]*"( )*}/))){return"number"}else{u.eatWhile(/^[_\w\d]/);var t=u.current().toLowerCase();if(b.hasOwnProperty(t)&&(u.match(/^( )+'[^']*'/)||u.match(/^( )+"[^"]*"/))){return"number"}if(i.hasOwnProperty(t)){return"atom"}if(m.hasOwnProperty(t)){return"builtin"}if(g.hasOwnProperty(t)){return"keyword"}if(d.hasOwnProperty(t)){return"string-2"}return null}}}}}}}}}}}}}}function o(q){return function(u,s){var t=false,r;while((r=u.next())!=null){if(r==q&&!t){s.tokenize=e;break}t=!t&&r=="\\"}return"string"}}function k(r,q){while(true){if(r.skipTo("*")){r.next();if(r.eat("/")){q.tokenize=e;break}}else{r.skipToEnd();break}}return"comment"}function j(s,r,q){r.context={prev:r.context,indent:s.indentation(),col:s.column(),type:q}}function l(q){q.indent=q.context.indent;q.context=q.context.prev}return{startState:function(){return{tokenize:e,context:null}},token:function(t,s){if(t.sol()){if(s.context&&s.context.align==null){s.context.align=false}}if(t.eatSpace()){return null}var r=s.tokenize(t,s);if(r=="comment"){return r}if(s.context&&s.context.align==null){s.context.align=true}var q=t.current();if(q=="("){j(t,s,")")}else{if(q=="["){j(t,s,"]")}else{if(s.context&&s.context.type==q){l(s)}}}return r},indent:function(t,r){var q=t.context;if(!q){return 0}var s=r.charAt(0)==q.type;if(q.align){return q.col+(s?0:1)}else{return q.indent+(s?0:c.indentUnit)}},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:n.commentSlashSlash?"//":n.commentHash?"#":null}});(function(){function c(h){var g;while((g=h.next())!=null){if(g=="`"&&!h.eat("`")){return"variable-2"}}return null}function b(g){if(g.eat("@")){g.match(/^session\./);g.match(/^local\./);g.match(/^global\./)}if(g.eat("'")){g.match(/^.*'/);return"variable-2"}else{if(g.eat('"')){g.match(/^.*"/);return"variable-2"}else{if(g.eat("`")){g.match(/^.*`/);return"variable-2"}else{if(g.match(/^[0-9a-zA-Z$\.\_]+/)){return"variable-2"}}}}return null}function d(g){if(g.eat("N")){return"atom"}return g.match(/^[a-zA-Z.#!?]/)?"variable-2":null}var e="alter and as asc between by count create delete desc distinct drop from having in insert into is join like not on or order select set table union update values where ";function f(k){var h={},j=k.split(" ");for(var g=0;g<j.length;++g){h[j[g]]=true}return h}a.defineMIME("text/x-sql",{name:"sql",keywords:f(e+"begin"),builtin:f("bool boolean bit blob enum long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision real date datetime year unsigned signed decimal numeric"),atoms:f("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:f("date time timestamp"),support:f("ODBCdotTable doubleQuote binaryNumber hexNumber")});a.defineMIME("text/x-mssql",{name:"sql",client:f("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:f(e+"begin trigger proc view index for add constraint key primary foreign collate clustered nonclustered"),builtin:f("bigint numeric bit smallint decimal smallmoney int tinyint money float real char varchar text nchar nvarchar ntext binary varbinary image cursor timestamp hierarchyid uniqueidentifier sql_variant xml table "),atoms:f("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:f("date datetimeoffset datetime2 smalldatetime datetime time"),hooks:{"@":b}});a.defineMIME("text/x-mysql",{name:"sql",client:f("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:f(e+"accessible action add after algorithm all analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general get global grant grants group groupby_concat handler hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show signal slave slow smallint snapshot soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:f("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:f("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:f("date time timestamp"),support:f("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":b,"`":c,"\\":d}});a.defineMIME("text/x-mariadb",{name:"sql",client:f("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:f(e+"accessible action add after algorithm all always analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general generated get global grant grants group groupby_concat handler hard hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password persistent phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show shutdown signal slave slow smallint snapshot soft soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views virtual warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:f("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:f("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:f("date time timestamp"),support:f("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":b,"`":c,"\\":d}});a.defineMIME("text/x-cassandra",{name:"sql",client:{},keywords:f("use select from using consistency where limit first reversed first and in insert into values using consistency ttl update set delete truncate begin batch apply create keyspace with columnfamily primary key index on drop alter type add any one quorum all local_quorum each_quorum"),builtin:f("ascii bigint blob boolean counter decimal double float int text timestamp uuid varchar varint"),atoms:f("false true"),operatorChars:/^[<>=]/,dateSQL:{},support:f("commentSlashSlash decimallessFloat"),hooks:{}});a.defineMIME("text/x-plsql",{name:"sql",client:f("appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define describe echo editfile embedded escape exec execute feedback flagger flush heading headsep instance linesize lno loboffset logsource long longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar release repfooter repheader serveroutput shiftinout show showmode size spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout time timing trimout trimspool ttitle underline verify version wrap"),keywords:f("abort accept access add all alter and any array arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body boolean by case cast char char_base check close cluster clusters colauth column comment commit compress connect connected constant constraint crash create current currval cursor data_base database date dba deallocate debugoff debugon decimal declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry escape exception exception_init exchange exclusive exists exit external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging long loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base object of off offline on online only open option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw read rebuild record ref references refresh release rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate session set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work"),builtin:f("abs acos add_months ascii asin atan atan2 average bfile bfilename bigserial bit blob ceil character chartorowid chr clob concat convert cos cosh count dec decode deref dual dump dup_val_on_index empty error exp false float floor found glb greatest hextoraw initcap instr instrb int integer isopen last_day least lenght lenghtb ln lower lpad ltrim lub make_ref max min mlslabel mod months_between natural naturaln nchar nclob new_time next_day nextval nls_charset_decl_len nls_charset_id nls_charset_name nls_initcap nls_lower nls_sort nls_upper nlssort no_data_found notfound null number numeric nvarchar2 nvl others power rawtohex real reftohex round rowcount rowidtochar rowtype rpad rtrim serial sign signtype sin sinh smallint soundex sqlcode sqlerrm sqrt stddev string substr substrb sum sysdate tan tanh to_char text to_date to_label to_multi_byte to_number to_single_byte translate true trunc uid unlogged upper user userenv varchar varchar2 variance varying vsize xml"),operatorChars:/^[*+\-%<>!=~]/,dateSQL:f("date time timestamp"),support:f("doubleQuote nCharCast zerolessFloat binaryNumber hexNumber")});a.defineMIME("text/x-hive",{name:"sql",keywords:f("select alter $elem$ $key$ $value$ add after all analyze and archive as asc before between binary both bucket buckets by cascade case cast change cluster clustered clusterstatus collection column columns comment compute concatenate continue create cross cursor data database databases dbproperties deferred delete delimited desc describe directory disable distinct distribute drop else enable end escaped exclusive exists explain export extended external false fetch fields fileformat first format formatted from full function functions grant group having hold_ddltime idxproperties if import in index indexes inpath inputdriver inputformat insert intersect into is items join keys lateral left like limit lines load local location lock locks mapjoin materialized minus msck no_drop nocompress not of offline on option or order out outer outputdriver outputformat overwrite partition partitioned partitions percent plus preserve procedure purge range rcfile read readonly reads rebuild recordreader recordwriter recover reduce regexp rename repair replace restrict revoke right rlike row schema schemas semi sequencefile serde serdeproperties set shared show show_database sort sorted ssl statistics stored streamtable table tables tablesample tblproperties temporary terminated textfile then tmp to touch transform trigger true unarchive undo union uniquejoin unlock update use using utc utc_tmestamp view when where while with"),builtin:f("bool boolean long timestamp tinyint smallint bigint int float double date datetime unsigned string array struct map uniontype"),atoms:f("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:f("date timestamp"),support:f("ODBCdotTable doubleQuote binaryNumber hexNumber")})}())});(function(a){a(CodeMirror)})(function(d){var f="CodeMirror-hint";var e="CodeMirror-hint-active";d.showHint=function(j,k,l){if(!k){return j.showHint(l)}if(l&&l.async){k.async=true}var m={hint:k};if(l){for(var n in l){m[n]=l[n]}}return j.showHint(m)};d.defineExtension("showHint",function(l){if(this.listSelections().length>1||this.somethingSelected()){return}if(this.state.completionActive){this.state.completionActive.close()}var k=this.state.completionActive=new a(this,l);var j=k.options.hint;if(!j){return}d.signal(this,"startCompletion",this);if(j.async){j(this,function(m){k.showHints(m)},k.options)}else{return k.showHints(j(this,k.options))}});function a(j,k){this.cm=j;this.options=this.buildOptions(k);this.widget=this.onClose=null}a.prototype={close:function(){if(!this.active()){return}this.cm.state.completionActive=null;if(this.widget){this.widget.close()}if(this.onClose){this.onClose()}d.signal(this.cm,"endCompletion",this.cm)},active:function(){return this.cm.state.completionActive==this},pick:function(l,k){var j=l.list[k];if(j.hint){j.hint(this.cm,l,j)}else{this.cm.replaceRange(i(j),j.from||l.from,j.to||l.to,"complete")}d.signal(l,"pick",j);this.close()},showHints:function(j){if(!j||!j.list.length||!this.active()){return this.close()}if(this.options.completeSingle&&j.list.length==1){this.pick(j,0)}else{this.showWidget(j)}},showWidget:function(o){this.widget=new h(this,o);d.signal(o,"shown");var v=0,l=this,k;var w=this.options.closeCharacters;var s=this.cm.getCursor(),p=this.cm.getLine(s.line).length;var t=window.requestAnimationFrame||function(x){return setTimeout(x,1000/60)};var q=window.cancelAnimationFrame||clearTimeout;function n(){if(k){return}k=true;l.close();l.cm.off("cursorActivity",j);if(o){d.signal(o,"close")}}function m(){if(k){return}d.signal(o,"update");var x=l.options.hint;if(x.async){x(l.cm,u,l.options)}else{u(x(l.cm,l.options))}}function u(x){o=x;if(k){return}if(!o||!o.list.length){return n()}if(l.widget){l.widget.close()}l.widget=new h(l,o)}function r(){if(v){q(v);v=0}}function j(){r();var y=l.cm.getCursor(),x=l.cm.getLine(y.line);if(y.line!=s.line||x.length-y.ch!=p-s.ch||y.ch<s.ch||l.cm.somethingSelected()||(y.ch&&w.test(x.charAt(y.ch-1)))){l.close()}else{v=t(m);if(l.widget){l.widget.close()}}}this.cm.on("cursorActivity",j);this.onClose=n},buildOptions:function(k){var l=this.cm.options.hintOptions;var j={};for(var m in b){j[m]=b[m]}if(l){for(var m in l){if(l[m]!==undefined){j[m]=l[m]}}}if(k){for(var m in k){if(k[m]!==undefined){j[m]=k[m]}}}return j}};function i(j){if(typeof j=="string"){return j}else{return j.text}}function c(n,q){var k={Up:function(){q.moveFocus(-1)},Down:function(){q.moveFocus(1)},PageUp:function(){q.moveFocus(-q.menuSize()+1,true)},PageDown:function(){q.moveFocus(q.menuSize()-1,true)},Home:function(){q.setFocus(0)},End:function(){q.setFocus(q.length-1)},Enter:q.pick,Tab:q.pick,Esc:q.close};var p=n.options.customKeys;var m=p?{}:k;function l(r,t){var s;if(typeof t!="string"){s=function(u){return t(u,q)}}else{if(k.hasOwnProperty(t)){s=k[t]}else{s=t}}m[r]=s}if(p){for(var o in p){if(p.hasOwnProperty(o)){l(o,p[o])}}}var j=n.options.extraKeys;if(j){for(var o in j){if(j.hasOwnProperty(o)){l(o,j[o])}}}return m}function g(k,j){while(j&&j!=k){if(j.nodeName.toUpperCase()==="LI"&&j.parentNode==k){return j}j=j.parentNode}}function h(w,G){this.completion=w;this.data=G;var n=this,s=w.cm;var D=this.hints=document.createElement("ul");D.className="CodeMirror-hints";this.selectedHint=G.selectedHint||0;var r=G.list;for(var F=0;F<r.length;++F){var m=D.appendChild(document.createElement("li")),l=r[F];var k=f+(F!=this.selectedHint?"":" "+e);if(l.className!=null){k=l.className+" "+k}m.className=k;if(l.render){l.render(m,G,l)}else{m.appendChild(document.createTextNode(l.displayText||i(l)))}m.hintId=F}var q=s.cursorCoords(w.options.alignWithWord?G.from:null);var o=q.left,A=q.bottom,y=true;D.style.left=o+"px";D.style.top=A+"px";var t=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth);var E=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(w.options.container||document.body).appendChild(D);var u=D.getBoundingClientRect(),v=u.bottom-E;if(v>0){var B=u.bottom-u.top,j=u.top-(q.bottom-q.top);if(j-B>0){D.style.top=(A=j-B)+"px";y=false}else{if(B>E){D.style.height=(E-5)+"px";D.style.top=(A=q.bottom-u.top)+"px";var p=s.getCursor();if(G.from.ch!=p.ch){q=s.cursorCoords(p);D.style.left=(o=q.left)+"px";u=D.getBoundingClientRect()}}}}var x=u.left-t;if(x>0){if(u.right-u.left>t){D.style.width=(t-5)+"px";x-=(u.right-u.left)-t}D.style.left=(o=q.left-x)+"px"}s.addKeyMap(this.keyMap=c(w,{moveFocus:function(I,H){n.changeActive(n.selectedHint+I,H)},setFocus:function(H){n.changeActive(H)},menuSize:function(){return n.screenAmount()},length:r.length,close:function(){w.close()},pick:function(){n.pick()},data:G}));if(w.options.closeOnUnfocus){var C;s.on("blur",this.onBlur=function(){C=setTimeout(function(){w.close()},100)});s.on("focus",this.onFocus=function(){clearTimeout(C)})}var z=s.getScrollInfo();s.on("scroll",this.onScroll=function(){var K=s.getScrollInfo(),J=s.getWrapperElement().getBoundingClientRect();var I=A+z.top-K.top;var H=I-(window.pageYOffset||(document.documentElement||document.body).scrollTop);if(!y){H+=D.offsetHeight}if(H<=J.top||H>=J.bottom){return w.close()}D.style.top=I+"px";D.style.left=(o+z.left-K.left)+"px"});d.on(D,"dblclick",function(I){var H=g(D,I.target||I.srcElement);if(H&&H.hintId!=null){n.changeActive(H.hintId);n.pick()}});d.on(D,"click",function(I){var H=g(D,I.target||I.srcElement);if(H&&H.hintId!=null){n.changeActive(H.hintId);if(w.options.completeOnSingleClick){n.pick()}}});d.on(D,"mousedown",function(){setTimeout(function(){s.focus()},20)});d.signal(G,"select",r[0],D.firstChild);return true}h.prototype={close:function(){if(this.completion.widget!=this){return}this.completion.widget=null;this.hints.parentNode.removeChild(this.hints);this.completion.cm.removeKeyMap(this.keyMap);var j=this.completion.cm;if(this.completion.options.closeOnUnfocus){j.off("blur",this.onBlur);j.off("focus",this.onFocus)}j.off("scroll",this.onScroll)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(j,l){if(j>=this.data.list.length){j=l?this.data.list.length-1:0}else{if(j<0){j=l?0:this.data.list.length-1}}if(this.selectedHint==j){return}var k=this.hints.childNodes[this.selectedHint];k.className=k.className.replace(" "+e,"");k=this.hints.childNodes[this.selectedHint=j];k.className+=" "+e;if(k.offsetTop<this.hints.scrollTop){this.hints.scrollTop=k.offsetTop-3}else{if(k.offsetTop+k.offsetHeight>this.hints.scrollTop+this.hints.clientHeight){this.hints.scrollTop=k.offsetTop+k.offsetHeight-this.hints.clientHeight+3}}d.signal(this.data,"select",this.data.list[this.selectedHint],k)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}};d.registerHelper("hint","auto",function(j,k){var m=j.getHelpers(j.getCursor(),"hint"),o;if(m.length){for(var l=0;l<m.length;l++){var n=m[l](j,k);if(n&&n.list.length){return n}}}else{if(o=j.getHelper(j.getCursor(),"hintWords")){if(o){return d.hint.fromList(j,{words:o})}}else{if(d.hint.anyword){return d.hint.anyword(j,k)}}}});d.registerHelper("hint","fromList",function(j,k){var p=j.getCursor(),m=j.getTokenAt(p);var n=[];for(var l=0;l<k.words.length;l++){var o=k.words[l];if(o.slice(0,m.string.length)==m.string){n.push(o)}}if(n.length){return{list:n,from:d.Pos(p.line,m.start),to:d.Pos(p.line,m.end)}}});d.commands.autocomplete=d.showHint;var b={hint:d.hint.auto,completeSingle:true,alignWithWord:true,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:true,completeOnSingleClick:false,container:null,customKeys:null,extraKeys:null};d.defineOption("hintOptions",null)});(function(a){a(CodeMirror)})(function(CodeMirror){var Pos=CodeMirror.Pos;function forEach(arr,f){for(var i=0,e=arr.length;i<e;++i){f(arr[i])}}function arrayContains(arr,item){if(!Array.prototype.indexOf){var i=arr.length;while(i--){if(arr[i]===item){return true}}return false}return arr.indexOf(item)!=-1}function scriptHint(editor,keywords,getToken,options){var cur=editor.getCursor(),token=getToken(editor,cur),tprop=token;if(/\b(?:string|comment)\b/.test(token.type)){return}token.state=CodeMirror.innerMode(editor.getMode(),token.state).state;if(!/^[\w$_]*$/.test(token.string)){token=tprop={start:cur.ch,end:cur.ch,string:"",state:token.state,type:token.string=="."?"property":null}}while(tprop.type=="property"){tprop=getToken(editor,Pos(cur.line,tprop.start));if(tprop.string!="."){return}tprop=getToken(editor,Pos(cur.line,tprop.start));if(!context){var context=[]}context.push(tprop)}return{list:getCompletions(token,context,keywords,options,editor),from:Pos(cur.line,token.start),to:Pos(cur.line,token.end)}}function javascriptHint(editor,options){return scriptHint(editor,editor.editorType=="js"?jsKeywords:ssKeywords,function(e,cur){return e.getTokenAt(cur)},options)}CodeMirror.registerHelper("hint","javascript",javascriptHint);function getCoffeeScriptToken(editor,cur){var token=editor.getTokenAt(cur);if(cur.ch==token.start+1&&token.string.charAt(0)=="."){token.end=token.start;token.string=".";token.type="property"}else{if(/^\.[\w$_]*$/.test(token.string)){token.type="property";token.start++;token.string=token.string.replace(/\./,"")}}return token}var jsKeywords=["break","case","catch","continue","debugger","default","delete","do","else","Ext","false","finally","for","function","if","in","instanceof","new","null","return","switch","throw","true","try","typeof","var","void","Wb","while","window","with"];var ssKeywords=["break","case","catch","continue","debugger","default","delete","do","else","false","finally","for","function","if","in","instanceof","new","null","return","switch","throw","true","try","typeof","var","void","Wb","while","with"];var keyWordsProps=["apply","bind","call","charAt","charCodeAt","concat","every","filter","forEach","indexOf","join","lastIndexOf","length","map","match","pop","prototype","push","reduce","reduceRight","replace","reverse","search","shift","slice","some","sort","splice","split","substr","substring","toLowerCase","toUpperCase","trim","trimLeft","trimRight","unshift"];function getCompletions(token,context,keywords,options,editor){var found=[],start=token.string,isSucc=true;function maybeAdd(str){if(str.lastIndexOf(start,0)==0&&!arrayContains(found,str)){found.push(str)}}if(context&&context.length){var n,o,i,j=context.length,s=[];for(i=j-1;i>=0;i--){s.push(context[i].string)}s=s.join(".");if(editor.xwlNodes&&j==1){var xn,rt=Ds.at().objectTree.getRootNode().firstChild;rt.cascadeBy(function(c){if(c.get("text")==s){xn=c;return false}});if(xn){s=xn.get("xwlType")}}try{if(s&&Ext.String.trim(s)!=""&&s!=";"){o=eval(s);if(Ext.isIterable(o)||Ext.isObject(o)||Ext.isFunction(o)){for(n in o){maybeAdd(n)}o=o.prototype;if(o){for(n in o){maybeAdd(n)}}}}else{isSucc=false}}catch(e){isSucc=false}if(isSucc&&j==1){forEach(keyWordsProps,maybeAdd)}}else{forEach(keywords,maybeAdd);for(var v=token.state.localVars;v;v=v.next){maybeAdd(v.name)}for(var v=token.state.globalVars;v;v=v.next){maybeAdd(v.name)}if(editor.xwlNodes){var t=Ds.at().objectTree,n;function ssn(n){n.eachChild(function(c){maybeAdd(c.get("text"));ssn(c)})}ssn(t.getRootNode().firstChild)}}Ext.Array.sort(found,function(l,r){return l.toLowerCase()>r.toLowerCase()?1:-1});return found}});(function(a){a(CodeMirror)})(function(a){var b={};var e=/[^\s\u00a0]/;var c=a.Pos;function d(g){var f=g.search(e);return f==-1?0:f}a.commands.toggleComment=function(f){var j=Infinity,g=f.listSelections(),k=null;for(var h=g.length-1;h>=0;h--){var m=g[h].from(),l=g[h].to();if(m.line>=j){continue}if(l.line>=j){l=c(j,0)}j=m.line;if(k==null){if(f.uncomment(m,l)){k="un"}else{f.lineComment(m,l);k="line"}}else{if(k=="un"){f.uncomment(m,l)}else{f.lineComment(m,l)}}}};a.defineExtension("lineComment",function(k,l,o){if(!o){o=b}var m=this,h=m.getModeAt(k);var n=o.lineComment||h.lineComment;if(!n){if(o.blockCommentStart||h.blockCommentStart){o.fullLines=true;m.blockComment(k,l,o)}return}var j=m.getLine(k.line);if(j==null){return}var g=Math.min(l.ch!=0||l.line==k.line?l.line+1:l.line,m.lastLine()+1);var f=o.padding==null?" ":o.padding;var i=o.commentBlankLines||k.line==l.line;m.operation(function(){if(o.indent){var r=j.slice(0,d(j));for(var q=k.line;q<g;++q){var p=m.getLine(q),s=r.length;if(!i&&!e.test(p)){continue}if(p.slice(0,s)!=r){s=d(p)}m.replaceRange(r+n+f,c(q,0),c(q,s))}}else{for(var q=k.line;q<g;++q){if(i||e.test(m.getLine(q))){m.replaceRange(n+f,c(q,0))}}}})});a.defineExtension("blockComment",function(j,k,n){if(!n){n=b}var m=this,h=m.getModeAt(j);var i=n.blockCommentStart||h.blockCommentStart;var l=n.blockCommentEnd||h.blockCommentEnd;if(!i||!l){if((n.lineComment||h.lineComment)&&n.fullLines!=false){m.lineComment(j,k,n)}return}var g=Math.min(k.line,m.lastLine());if(g!=j.line&&k.ch==0&&e.test(m.getLine(g))){--g}var f=n.padding==null?" ":n.padding;if(j.line>g){return}m.operation(function(){if(n.fullLines!=false){var q=e.test(m.getLine(g));m.replaceRange(f+l,c(g));m.replaceRange(i+f,c(j.line,0));var o=n.blockCommentLead||h.blockCommentLead;if(o!=null){for(var p=j.line+1;p<=g;++p){if(p!=g||q){m.replaceRange(o+f,c(p,0))}}}}else{m.replaceRange(l,k);m.replaceRange(i,j)}})});a.defineExtension("uncomment",function(x,h,j){if(!j){j=b}var v=this,s=v.getModeAt(x);var k=Math.min(h.line,v.lastLine()),l=Math.min(x.line,k);var u=j.lineComment||s.lineComment,g=[];var A=j.padding==null?" ":j.padding,n;lineComment:{if(!u){break lineComment}for(var y=l;y<=k;++y){var o=v.getLine(y);var p=o.indexOf(u);if(p>-1&&!/comment/.test(v.getTokenTypeAt(c(y,p+1)))){p=-1}if(p==-1&&(y!=k||y==l)&&e.test(o)){break lineComment}if(p>-1&&e.test(o.slice(0,p))){break lineComment}g.push(o)}v.operation(function(){for(var D=l;D<=k;++D){var B=g[D-l];var E=B.indexOf(u),C=E+u.length;if(E<0){continue}if(B.slice(C,C+A.length)==A){C+=A.length}n=true;v.replaceRange("",c(D,E),c(D,C))}});if(n){return true}}var q=j.blockCommentStart||s.blockCommentStart;var f=j.blockCommentEnd||s.blockCommentEnd;if(!q||!f){return false}var z=j.blockCommentLead||s.blockCommentLead;var w=v.getLine(l),m=k==l?w:v.getLine(k);var r=w.indexOf(q),t=m.lastIndexOf(f);if(t==-1&&l!=k){m=v.getLine(--k);t=m.lastIndexOf(f)}if(r==-1||t==-1||!/comment/.test(v.getTokenTypeAt(c(l,r+1)))||!/comment/.test(v.getTokenTypeAt(c(k,t+1)))){return false}v.operation(function(){v.replaceRange("",c(k,t-(A&&m.slice(t-A.length,t)==A?A.length:0)),c(k,t+f.length));var E=r+q.length;if(A&&w.slice(E,E+A.length)==A){E+=A.length}v.replaceRange("",c(l,r),c(l,E));if(z){for(var D=l+1;D<=k;++D){var C=v.getLine(D),F=C.indexOf(z);if(F==-1||e.test(C.slice(0,F))){continue}var B=F+z.length;if(A&&C.slice(B,B+A.length)==A){B+=A.length}v.replaceRange("",c(D,F),c(D,B))}}});return true})});(function(a){a(CodeMirror)})(function(e){var d=/MSIE \d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8);var i=e.Pos;var a={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"};function f(q,m,p,k){var s=q.getLineHandle(m.line),o=m.ch-1;var n=(o>=0&&a[s.text.charAt(o)])||a[s.text.charAt(++o)];if(!n){return null}var l=n.charAt(1)==">"?1:-1;if(p&&(l>0)!=(o==m.ch)){return null}var j=q.getTokenTypeAt(i(m.line,o+1));var r=g(q,i(m.line,o+(l>0?1:0)),l,j||null,k);if(r==null){return null}return{from:i(m.line,o),to:r&&r.pos,match:r&&r.ch==n.charAt(0),forward:l>0}}function g(w,r,n,k,m){var l=(m&&m.maxScanLineLength)||10000;var t=(m&&m.maxScanLines)||1000;var v=[];var x=m&&m.bracketRegex?m.bracketRegex:/[(){}[\]]/;var q=n>0?Math.min(r.line+t,w.lastLine()+1):Math.max(w.firstLine()-1,r.line-t);for(var o=r.line;o!=q;o+=n){var y=w.getLine(o);if(!y){continue}var u=n>0?0:y.length-1,p=n>0?y.length:-1;if(y.length>l){continue}if(o==r.line){u=r.ch-(n<0?1:0)}for(;u!=p;u+=n){var j=y.charAt(u);if(x.test(j)&&(k===undefined||w.getTokenTypeAt(i(o,u+1))==k)){var s=a[j];if((s.charAt(1)==">")==(n>0)){v.push(j)}else{if(!v.length){return{pos:i(o,u),ch:j}}else{v.pop()}}}}}return o-n==(n>0?w.lastLine():w.firstLine())?false:null}function b(s,n,m){var k=s.state.matchBrackets.maxHighlightLineLength||1000;var r=[],l=s.listSelections();for(var o=0;o<l.length;o++){var q=l[o].empty()&&f(s,l[o].head,false,m);if(q&&s.getLine(q.from.line).length<=k){var j=q.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";r.push(s.markText(q.from,i(q.from.line,q.from.ch+1),{className:j}));if(q.to&&s.getLine(q.to.line).length<=k){r.push(s.markText(q.to,i(q.to.line,q.to.ch+1),{className:j}))}}}if(r.length){if(d&&s.state.focused){s.display.input.focus()}var p=function(){s.operation(function(){for(var t=0;t<r.length;t++){r[t].clear()}})};if(n){setTimeout(p,800)}else{return p}}}var c=null;function h(j){j.operation(function(){if(c){c();c=null}c=b(j,false,j.state.matchBrackets)})}e.defineOption("matchBrackets",false,function(j,l,k){if(k&&k!=e.Init){j.off("cursorActivity",h)}if(l){j.state.matchBrackets=typeof l=="object"?l:{};j.on("cursorActivity",h)}});e.defineExtension("matchBrackets",function(){b(this,true)});e.defineExtension("findMatchingBracket",function(l,j,k){return f(this,l,j,k)});e.defineExtension("scanForBracket",function(m,k,l,j){return g(this,m,k,l,j)})});CodeMirror.defineExtension("autoIndentRange",function(c,b){var a=this;this.operation(function(){for(var d=c.line;d<=b.line;d++){a.indentLine(d,"smart")}})});CodeMirror.defineExtension("autoFormatRange",function(h,j){var k=this;var o=k.getMode(),n=k.getRange(h,j).split("\n");var c=CodeMirror.copyState(o,k.getTokenAt(h).state);var g=k.getOption("tabSize");var e="",q=0,a=h.ch==0;function d(){e+="\n";a=true;++q}for(var f=0;f<n.length;++f){var m=new CodeMirror.StringStream(n[f],g);while(!m.eol()){var p=CodeMirror.innerMode(o,c);var b=o.token(m,c),l=m.current();m.start=m.pos;if(!a||/\S/.test(l)){e+=l;a=false}if(!a&&p.mode.newlineAfterToken&&p.mode.newlineAfterToken(b,l,m.string.slice(m.pos)||n[f+1]||"",p.state)){d()}}if(!m.pos&&o.blankLine){o.blankLine(c)}if(!a){d()}}k.operation(function(){k.replaceRange(e,h,j);for(var r=h.line+1,i=h.line+q;r<=i;++r){k.indentLine(r,"smart")}k.setSelection(h,k.getCursor(false))})});(function(a){a(CodeMirror)})(function(d){d.defineMode("clike",function(y,l){var s=y.indentUnit,q=l.statementIndentUnit||s,t=l.dontAlignCalls,n=l.keywords||{},z=l.builtin||{},u=l.blockKeywords||{},j=l.atoms||{},i=l.hooks||{},p=l.multiLineStrings;var o=/[+\-*&%=<>!?|\/]/;var w;function A(F,D){var C=F.next();if(i[C]){var B=i[C](F,D);if(B!==false){return B}}if(C=='"'||C=="'"){D.tokenize=m(C);return D.tokenize(F,D)}if(/[\[\]{}\(\),;\:\.]/.test(C)){w=C;return null}if(/\d/.test(C)){F.eatWhile(/[\w\.]/);return"number"}if(C=="/"){if(F.eat("*")){D.tokenize=r;return r(F,D)}if(F.eat("/")){F.skipToEnd();return"comment"}}if(o.test(C)){F.eatWhile(o);return"operator"}F.eatWhile(/[\w\$_]/);var E=F.current();if(n.propertyIsEnumerable(E)){if(u.propertyIsEnumerable(E)){w="newstatement"}return"keyword"}if(z.propertyIsEnumerable(E)){if(u.propertyIsEnumerable(E)){w="newstatement"}return"builtin"}if(j.propertyIsEnumerable(E)){return"atom"}return"variable"}function m(B){return function(G,E){var F=false,D,C=false;while((D=G.next())!=null){if(D==B&&!F){C=true;break}F=!F&&D=="\\"}if(C||!(F||p)){E.tokenize=null}return"string"}}function r(E,D){var B=false,C;while(C=E.next()){if(C=="/"&&B){D.tokenize=null;break}B=(C=="*")}return"comment"}function v(F,C,B,E,D){this.indented=F;this.column=C;this.type=B;this.align=E;this.prev=D}function k(E,C,D){var B=E.indented;if(E.context&&E.context.type=="statement"){B=E.context.indented}return E.context=new v(B,C,D,null,E.context)}function x(C){var B=C.context.type;if(B==")"||B=="]"||B=="}"){C.indented=C.context.indented}return C.context=C.context.prev}return{startState:function(B){return{tokenize:null,context:new v((B||0)-s,0,"top",false),indented:0,startOfLine:true}},token:function(E,D){var B=D.context;if(E.sol()){if(B.align==null){B.align=false}D.indented=E.indentation();D.startOfLine=true}if(E.eatSpace()){return null}w=null;var C=(D.tokenize||A)(E,D);if(C=="comment"||C=="meta"){return C}if(B.align==null){B.align=true}if((w==";"||w==":"||w==",")&&B.type=="statement"){x(D)}else{if(w=="{"){k(D,E.column(),"}")}else{if(w=="["){k(D,E.column(),"]")}else{if(w=="("){k(D,E.column(),")")}else{if(w=="}"){while(B.type=="statement"){B=x(D)}if(B.type=="}"){B=x(D)}while(B.type=="statement"){B=x(D)}}else{if(w==B.type){x(D)}else{if(((B.type=="}"||B.type=="top")&&w!=";")||(B.type=="statement"&&w=="newstatement")){k(D,E.column(),"statement")}}}}}}}D.startOfLine=false;return C},indent:function(F,C){if(F.tokenize!=A&&F.tokenize!=null){return d.Pass}var B=F.context,E=C&&C.charAt(0);if(B.type=="statement"&&E=="}"){B=B.prev}var D=E==B.type;if(B.type=="statement"){return B.indented+(E=="{"?0:q)}else{if(B.align&&(!t||B.type!=")")){return B.column+(D?0:1)}else{if(B.type==")"&&!D){return B.indented+q}else{return B.indented+(D?0:s)}}}},electricChars:"{}",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}});function g(m){var k={},l=m.split(" ");for(var j=0;j<l.length;++j){k[l[j]]=true}return k}var c="auto if break int case long char register continue return default short do sizeof double static else struct entry switch extern typedef float union for unsigned goto while enum void const signed volatile";function h(j,i){if(!i.startOfLine){return false}for(;;){if(j.skipTo("\\")){j.next();if(j.eol()){i.tokenize=h;break}}else{j.skipToEnd();i.tokenize=null;break}}return"meta"}function b(k,j){k.backUp(1);if(k.match(/(R|u8R|uR|UR|LR)/)){var i=k.match(/"([^\s\\()]{0,16})\(/);if(!i){return false}j.cpp11RawStringDelim=i[1];j.tokenize=a;return a(k,j)}if(k.match(/(u8|u|U|L)/)){if(k.match(/["']/,false)){return"string"}return false}k.next();return false}function e(k,j){var i;while((i=k.next())!=null){if(i=='"'&&!k.eat('"')){j.tokenize=null;break}}return"string"}function a(l,j){var k=j.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&");var i=l.match(new RegExp(".*?\\)"+k+'"'));if(i){j.tokenize=null}else{l.skipToEnd()}return"string"}function f(j,n){if(typeof j=="string"){j=[j]}var m=[];function l(i){if(i){for(var o in i){if(i.hasOwnProperty(o)){m.push(o)}}}}l(n.keywords);l(n.builtin);l(n.atoms);if(m.length){n.helperType=j[0];d.registerHelper("hintWords",j[0],m)}for(var k=0;k<j.length;++k){d.defineMIME(j[k],n)}}f(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:g(c),blockKeywords:g("case do else for if switch while struct"),atoms:g("null"),hooks:{"#":h},modeProps:{fold:["brace","include"]}});f(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:g(c+" asm dynamic_cast namespace reinterpret_cast try bool explicit new static_cast typeid catch operator template typename class friend private this using const_cast inline public throw virtual delete mutable protected wchar_t alignas alignof constexpr decltype nullptr noexcept thread_local final static_assert override"),blockKeywords:g("catch class do else finally for if struct switch try while"),atoms:g("true false null"),hooks:{"#":h,u:b,U:b,L:b,R:b},modeProps:{fold:["brace","include"]}});f("text/x-java",{name:"clike",keywords:g("abstract assert boolean break byte case catch char class const continue default do double else enum extends final finally float for goto if implements import instanceof int interface long native new package private protected public return short static strictfp super switch synchronized this throw throws transient try void volatile while"),blockKeywords:g("catch class do else finally for if switch try while"),atoms:g("true false null"),hooks:{"@":function(i){i.eatWhile(/[\w\$_]/);return"meta"}},modeProps:{fold:["brace","import"]}});f("text/x-csharp",{name:"clike",keywords:g("abstract as base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),blockKeywords:g("catch class do else finally for foreach if struct switch try while"),builtin:g("Boolean Byte Char DateTime DateTimeOffset Decimal Double Guid Int16 Int32 Int64 Object SByte Single String TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),atoms:g("true false null"),hooks:{"@":function(j,i){if(j.eat('"')){i.tokenize=e;return e(j,i)}j.eatWhile(/[\w\$_]/);return"meta"}}});f("text/x-scala",{name:"clike",keywords:g("abstract case catch class def do else extends false final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try trye type val var while with yield _ : = => <- <: <% >: # @ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector :: #:: Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),blockKeywords:g("catch class do else finally for forSome if match switch try while"),atoms:g("true false null"),hooks:{"@":function(i){i.eatWhile(/[\w\$_]/);return"meta"}}});f(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:g("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4 sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadowconst attribute uniform varying break continue discard return for while do if else struct in out inout"),blockKeywords:g("for while do if else struct"),builtin:g("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smootstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:g("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragColor gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),hooks:{"#":h},modeProps:{fold:["brace","include"]}})});