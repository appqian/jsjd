<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="http://lib.sinaapp.com/js/jquery/1.9.1/jquery-1.9.1.min.js"></script>
    <!-- 新 Bootstrap 核心 CSS 文件 -->
    <link rel="stylesheet" href="//cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
    <script src="//cdn.bootcss.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <style>
        body,button, input, select, textarea,h1 ,h2, h3, h4, h5, h6 { font-family: Microsoft YaHei,'宋体' , Tahoma, Helvetica, Arial, "\5b8b\4f53", sans-serif;}
        #wrap{
            width: 96%;
            margin: 0 auto;
        }
        #wrap>.table>thead>tr>th{
            vertical-align: inherit;
            text-align: center;
            width:3%;
            text-overflow: ellipsis;
            overflow: hidden;
           
        
            /*text-overflow:ellipsis;
            word-break:break-all;
            -webkit-box-orient:vertical;
            -webkit-line-clamp:2;//第二行溢出隐藏！*/
        }
        #wrap>.table>tbody>tr>td{
            vertical-align: inherit;
            text-align: center;

            text-overflow: ellipsis;
            overflow: hidden;




        }
        .w45{
            width:45px;
        }
    </style>
    <script>

    </script>
</head>
<body>
<div id="wrap">

    <table class="table table-bordered">
        <thead>
        <tr>
            <th class="w45" style="width:3%">机组</th>
            <th class="w45" rowspan="2" style="width:3%">启动时间</th>
            <th class="w45" rowspan="2" style="width:3%">启动类型</th>
            <th class="w45" colspan="4" style="width:18%">启动用时(h)</th>
            <th colspan="5"  style="width:21%">启动消耗</th>
            <th colspan="14"  style="width:52%">启动(冲车)参数</th>
        </tr>
        <tr>
            <th>参数</th>
            <th>总用时</th>
            <th>点火至冲车</th>
            <th>冲车至并网</th>
            <th>并网至50%负荷</th>
            <th>启动耗油</th>
            <th>启动耗煤（气）</th>
            <th>启动耗水</th>
            <th>启动耗电</th>
            <th>启动平均风量</th>
            <th>主汽温度</th>
            <th>主汽温度标准</th>
            <th>主汽压力</th>
            <th>主汽压力标准</th>
            <th>再热汽温</th>
            <th>再热汽温标准</th>
            <th>再热汽压</th>
            <th>再热汽压标准</th>
            <th>总风量</th>
            <th>总风量标准</th>
            <th>给水流量</th>
            <th>给水流量标准</th>
            <th>主汽流量</th>
            <th>主汽流量标准</th>

        </tr>
        </thead>
        <tbody id="test" >

            <tr>
                <td id="dh">岱海电厂</td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>

            </tr>
            <tr class="dh">
                <td>#1</td>
                <td></td>
                <td>冷态启动</td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td>320~380℃</td>
                <td></td>
                <td>3~5Mpa</td>
                <td></td>
                <td>300~360℃</td>
                <td></td>
                <td>0</td>
                <td></td>
                <td>800~1200t/h</td>
                <td></td>
                <td>0~900</td>
                <td></td>
                <td>0~900</td>
                <td></td>
                <td>0~900</td>

            </tr>
            <tr class="dh">
                <td>#1</td>
                <td></td>
                <td>冷态启动</td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td>320~380℃</td>
                <td></td>
                <td>3~5Mpa</td>
                <td></td>
                <td>300~360℃</td>
                <td></td>
                <td>0</td>
                <td></td>
                <td>800~1200t/h</td>
                <td></td>
                <td>0~900</td>
                <td></td>
                <td>0~900</td>
                <td></td>
                <td>0~900</td>

            </tr>
            <tr class="dh">
                <td>#1</td>
                <td></td>
                <td>冷态启动</td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td>320~380℃</td>
                <td></td>
                <td>3~5Mpa</td>
                <td></td>
                <td>300~360℃</td>
                <td></td>
                <td>0</td>
                <td></td>
                <td>800~1200t/h</td>
                <td></td>
                <td>0~900</td>
                <td></td>
                <td>0~900</td>
                <td></td>
                <td>0~900</td>

            </tr>
            <tr class="dh">
                <td>#1</td>
                <td></td>
                <td>冷态启动</td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td>320~380℃</td>
                <td></td>
                <td>3~5Mpa</td>
                <td></td>
                <td>300~360℃</td>
                <td></td>
                <td>0</td>
                <td></td>
                <td>800~1200t/h</td>
                <td></td>
                <td>0~900</td>
                <td></td>
                <td>0~900</td>
                <td></td>
                <td>0~900</td>

            </tr>



            <tr>
                <td id="nd">宁东电厂</td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>

            </tr>
            <tr class="nd">
                <td>#1</td>
                <td></td>
                <td>冷态启动</td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td>320~380℃</td>
                <td></td>
                <td>3~5Mpa</td>
                <td></td>
                <td>300~360℃</td>
                <td></td>
                <td>0</td>
                <td></td>
                <td>800~1200t/h</td>
                <td></td>
                <td>0~900</td>
                <td></td>
                <td>0~900</td>
                <td></td>
                <td>0~900</td>

            </tr>
            <tr class="nd">
                <td>#1</td>
                <td></td>
                <td>冷态启动</td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td>320~380℃</td>
                <td></td>
                <td>3~5Mpa</td>
                <td></td>
                <td>300~360℃</td>
                <td></td>
                <td>0</td>
                <td></td>
                <td>800~1200t/h</td>
                <td></td>
                <td>0~900</td>
                <td></td>
                <td>0~900</td>
                <td></td>
                <td>0~900</td>

            </tr>
            <tr class="nd">
                <td>#1</td>
                <td></td>
                <td>冷态启动</td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td>320~380℃</td>
                <td></td>
                <td>3~5Mpa</td>
                <td></td>
                <td>300~360℃</td>
                <td></td>
                <td>0</td>
                <td></td>
                <td>800~1200t/h</td>
                <td></td>
                <td>0~900</td>
                <td></td>
                <td>0~900</td>
                <td></td>
                <td>0~900</td>

            </tr>
            <tr class="nd">
                <td>#1</td>
                <td></td>
                <td>冷态启动</td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td>320~380℃</td>
                <td></td>
                <td>3~5Mpa</td>
                <td></td>
                <td>300~360℃</td>
                <td></td>
                <td>0</td>
                <td></td>
                <td>800~1200t/h</td>
                <td></td>
                <td>0~900</td>
                <td></td>
                <td>0~900</td>
                <td></td>
                <td>0~900</td>

            </tr>
        </tbody>
    </table>
</div>

<script>
    if (!window.location.origin) {
        window.location.origin = window.location.protocol + "//" + window.location.hostname + (window.location.port ? ':' + window.location.port : '');
    }

    var ctx = window.location.origin;

    $("#dh").click(function () {
        $('.dh').toggle(400);
    })
    $("#nd").click(function () {
        $('.nd').toggle(400);
    })
    yxzt();
    function yxzt() {
        var url = ctx + "/jsjd/portal/getJzqtInfo.do";
        $.ajax({
            url:url,
            dataType:"json",
            success:function (data) {
                var nd = [];
                var dh = [];
                var dhhz = [];
                var ndhz = [];
                for (var i = 0; i < data.length; i++) {
                    var element = data[i];
                   // console.log(element.dType);
                    switch (element.dType) {
                        case "nd":
                            nd.push(element);
                            break;
                        case "dh":
                            dh.push(element);
                            break;
                        case "ndhz":
                            ndhz.push(element);
                            break;
                        case "dhhz":
                            dhhz.push(element);
                            break;
                        default:
                            break;
                    }
                }
                var ndhzhtml = prepare(ndhz)
                var dhhzhtml = prepare(dhhz)
                var ndhtml = prepare(nd);
               	var dhhtml = prepare(dh);
 				var all=dhhzhtml+ dhhtml +ndhzhtml+ndhtml
                $("#test").html(all);
            }
        })
    }
   
    function prepare(data,col) {
    	var col= ["jizu",'qidongyongshi',"type","zongyongshi","dhzcc","cczbw","bwz50fh","qdhy","qdhm","qdhs","qdhd","qdpjfl","zqwd","zqwdbz","zqyl","zqylbz","zrqw","zrqwbz","zrqy","zrqybz","zfl","zflbz","gsll","gsllbz","zqll","zqllbz"]
        var html_string =[];
        for(var i = 0 ;i<data.length; i++){
            html_string.push("<tr>");
            var d= data[i];
            var colValue = "";
            for(var j = 0;j<col.length;j++){
                colValue = getColValue(col[j],d[col[j]]);
                if(!d[col[j]]){
                    d[col[j]] = "";
                }
                html_string.push("<td>"+colValue+"</td>")
            }
            html_string.push("</tr>");
        }
        return html_string.join("");
    }
    function getColValue(col,value) {
        if(col==="jizu"){
        	var mid = value.substr(0,1);
        	if(isNaN(mid)){
        		if(value =="nd"){
        			value = "宁东电厂"
        		}
        		if(value == "dh"){
        			value = "岱海电厂"
        		}
        		
        	} else {
        	value = "#"+mid;
        	}
            
        }
        if(col == "zongyongshi"){
        	value = value.replace(/天/g,"天")
        	value = value.replace(/小时|时|h|分钟|分|m/g,":")
        	//value = value.replace(/分钟|分/g,":")
            value = value.replace(/秒/g,"")
        }
        if(!value){
            value = "";
        }
        return value;
    }

</script>
</body>
</html>